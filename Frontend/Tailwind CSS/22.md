# Chapter 22: Accessibility - Complete In-Depth Guide

## Table of Contents
1. [Introduction to Web Accessibility](#introduction-to-web-accessibility)
2. [Screen Reader Utilities](#1-screen-reader-utilities)
3. [Focus Management](#2-focus-management)
4. [Forced Colors Mode](#3-forced-colors-mode)
5. [Reduced Motion](#4-reduced-motion)
6. [Print Styles](#5-print-styles)
7. [ARIA States](#6-aria-states)
8. [Contrast & Visibility](#7-contrast--visibility)
9. [Complete Accessibility Checklist](#complete-accessibility-checklist)

---

## Introduction to Web Accessibility

### What is Web Accessibility?

Web accessibility (a11y) means making websites usable by **everyone**, including people with disabilities. This includes:

- üëÅÔ∏è **Visual impairments** - Blindness, low vision, color blindness
- üëÇ **Hearing impairments** - Deafness, hard of hearing
- üñêÔ∏è **Motor impairments** - Difficulty using a mouse, tremors
- üß† **Cognitive impairments** - Dyslexia, ADHD, memory issues
- üåê **Situational limitations** - Bright sunlight, noisy environment, broken arm

### Why Accessibility Matters:

1. **Legal Requirement** - Many countries require web accessibility (ADA, WCAG)
2. **Ethical Responsibility** - Everyone deserves equal access
3. **Better UX for All** - Accessible design benefits everyone
4. **Larger Audience** - ~15% of world population has some disability
5. **SEO Benefits** - Many accessibility practices improve SEO
6. **Better Code** - Accessible code is often cleaner and more semantic

### The Numbers:

```
1 in 4 adults in the US has some type of disability
285 million people worldwide are visually impaired
466 million people worldwide have hearing loss
Over 1 billion people have some form of disability
```

### WCAG Levels:

| Level | Requirement | Description |
|-------|-------------|-------------|
| **A** | Minimum | Basic accessibility features |
| **AA** | Mid-range | Standard target (most laws require this) |
| **AAA** | Highest | Enhanced accessibility |

Most organizations aim for **WCAG 2.1 Level AA compliance**.

---

## 1. Screen Reader Utilities

### What are Screen Readers?

Screen readers are assistive technologies that read website content aloud for people who are blind or have low vision. Popular screen readers include:

- **JAWS** (Windows) - Most popular, commercial
- **NVDA** (Windows) - Free, open-source
- **VoiceOver** (macOS/iOS) - Built into Apple devices
- **TalkBack** (Android) - Built into Android devices
- **ORCA** (Linux) - Open-source

### 1.1 sr-only (Screen Reader Only)

#### What is it?

The `sr-only` utility hides content visually but keeps it accessible to screen readers. This is crucial for providing context that's visually obvious but needs to be explicitly stated for screen reader users.

#### The CSS Behind sr-only:

```css
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
```

**Why this specific combination?**
- Element technically exists in the DOM
- Screen readers can access it
- Takes up no visual space
- Doesn't affect layout
- Can't be seen by sighted users

#### Common Use Cases:

**1. Icon-Only Buttons:**

```html
<!-- ‚ùå BAD: No text for screen readers -->
<button class="p-2 bg-blue-500 rounded">
  <svg><!-- Search icon --></svg>
</button>

<!-- ‚úÖ GOOD: Hidden text for screen readers -->
<button class="p-2 bg-blue-500 rounded">
  <span class="sr-only">Search</span>
  <svg class="w-5 h-5" aria-hidden="true"><!-- Search icon --></svg>
</button>
```

**Screen reader reads:** "Search, button"

**2. Form Labels (When Design Doesn't Show Label):**

```html
<!-- ‚ùå BAD: No label association -->
<input type="search" placeholder="Search products..." />

<!-- ‚úÖ GOOD: Hidden label for screen readers -->
<label for="search" class="sr-only">Search products</label>
<input 
  type="search" 
  id="search"
  placeholder="Search products..."
  class="px-4 py-2 border rounded-lg"
/>
```

**Why this matters:** Screen readers need explicit labels. Placeholders disappear and aren't reliable for accessibility.

**3. Skip Navigation Links:**

```html
<!-- Allows keyboard users to skip repetitive navigation -->
<a 
  href="#main-content" 
  class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 
         focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white 
         focus:rounded-lg"
>
  Skip to main content
</a>

<nav>
  <!-- Navigation links -->
</nav>

<main id="main-content">
  <!-- Main content -->
</main>
```

**How it works:** 
- Hidden by default (sr-only)
- Visible when focused with Tab key
- Allows keyboard users to skip navigation
- Screen reader users hear it immediately

**4. Additional Context for Links:**

```html
<!-- ‚ùå BAD: "Read more" is ambiguous -->
<article>
  <h3>Product Launch Announcement</h3>
  <p>We're excited to announce...</p>
  <a href="/article/123">Read more</a>
</article>

<!-- ‚úÖ GOOD: Context provided -->
<article>
  <h3>Product Launch Announcement</h3>
  <p>We're excited to announce...</p>
  <a href="/article/123">
    Read more
    <span class="sr-only"> about Product Launch Announcement</span>
  </a>
</article>
```

**Screen reader reads:** "Read more about Product Launch Announcement"

**5. Status Messages:**

```html
<!-- Loading state with screen reader feedback -->
<button 
  disabled
  class="px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50"
>
  <svg class="animate-spin w-5 h-5" aria-hidden="true"><!-- Spinner --></svg>
  <span>Loading</span>
  <span class="sr-only">Please wait, loading content</span>
</button>

<!-- Success message -->
<div class="p-4 bg-green-50 border border-green-200 rounded-lg">
  <div class="flex items-center gap-2">
    <svg class="w-5 h-5 text-green-500" aria-hidden="true"><!-- Check icon --></svg>
    <span>Saved successfully</span>
  </div>
  <span class="sr-only">Your changes have been saved successfully</span>
</div>
```

**6. Data Tables - Additional Column Context:**

```html
<table class="w-full border-collapse">
  <thead>
    <tr class="bg-gray-100">
      <th class="p-3 text-left">Product</th>
      <th class="p-3 text-right">Price</th>
      <th class="p-3 text-center">Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="p-3">Laptop</td>
      <td class="p-3 text-right">$999</td>
      <td class="p-3 text-center">
        <button class="text-blue-600 hover:text-blue-800">
          <svg aria-hidden="true"><!-- Edit icon --></svg>
          <span class="sr-only">Edit Laptop</span>
        </button>
        <button class="text-red-600 hover:text-red-800 ml-2">
          <svg aria-hidden="true"><!-- Delete icon --></svg>
          <span class="sr-only">Delete Laptop</span>
        </button>
      </td>
    </tr>
  </tbody>
</table>
```

**Screen reader reads:** "Edit Laptop, button" and "Delete Laptop, button" - providing clear context.

### 1.2 not-sr-only

#### What is it?

The `not-sr-only` utility removes the `sr-only` styles, making content visible again. This is typically used with state variants.

#### Use Cases:

**1. Toggle Visibility on Focus (Skip Links):**

```html
<a 
  href="#main" 
  class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 
         focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-lg
         focus:z-50"
>
  Skip to main content
</a>
```

**Behavior:**
- Default: Hidden (sr-only)
- On Tab focus: Visible at top-left of page
- On blur: Hidden again

**2. Show Additional Info on Focus:**

```html
<div class="relative group">
  <button class="p-2 rounded hover:bg-gray-100">
    <svg class="w-5 h-5" aria-hidden="true"><!-- Help icon --></svg>
    <span class="sr-only">Help information</span>
  </button>
  <div class="sr-only group-hover:not-sr-only absolute top-full mt-2 p-3 
              bg-gray-900 text-white text-sm rounded-lg w-64">
    This feature allows you to...
  </div>
</div>
```

### Complete Screen Reader Example:

```html
<!-- Accessible Card Component -->
<article class="p-6 bg-white rounded-xl shadow-lg">
  <!-- Card header with icon -->
  <div class="flex items-center gap-3 mb-4">
    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
      <svg class="w-6 h-6 text-blue-600" aria-hidden="true">
        <!-- Icon -->
      </svg>
      <span class="sr-only">Notification</span>
    </div>
    <div>
      <h3 class="text-lg font-bold text-gray-900">New Message</h3>
      <p class="text-sm text-gray-600">2 minutes ago</p>
    </div>
  </div>

  <!-- Card content -->
  <p class="text-gray-700 mb-4">
    You have received a new message from John Doe.
  </p>

  <!-- Action buttons -->
  <div class="flex gap-2">
    <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
      View Message
      <span class="sr-only">from John Doe</span>
    </button>
    <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
      <svg class="w-5 h-5" aria-hidden="true"><!-- Archive icon --></svg>
      <span class="sr-only">Archive notification</span>
    </button>
    <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
      <svg class="w-5 h-5" aria-hidden="true"><!-- Dismiss icon --></svg>
      <span class="sr-only">Dismiss notification</span>
    </button>
  </div>
</article>
```

### Best Practices:

‚úÖ **DO:**
- Use sr-only for icon-only buttons
- Provide context for ambiguous links
- Use for skip navigation links
- Add sr-only labels to form inputs without visible labels
- Announce dynamic content changes

‚ùå **DON'T:**
- Use `display: none` or `visibility: hidden` (screen readers ignore these)
- Hide important content that sighted users need
- Overuse sr-only text (keep it concise)
- Forget to test with actual screen readers

---

## 2. Focus Management

### Why Focus Management Matters:

Focus indicates which element is currently active and ready for interaction. For keyboard users (including many people with motor disabilities), focus is their primary way of navigating.

**Statistics:**
- Many users navigate entirely by keyboard
- Screen reader users rely on focus for context
- Motor impairments may prevent mouse use
- Power users prefer keyboard navigation

### 2.1 Focus Styles

#### Default Browser Focus:

```html
<!-- Browser default (usually a blue outline) -->
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg">
  Default Focus
</button>
```

**Problem:** Default focus styles are often:
- Inconsistent across browsers
- Not visible enough
- Don't match design system

#### Custom Focus with outline-none:

```html
<!-- ‚ùå TERRIBLE: Removes focus with no replacement -->
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg focus:outline-none">
  No Focus Indicator (Inaccessible!)
</button>

<!-- ‚úÖ GOOD: Custom focus indicator -->
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               focus:outline-none focus:ring-4 focus:ring-blue-300">
  Custom Focus Ring
</button>
```

**Critical Rule:** If you use `focus:outline-none`, you **must** provide an alternative focus indicator.

#### Focus Ring Patterns:

**1. Standard Focus Ring:**

```html
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               focus:outline-none focus:ring-2 focus:ring-blue-500">
  Standard Ring
</button>
```

**2. Ring with Offset:**

```html
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
  Ring with Offset
</button>
```

**Visual:** Creates space between element and ring for better visibility.

**3. Ring with Custom Offset Color:**

```html
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               focus:outline-none focus:ring-2 focus:ring-white 
               focus:ring-offset-2 focus:ring-offset-blue-600">
  Inverted Ring
</button>
```

**4. Multiple States:**

```html
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               hover:bg-blue-700
               focus:outline-none focus:ring-4 focus:ring-blue-300
               active:bg-blue-800
               disabled:opacity-50 disabled:cursor-not-allowed">
  All States
</button>
```

### 2.2 focus vs focus-visible

#### The Key Difference:

| Variant | Triggers on | Use Case |
|---------|------------|----------|
| `focus:` | Mouse click AND keyboard | Form inputs, always show focus |
| `focus-visible:` | ONLY keyboard (Tab) | Buttons, links (cleaner UX) |

#### Example Comparison:

```html
<!-- Always shows focus ring (even on click) -->
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               focus:outline-none focus:ring-4 focus:ring-blue-300">
  focus: - Shows on click too
</button>

<!-- Only shows focus ring when using keyboard -->
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-blue-300">
  focus-visible: - Keyboard only
</button>
```

**When to use which:**

```html
<!-- Use focus: for form inputs (always show) -->
<input 
  type="text"
  class="px-4 py-2 border border-gray-300 rounded-lg
         focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>

<!-- Use focus-visible: for buttons/links (keyboard only) -->
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-blue-300">
  Click Me
</button>
```

### 2.3 focus-within

#### What is it?

`focus-within` applies styles to a parent element when any child has focus.

#### Use Cases:

**1. Highlight Form Groups:**

```html
<div class="p-4 border-2 border-gray-200 rounded-lg
            focus-within:border-blue-500 focus-within:bg-blue-50
            transition-colors">
  <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">
    Email Address
  </label>
  <input 
    type="email" 
    id="email"
    class="w-full px-4 py-2 border-0 bg-transparent focus:outline-none"
    placeholder="you@example.com"
  />
  <p class="text-xs text-gray-600 mt-1">
    We'll never share your email
  </p>
</div>
```

**Visual:** Entire container changes when input inside is focused.

**2. Search Bar with Icon:**

```html
<div class="flex items-center gap-2 px-4 py-2 border-2 border-gray-300 rounded-lg
            focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-200
            transition-all">
  <svg class="w-5 h-5 text-gray-400" aria-hidden="true">
    <!-- Search icon -->
  </svg>
  <input 
    type="search"
    class="flex-1 border-0 focus:outline-none bg-transparent"
    placeholder="Search..."
  />
  <span class="sr-only">Search</span>
</div>
```

**3. Card with Interactive Elements:**

```html
<div class="p-6 border border-gray-200 rounded-xl
            focus-within:border-blue-500 focus-within:shadow-lg
            transition-all">
  <h3 class="text-lg font-bold mb-2">Article Title</h3>
  <p class="text-gray-600 mb-4">Article excerpt...</p>
  <a 
    href="/article/123" 
    class="text-blue-600 hover:text-blue-800 focus:outline-none focus:underline"
  >
    Read more ‚Üí
  </a>
</div>
```

**Visual:** Card gets a border and shadow when link inside is focused.

### 2.4 Focus Trap (Modal Dialogs)

When a modal opens, focus should be trapped inside until it closes.

```html
<!-- Modal with proper focus management -->
<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
  <div 
    role="dialog" 
    aria-labelledby="modal-title"
    aria-describedby="modal-description"
    class="bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl"
  >
    <!-- Focus should start here -->
    <h2 id="modal-title" class="text-2xl font-bold text-gray-900 mb-4">
      Confirm Action
    </h2>
    
    <p id="modal-description" class="text-gray-600 mb-6">
      Are you sure you want to delete this item? This action cannot be undone.
    </p>

    <div class="flex gap-3 justify-end">
      <button 
        class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50
               focus:outline-none focus:ring-2 focus:ring-gray-400"
      >
        Cancel
      </button>
      <button 
        class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700
               focus:outline-none focus:ring-2 focus:ring-red-500"
      >
        Delete
      </button>
    </div>
    
    <!-- Tab from last element should cycle back to first -->
  </div>
</div>
```

**JavaScript for focus trap:**

```javascript
// When modal opens
const modal = document.querySelector('[role="dialog"]');
const focusableElements = modal.querySelectorAll(
  'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
);
const firstElement = focusableElements[0];
const lastElement = focusableElements[focusableElements.length - 1];

// Focus first element
firstElement.focus();

// Trap focus
modal.addEventListener('keydown', (e) => {
  if (e.key === 'Tab') {
    if (e.shiftKey) { // Shift + Tab
      if (document.activeElement === firstElement) {
        e.preventDefault();
        lastElement.focus();
      }
    } else { // Tab
      if (document.activeElement === lastElement) {
        e.preventDefault();
        firstElement.focus();
      }
    }
  }
  
  // Close on Escape
  if (e.key === 'Escape') {
    closeModal();
  }
});
```

### 2.5 Tabindex Management

#### Understanding tabindex:

| Value | Behavior |
|-------|----------|
| `tabindex="-1"` | Not in tab order, but focusable via JS |
| `tabindex="0"` | In natural tab order, focusable |
| `tabindex="1+"` | Custom tab order (‚ùå avoid!) |

#### Examples:

```html
<!-- Make non-interactive element focusable -->
<div 
  tabindex="0"
  role="button"
  class="px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer
         focus:outline-none focus:ring-2 focus:ring-blue-300"
  onclick="handleClick()"
  onkeypress="if(event.key==='Enter')handleClick()"
>
  Custom Button (div)
</div>

<!-- Skip element in tab order -->
<a href="/decorative" tabindex="-1" aria-hidden="true">
  Decorative link not for keyboard users
</a>

<!-- ‚ùå AVOID: Custom tab order is confusing -->
<input type="text" tabindex="3" />
<input type="text" tabindex="1" />
<input type="text" tabindex="2" />
```

### Complete Focus Management Example:

```html
<form class="max-w-lg space-y-6">
  <!-- Skip link -->
  <a 
    href="#submit" 
    class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4
           focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white
           focus:rounded-lg"
  >
    Skip to submit button
  </a>

  <!-- Form group with focus-within -->
  <div class="focus-within:ring-2 focus-within:ring-blue-200 rounded-lg transition-all">
    <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
      Full Name
    </label>
    <input 
      type="text"
      id="name"
      required
      class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg
             focus:outline-none focus:border-blue-500
             invalid:border-red-500"
    />
  </div>

  <!-- Email with focus indicator -->
  <div>
    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
      Email
    </label>
    <input 
      type="email"
      id="email"
      required
      class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg
             focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100"
    />
  </div>

  <!-- Buttons with focus-visible -->
  <div class="flex gap-3" id="submit">
    <button 
      type="button"
      class="flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg
             hover:bg-gray-50
             focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-gray-300"
    >
      Cancel
    </button>
    <button 
      type="submit"
      class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg
             hover:bg-blue-700
             focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-blue-300"
    >
      Submit
    </button>
  </div>
</form>
```

---

## 3. Forced Colors Mode

### What is Forced Colors Mode?

Forced Colors Mode (also called High Contrast Mode on Windows) is an accessibility feature where the operating system overrides website colors with a high-contrast color scheme.

**Who uses it:**
- People with low vision
- People with light sensitivity
- People with certain cognitive disabilities
- People working in bright sunlight

### Common High Contrast Themes:

| Theme | Background | Text | Links | Selected |
|-------|-----------|------|-------|----------|
| High Contrast Black | Black | White | Yellow | Cyan |
| High Contrast White | White | Black | Blue | Green |
| High Contrast #1 | Black | White | Cyan | Lime |
| High Contrast #2 | Black | White | Lime | Magenta |

### The Problem:

```html
<!-- ‚ùå In forced colors mode, this may become invisible -->
<div class="p-4 bg-blue-100 border-4 border-blue-500 text-blue-900">
  All colors might become the same in high contrast
</div>
```

### 3.1 forced-colors: variant

Tailwind provides the `forced-colors:` variant to style elements specifically for forced colors mode.

#### Basic Usage:

```html
<!-- Ensure border is visible in forced colors mode -->
<div class="border border-gray-300 forced-colors:border-2 forced-colors:border-current">
  Content
</div>
```

#### Complete Examples:

**1. Button in Forced Colors:**

```html
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               hover:bg-blue-700
               focus:outline-none focus:ring-4 focus:ring-blue-300
               forced-colors:border-2 forced-colors:border-current">
  Click Me
</button>
```

**Why:** In forced colors mode, the button will get a visible border using the current text color.

**2. Card with Forced Colors Support:**

```html
<div class="p-6 bg-white border border-gray-200 rounded-xl shadow-lg
            forced-colors:border-2 forced-colors:border-current">
  <h3 class="text-xl font-bold text-gray-900">Card Title</h3>
  <p class="text-gray-600 mt-2">Card content that remains readable</p>
  <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg
                 forced-colors:border-2 forced-colors:border-current">
    Action
  </button>
</div>
```

**3. Form Inputs:**

```html
<input 
  type="text"
  class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg
         focus:border-blue-500 focus:ring-2 focus:ring-blue-200
         forced-colors:border-current"
/>
```

**4. Icons and Graphics:**

```html
<!-- Ensure SVG icons remain visible -->
<svg 
  class="w-6 h-6 text-blue-600 forced-colors:text-current"
  fill="currentColor"
  viewBox="0 0 24 24"
>
  <path d="..."/>
</svg>
```

### 3.2 forced-color-adjust

Controls whether elements participate in forced colors mode.

```html
<!-- Prevent forced colors from affecting this element -->
<div class="forced-color-adjust-none bg-blue-600 text-white p-4">
  This keeps its custom colors even in high contrast mode
</div>

<!-- Allow forced colors (default) -->
<div class="forced-color-adjust-auto">
  This respects user's high contrast settings
</div>
```

**‚ö†Ô∏è Warning:** Only use `forced-color-adjust-none` for critical branding elements like logos. Generally, you should respect user preferences.

### Best Practices for Forced Colors:

```html
<!-- ‚úÖ GOOD: Comprehensive forced colors support -->
<div class="bg-white border border-gray-200 rounded-lg shadow-lg p-6
            forced-colors:border-2 forced-colors:border-current">
  
  <h2 class="text-2xl font-bold text-gray-900 mb-4">
    Product Information
  </h2>

  <div class="flex items-center gap-4 mb-4">
    <img 
      src="product.jpg" 
      alt="Product name"
      class="w-20 h-20 object-cover rounded forced-colors:border-2 forced-colors:border-current"
    />
    <div>
      <p class="font-semibold">Product Name</p>
      <p class="text-gray-600">$99.99</p>
    </div>
  </div>

  <button class="w-full px-4 py-2 bg-blue-600 text-white rounded-lg
                 hover:bg-blue-700
                 focus:outline-none focus:ring-4 focus:ring-blue-300
                 forced-colors:border-2 forced-colors:border-current">
    Add to Cart
  </button>
</div>
```

### Testing Forced Colors Mode:

**Windows:**
1. Settings ‚Üí Ease of Access ‚Üí High Contrast
2. Choose a high contrast theme
3. Test your website

**Browser DevTools:**
- Chrome: DevTools ‚Üí Rendering ‚Üí Emulate CSS media feature `prefers-contrast`
- Firefox: DevTools ‚Üí Accessibility ‚Üí Simulate ‚Üí Contrast

---

## 4. Reduced Motion

### What is Reduced Motion?

`prefers-reduced-motion` is a user preference indicating they want minimal animation and motion on websites.

### Who Needs Reduced Motion?

- ü§¢ **Vestibular disorders** - Motion causes nausea, dizziness
- üß† **Cognitive disabilities** - Motion is distracting
- üéÆ **Attention disorders** - Animations break focus
- ‚ö° **Seizure disorders** - Rapid motion can trigger seizures
- üîã **Performance concerns** - Animations drain battery

### Statistics:

```
~35% of users prefer reduced motion
~1 in 4 adults experience motion sickness from animations
Parallax scrolling can cause nausea in 25-40% of users
```

### 4.1 motion-reduce: and motion-safe:

Tailwind provides two variants:

| Variant | Applies when | Use case |
|---------|-------------|----------|
| `motion-reduce:` | User prefers reduced motion | Disable/simplify animations |
| `motion-safe:` | User allows motion | Add animations |

### Basic Pattern:

```html
<!-- Animation disabled by default, enabled if user allows -->
<div class="motion-safe:animate-bounce">
  Content
</div>

<!-- Animation enabled by default, disabled if user prefers -->
<div class="animate-spin motion-reduce:animate-none">
  Content
</div>
```

### 4.2 Common Use Cases:

**1. Disable Auto-Play Animations:**

```html
<!-- Spinner animation -->
<div class="animate-spin motion-reduce:animate-none">
  <svg class="w-8 h-8"><!-- Loading spinner --></svg>
</div>

<!-- Bounce animation -->
<div class="animate-bounce motion-reduce:animate-none">
  ‚Üì Scroll down
</div>

<!-- Pulse animation -->
<div class="animate-pulse motion-reduce:animate-none">
  <div class="h-4 bg-gray-200 rounded"></div>
</div>
```

**2. Transition Adjustments:**

```html
<!-- Slow transition for reduced motion -->
<button class="px-4 py-2 bg-blue-600 text-white rounded-lg
               transition-all duration-300
               motion-reduce:transition-none
               hover:bg-blue-700 hover:scale-105
               motion-reduce:hover:scale-100">
  Button
</button>
```

**3. Transform Animations:**

```html
<!-- Card hover effect -->
<div class="transform transition-transform duration-300
            hover:-translate-y-2 hover:shadow-xl
            motion-reduce:hover:translate-y-0 motion-reduce:transition-none">
  <img src="card.jpg" alt="Card" />
  <h3>Card Title</h3>
</div>
```

**4. Progressive Enhancement Approach:**

```html
<!-- Start with no animation, add if user allows motion -->
<div class="motion-safe:animate-fade-in motion-safe:transition-all motion-safe:duration-500">
  Content fades in only if motion is safe
</div>
```

### 4.3 Complete Examples:

**Accessible Loading Spinner:**

```html
<div class="flex items-center gap-3">
  <svg 
    class="w-6 h-6 animate-spin motion-reduce:animate-none"
    fill="none"
    viewBox="0 0 24 24"
  >
    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
  </svg>
  <span>Loading...</span>
  <span class="sr-only">Please wait, content is loading</span>
</div>
```

**Accessible Notification Toast:**

```html
<div 
  role="alert"
  class="fixed top-4 right-4 p-4 bg-green-500 text-white rounded-lg shadow-lg
         transform translate-x-0
         motion-safe:animate-slide-in
         motion-reduce:animate-none"
>
  <div class="flex items-center gap-3">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span>Success! Your changes have been saved.</span>
  </div>
</div>

<style>
@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in {
  animation: slide-in 0.3s ease-out;
}

@media (prefers-reduced-motion: reduce) {
  .animate-slide-in {
    animation: none;
  }
}
</style>
```

**Accessible Accordion:**

```html
<div class="border border-gray-200 rounded-lg">
  <button 
    class="w-full px-4 py-3 flex items-center justify-between
           hover:bg-gray-50
           focus:outline-none focus:ring-2 focus:ring-blue-500"
    aria-expanded="false"
    onclick="toggleAccordion(this)"
  >
    <span class="font-semibold">Question 1</span>
    <svg 
      class="w-5 h-5 transform transition-transform duration-200
             motion-reduce:transition-none"
      fill="none" 
      stroke="currentColor" 
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
    </svg>
  </button>
  <div 
    class="hidden px-4 py-3 border-t border-gray-200"
    role="region"
  >
    <p class="text-gray-600">Answer to question 1...</p>
  </div>
</div>
```

**Image Gallery with Reduced Motion:**

```html
<div class="grid grid-cols-3 gap-4">
  <div class="group relative overflow-hidden rounded-lg cursor-pointer">
    <img 
      src="image1.jpg" 
      alt="Gallery image 1"
      class="w-full h-64 object-cover
             transform transition-transform duration-300
             motion-reduce:transition-none
             group-hover:scale-110
             motion-reduce:group-hover:scale-100"
    />
    <div class="absolute inset-0 bg-black/50 opacity-0
                transition-opacity duration-300
                motion-reduce:transition-none
                group-hover:opacity-100">
      <div class="flex items-center justify-center h-full">
        <span class="text-white font-semibold">View Image</span>
      </div>
    </div>
  </div>
</div>
```

### Best Practices:

```html
<!-- ‚úÖ GOOD: Respect user preferences -->
<div class="animate-bounce motion-reduce:animate-none">
  Content
</div>

<!-- ‚úÖ GOOD: Provide alternative feedback -->
<button class="transform transition-transform
               hover:scale-105 motion-reduce:hover:scale-100
               hover:bg-blue-700 motion-reduce:hover:bg-blue-600">
  Even with reduced motion, color still changes
</button>

<!-- ‚ùå BAD: Ignoring user preferences -->
<div class="animate-bounce">
  <!-- No motion-reduce variant -->
</div>

<!-- ‚ùå BAD: Removing all feedback -->
<button class="hover:scale-105 motion-reduce:hover:scale-100">
  <!-- No alternative feedback for reduced motion users -->
</button>
```

### Testing Reduced Motion:

**Operating System:**
- **macOS:** System Preferences ‚Üí Accessibility ‚Üí Display ‚Üí Reduce motion
- **Windows:** Settings ‚Üí Ease of Access ‚Üí Display ‚Üí Show animations
- **iOS:** Settings ‚Üí Accessibility ‚Üí Motion ‚Üí Reduce Motion
- **Android:** Settings ‚Üí Accessibility ‚Üí Remove animations

**Browser DevTools:**
- Chrome: DevTools ‚Üí Rendering ‚Üí Emulate CSS media feature `prefers-reduced-motion`
- Firefox: DevTools ‚Üí Accessibility ‚Üí Simulate ‚Üí Motion

---

## 5. Print Styles

### Why Print Styles Matter:

Even in 2024, people print web pages:
- Legal documents and contracts
- Recipes and instructions
- Articles and blog posts
- Invoices and receipts
- Educational materials

### 5.1 print: variant

Tailwind provides the `print:` variant to apply styles only when printing.

#### Common Use Cases:

**1. Hide Navigation and UI Elements:**

```html
<!-- Hide navigation when printing -->
<nav class="print:hidden">
  <a href="/">Home</a>
  <a href="/about">About</a>
  <a href="/contact">Contact</a>
</nav>

<!-- Hide interactive elements -->
<button class="print:hidden">Click Me</button>

<!-- Hide video players -->
<video class="print:hidden" controls>
  <source src="video.mp4" type="video/mp4">
</video>
```

**2. Adjust Layout for Print:**

```html
<!-- Full width for print -->
<main class="container mx-auto px-4 print:px-0 print:max-w-none">
  <article class="max-w-3xl print:max-w-none">
    Content
  </article>
</main>
```

**3. Change Colors for Print:**

```html
<!-- Dark backgrounds waste ink -->
<div class="bg-gray-900 text-white print:bg-white print:text-black">
  Content
</div>

<!-- Remove shadows for print -->
<div class="shadow-xl print:shadow-none">
  Card content
</div>
```

**4. Show Print-Only Content:**

```html
<!-- Hidden on screen, visible when printing -->
<div class="hidden print:block">
  <p>Printed on: <span id="print-date"></span></p>
  <p>URL: <span id="print-url"></span></p>
</div>
```

**5. Adjust Typography:**

```html
<!-- Smaller text saves paper -->
<article class="text-base print:text-sm">
  <h1 class="text-4xl print:text-2xl">Article Title</h1>
  <p>Article content...</p>
</article>
```

### 5.2 Complete Print-Optimized Page:

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Print-Friendly Article</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 print:bg-white">
  
  <!-- Skip to content (hidden in print) -->
  <a href="#content" class="sr-only focus:not-sr-only print:hidden">
    Skip to content
  </a>

  <!-- Header -->
  <header class="bg-blue-600 text-white p-4 print:hidden">
    <nav class="container mx-auto">
      <a href="/">Home</a>
      <a href="/about">About</a>
    </nav>
  </header>

  <!-- Print-only header -->
  <div class="hidden print:block border-b-2 border-black pb-4 mb-8">
    <h1 class="text-2xl font-bold">My Website</h1>
    <p class="text-sm">www.example.com</p>
  </div>

  <!-- Main content -->
  <main id="content" class="container mx-auto px-4 py-8 print:px-0 print:py-0">
    <article class="max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8
                    print:max-w-none print:shadow-none print:rounded-none">
      
      <!-- Article header -->
      <header class="mb-8">
        <h1 class="text-4xl font-bold text-gray-900 mb-4 print:text-3xl">
          Complete Guide to Web Accessibility
        </h1>
        <div class="flex items-center gap-4 text-gray-600 text-sm print:text-xs">
          <span>By John Doe</span>
          <span>‚Ä¢</span>
          <time datetime="2024-01-15">January 15, 2024</time>
        </div>
      </header>

      <!-- Featured image (smaller in print) -->
      <img 
        src="hero.jpg" 
        alt="Accessibility illustration"
        class="w-full h-96 object-cover rounded-lg mb-8
               print:h-48 print:rounded-none"
      />

      <!-- Article content -->
      <div class="prose max-w-none
                  print:text-sm print:leading-relaxed">
        <p>Article content here...</p>
        
        <!-- Link with print URL -->
        <p>
          Visit our website at 
          <a href="https://example.com" 
             class="text-blue-600 hover:underline
                    print:text-black print:after:content-['_(https://example.com)']">
            example.com
          </a>
        </p>
      </div>

      <!-- Share buttons (hidden in print) -->
      <div class="flex gap-3 mt-8 pt-8 border-t border-gray-200 print:hidden">
        <button class="px-4 py-2 bg-blue-600 text-white rounded-lg">
          Share
        </button>
        <button class="px-4 py-2 bg-gray-200 rounded-lg">
          Save
        </button>
      </div>

      <!-- Print information (visible only in print) -->
      <div class="hidden print:block mt-8 pt-4 border-t border-gray-300 text-xs text-gray-600">
        <p>Printed from: https://example.com/article/123</p>
        <p>Printed on: <span id="print-date"></span></p>
        <p>¬© 2024 My Website. All rights reserved.</p>
      </div>
    </article>

    <!-- Sidebar (hidden in print) -->
    <aside class="mt-8 print:hidden">
      <div class="bg-white rounded-lg shadow-lg p-6">
        <h3 class="font-bold mb-4">Related Articles</h3>
        <ul class="space-y-2">
          <li><a href="#" class="text-blue-600 hover:underline">Article 1</a></li>
          <li><a href="#" class="text-blue-600 hover:underline">Article 2</a></li>
        </ul>
      </div>
    </aside>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white p-8 mt-12 print:hidden">
    <div class="container mx-auto">
      <p>¬© 2024 My Website</p>
    </div>
  </footer>

  <script>
    // Add print date
    document.getElementById('print-date').textContent = new Date().toLocaleDateString();
    
    // Add print URL
    if (document.getElementById('print-url')) {
      document.getElementById('print-url').textContent = window.location.href;
    }
  </script>
</body>
</html>
```

### Print-Specific CSS:

```css
@media print {
  /* Remove backgrounds to save ink */
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Show URLs after links */
  a[href]:after {
    content: " (" attr(href) ")";
  }

  /* Avoid page breaks inside elements */
  img, table, figure {
    page-break-inside: avoid;
  }

  /* Add page breaks before h1 */
  h1 {
    page-break-before: always;
  }

  /* Avoid orphans and widows */
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
}
```

### Best Practices:

```html
<!-- ‚úÖ GOOD: Hide unnecessary elements -->
<nav class="print:hidden">Navigation</nav>
<button class="print:hidden">Interactive button</button>

<!-- ‚úÖ GOOD: Optimize colors for printing -->
<div class="bg-blue-600 text-white print:bg-white print:text-black print:border print:border-black">
  Content
</div>

<!-- ‚úÖ GOOD: Show print-specific info -->
<div class="hidden print:block">
  Printed on: [date]
  URL: [url]
</div>

<!-- ‚úÖ GOOD: Adjust layout -->
<main class="container px-4 print:px-0 print:max-w-none">
  Content
</main>

<!-- ‚ùå BAD: Leaving dark backgrounds -->
<div class="bg-gray-900 text-white">
  <!-- Wastes ink when printing -->
</div>

<!-- ‚ùå BAD: Not hiding interactive elements -->
<video controls><!-- Will show as blank space in print --></video>
```

---

## 6. ARIA States

### What is ARIA?

ARIA (Accessible Rich Internet Applications) provides additional semantics for assistive technologies through HTML attributes.

**Key ARIA attribute types:**
- **Roles**: Define what an element is (`role="button"`, `role="dialog"`)
- **States**: Define current state (`aria-expanded="true"`)
- **Properties**: Define characteristics (`aria-label="Close dialog"`)

### 6.1 Built-in ARIA State Variants:

Tailwind provides variants for common ARIA states:

| Variant | ARIA Attribute | Use Case |
|---------|---------------|----------|
| `aria-checked:` | `aria-checked="true"` | Custom checkboxes |
| `aria-selected:` | `aria-selected="true"` | Tabs, lists |
| `aria-expanded:` | `aria-expanded="true"` | Accordions, dropdowns |
| `aria-pressed:` | `aria-pressed="true"` | Toggle buttons |
| `aria-disabled:` | `aria-disabled="true"` | Disabled elements |
| `aria-hidden:` | `aria-hidden="true"` | Hidden elements |
| `aria-current:` | `aria-current="page"` | Current page link |

### 6.2 Examples by Component:

**1. Accordion with aria-expanded:**

```html
<div class="border border-gray-200 rounded-lg">
  <button 
    class="w-full px-4 py-3 flex items-center justify-between text-left
           hover:bg-gray-50
           focus:outline-none focus:ring-2 focus:ring-blue-500"
    aria-expanded="false"
    aria-controls="accordion-content-1"
    onclick="toggleAccordion(this)"
  >
    <span class="font-semibold">What is web accessibility?</span>
    <svg 
      class="w-5 h-5 transform transition-transform
             aria-expanded:rotate-180"
      fill="none" 
      stroke="currentColor" 
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
    </svg>
  </button>
  <div 
    id="accordion-content-1"
    class="hidden aria-expanded:block px-4 py-3 border-t border-gray-200"
    role="region"
    aria-labelledby="accordion-button-1"
  >
    <p class="text-gray-600">
      Web accessibility means making websites usable by everyone, including people with disabilities.
    </p>
  </div>
</div>

<script>
function toggleAccordion(button) {
  const isExpanded = button.getAttribute('aria-expanded') === 'true';
  button.setAttribute('aria-expanded', !isExpanded);
  
  const content = document.getElementById(button.getAttribute('aria-controls'));
  content.classList.toggle('hidden');
}
</script>
```

**2. Tabs with aria-selected:**

```html
<div>
  <!-- Tab list -->
  <div 
    role="tablist" 
    class="flex border-b border-gray-200"
    aria-label="Content tabs"
  >
    <button 
      role="tab"
      aria-selected="true"
      aria-controls="panel-1"
      id="tab-1"
      class="px-4 py-2 font-semibold
             aria-selected:text-blue-600 aria-selected:border-b-2 aria-selected:border-blue-600
             aria-selected:bg-blue-50
             hover:bg-gray-50
             focus:outline-none focus:ring-2 focus:ring-blue-500"
      onclick="selectTab(this, 'panel-1')"
    >
      Overview
    </button>
    <button 
      role="tab"
      aria-selected="false"
      aria-controls="panel-2"
      id="tab-2"
      class="px-4 py-2 font-semibold text-gray-600
             aria-selected:text-blue-600 aria-selected:border-b-2 aria-selected:border-blue-600
             aria-selected:bg-blue-50
             hover:bg-gray-50
             focus:outline-none focus:ring-2 focus:ring-blue-500"
      onclick="selectTab(this, 'panel-2')"
    >
      Details
    </button>
    <button 
      role="tab"
      aria-selected="false"
      aria-controls="panel-3"
      id="tab-3"
      class="px-4 py-2 font-semibold text-gray-600
             aria-selected:text-blue-600 aria-selected:border-b-2 aria-selected:border-blue-600
             aria-selected:bg-blue-50
             hover:bg-gray-50
             focus:outline-none focus:ring-2 focus:ring-blue-500"
      onclick="selectTab(this, 'panel-3')"
    >
      Specs
    </button>
  </div>

  <!-- Tab panels -->
  <div 
    id="panel-1" 
    role="tabpanel" 
    aria-labelledby="tab-1"
    class="p-4"
  >
    <h3 class="font-bold mb-2">Overview</h3>
    <p>Overview content...</p>
  </div>
  <div 
    id="panel-2" 
    role="tabpanel" 
    aria-labelledby="tab-2"
    class="hidden p-4"
  >
    <h3 class="font-bold mb-2">Details</h3>
    <p>Details content...</p>
  </div>
  <div 
    id="panel-3" 
    role="tabpanel" 
    aria-labelledby="tab-3"
    class="hidden p-4"
  >
    <h3 class="font-bold mb-2">Specifications</h3>
    <p>Specs content...</p>
  </div>
</div>
```

**3. Toggle Button with aria-pressed:**

```html
<button 
  role="button"
  aria-pressed="false"
  class="flex items-center gap-2 px-4 py-2 border-2 border-gray-300 rounded-lg
         hover:bg-gray-50
         focus:outline-none focus:ring-2 focus:ring-blue-500
         aria-pressed:bg-blue-600 aria-pressed:text-white aria-pressed:border-blue-600"
  onclick="toggleButton(this)"
>
  <svg 
    class="w-5 h-5 hidden aria-pressed:block" 
    fill="currentColor" 
    viewBox="0 0 20 20"
  >
    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
  </svg>
  <span>Subscribe to newsletter</span>
</button>

<script>
function toggleButton(button) {
  const isPressed = button.getAttribute('aria-pressed') === 'true';
  button.setAttribute('aria-pressed', !isPressed);
}
</script>
```

**4. Custom Checkbox with aria-checked:**

```html
<label class="flex items-center gap-3 cursor-pointer">
  <div 
    role="checkbox"
    tabindex="0"
    aria-checked="false"
    aria-labelledby="checkbox-label"
    class="w-5 h-5 border-2 border-gray-300 rounded flex items-center justify-center
           aria-checked:bg-blue-600 aria-checked:border-blue-600
           focus:outline-none focus:ring-2 focus:ring-blue-500
           transition-colors"
    onclick="toggleCheckbox(this)"
    onkeypress="if(event.key==='Enter'||event.key===' ')toggleCheckbox(this)"
  >
    <svg 
      class="w-3 h-3 text-white hidden aria-checked:block" 
      fill="none" 
      stroke="currentColor" 
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 13l4 4L19 7"></path>
    </svg>
  </div>
  <span id="checkbox-label" class="select-none">
    I agree to the terms and conditions
  </span>
</label>

<script>
function toggleCheckbox(checkbox) {
  const isChecked = checkbox.getAttribute('aria-checked') === 'true';
  checkbox.setAttribute('aria-checked', !isChecked);
}
</script>
```

**5. Navigation with aria-current:**

```html
<nav aria-label="Main navigation">
  <ul class="flex gap-1">
    <li>
      <a 
        href="/" 
        aria-current="page"
        class="px-4 py-2 rounded-lg
               aria-current:bg-blue-600 aria-current:text-white aria-current:font-semibold
               hover:bg-gray-100
               focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        Home
      </a>
    </li>
    <li>
      <a 
        href="/about"
        class="px-4 py-2 rounded-lg
               aria-current:bg-blue-600 aria-current:text-white aria-current:font-semibold
               hover:bg-gray-100
               focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        About
      </a>
    </li>
    <li>
      <a 
        href="/contact"
        class="px-4 py-2 rounded-lg
               aria-current:bg-blue-600 aria-current:text-white aria-current:font-semibold
               hover:bg-gray-100
               focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        Contact
      </a>
    </li>
  </ul>
</nav>
```

### 6.3 Custom ARIA Variants:

For custom ARIA attributes, use arbitrary variants:

```html
<!-- Custom aria-sort attribute -->
<th 
  aria-sort="ascending"
  class="px-4 py-2 cursor-pointer
         aria-[sort=ascending]:bg-blue-50
         aria-[sort=descending]:bg-purple-50"
>
  Name
  <span class="ml-2 aria-[sort=ascending]:inline aria-[sort=descending]:hidden">‚Üë</span>
  <span class="ml-2 aria-[sort=ascending]:hidden aria-[sort=descending]:inline">‚Üì</span>
</th>

<!-- Custom aria-invalid -->
<input 
  type="text"
  aria-invalid="false"
  class="px-4 py-2 border-2 rounded-lg
         aria-[invalid=true]:border-red-500 aria-[invalid=true]:bg-red-50"
/>

<!-- Custom aria-busy -->
<div 
  aria-busy="false"
  class="p-4 
         aria-[busy=true]:opacity-50 aria-[busy=true]:pointer-events-none"
>
  Content
</div>
```

---

## 7. Contrast & Visibility

### 7.1 Color Contrast Requirements:

WCAG 2.1 specifies minimum contrast ratios:

| Level | Normal Text | Large Text | UI Components |
|-------|------------|------------|---------------|
| **AA** | 4.5:1 | 3:1 | 3:1 |
| **AAA** | 7:1 | 4.5:1 | Not specified |

**Large text** = 18pt+ (24px+) or 14pt+ (18.66px+) bold

### Common Contrast Issues:

```html
<!-- ‚ùå BAD: Insufficient contrast (2.5:1) -->
<p class="text-gray-400 bg-white">
  This text is too light to read easily
</p>

<!-- ‚úÖ GOOD: Sufficient contrast (7:1) -->
<p class="text-gray-700 bg-white">
  This text meets AAA standards
</p>

<!-- ‚ùå BAD: Poor contrast on colored background -->
<div class="bg-blue-400 text-blue-100">
  Hard to read
</div>

<!-- ‚úÖ GOOD: High contrast -->
<div class="bg-blue-600 text-white">
  Easy to read
</div>
```

### 7.2 Tailwind Color Combinations (AA Compliant):

**On White Background:**
- ‚úÖ `text-gray-700` or darker
- ‚úÖ `text-blue-600` or darker
- ‚úÖ `text-green-600` or darker
- ‚úÖ `text-red-600` or darker
- ‚ùå `text-gray-400` (too light)
- ‚ùå `text-yellow-400` (too light)

**On Dark Background (gray-900):**
- ‚úÖ `text-white`
- ‚úÖ `text-gray-100`
- ‚úÖ `text-gray-200`
- ‚ùå `text-gray-500` (insufficient contrast)

### 7.3 contrast-more: and contrast-less:

These variants apply when users adjust contrast preferences:

```html
<!-- Increase contrast for users who need it -->
<p class="text-gray-600 contrast-more:text-gray-900">
  Normal text becomes darker in high contrast mode
</p>

<!-- Borders more visible in high contrast -->
<div class="border border-gray-200 contrast-more:border-2 contrast-more:border-gray-400">
  Content
</div>

<!-- Reduce contrast for users who prefer it -->
<div class="bg-black text-white contrast-less:bg-gray-800 contrast-less:text-gray-200">
  Less extreme contrast for sensitive users
</div>
```

### 7.4 Complete Accessible Color System:

```html
<div class="max-w-4xl mx-auto p-8 space-y-8">
  
  <!-- Heading with proper contrast -->
  <h1 class="text-4xl font-bold text-gray-900 contrast-more:text-black">
    Accessible Color System
  </h1>

  <!-- Cards with proper contrast -->
  <div class="grid md:grid-cols-2 gap-6">
    
    <!-- Success message -->
    <div class="p-6 bg-green-50 border-2 border-green-200 rounded-lg
                contrast-more:border-green-400">
      <div class="flex items-center gap-3 mb-2">
        <svg class="w-6 h-6 text-green-600 contrast-more:text-green-800" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
        </svg>
        <h3 class="font-bold text-green-900">Success</h3>
      </div>
      <p class="text-green-800 contrast-more:text-green-900">
        Your changes have been saved successfully.
      </p>
    </div>

    <!-- Error message -->
    <div class="p-6 bg-red-50 border-2 border-red-200 rounded-lg
                contrast-more:border-red-400">
      <div class="flex items-center gap-3 mb-2">
        <svg class="w-6 h-6 text-red-600 contrast-more:text-red-800" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
        </svg>
        <h3 class="font-bold text-red-900">Error</h3>
      </div>
      <p class="text-red-800 contrast-more:text-red-900">
        An error occurred. Please try again.
      </p>
    </div>
  </div>

  <!-- Text samples -->
  <div class="space-y-4">
    <p class="text-gray-900">
      <strong>Black text on white:</strong> Highest contrast (21:1) - AAA
    </p>
    <p class="text-gray-700">
      <strong>Gray-700 on white:</strong> Good contrast (8.6:1) - AAA
    </p>
    <p class="text-gray-600 contrast-more:text-gray-700">
      <strong>Gray-600 on white:</strong> Minimum contrast (4.6:1) - AA (better in high contrast)
    </p>
  </div>

  <!-- Buttons with proper contrast -->
  <div class="flex flex-wrap gap-4">
    <button class="px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold
                   hover:bg-blue-700
                   focus:outline-none focus:ring-4 focus:ring-blue-300
                   contrast-more:bg-blue-700 contrast-more:font-bold">
      Primary Action
    </button>
    <button class="px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold
                   hover:bg-gray-50
                   focus:outline-none focus:ring-4 focus:ring-gray-200
                   contrast-more:border-gray-400 contrast-more:text-gray-900">
      Secondary Action
    </button>
  </div>

  <!-- Links with proper contrast -->
  <div class="space-y-2">
    <p>
      This is a paragraph with a 
      <a href="#" class="text-blue-600 hover:text-blue-800 underline
                        contrast-more:text-blue-700 contrast-more:font-semibold">
        link that meets contrast requirements
      </a>
      and provides clear indication.
    </p>
  </div>
</div>
```

### 7.5 Tools for Checking Contrast:

**Browser Extensions:**
- axe DevTools (Chrome, Firefox)
- WAVE (Chrome, Firefox)
- Accessibility Insights (Chrome, Edge)

**Online Tools:**
- WebAIM Contrast Checker
- Colour Contrast Analyser
- Adobe Color Accessibility Tools

**Tailwind-Specific:**
```javascript
// Check contrast in your tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        // Document contrast ratios for your brand colors
        'brand-primary': '#1E40AF', // 8.59:1 on white (AAA)
        'brand-text': '#374151',    // 10.75:1 on white (AAA)
      }
    }
  }
}
```

---

## Complete Accessibility Checklist

### ‚úÖ Semantic HTML
- [ ] Use proper heading hierarchy (h1 ‚Üí h2 ‚Üí h3)
- [ ] Use semantic elements (`<nav>`, `<main>`, `<article>`, `<aside>`)
- [ ] Use `<button>` for actions, `<a>` for navigation
- [ ] Use proper list markup (`<ul>`, `<ol>`, `<dl>`)
- [ ] Use `<label>` for all form inputs

### ‚úÖ Keyboard Navigation
- [ ] All interactive elements are keyboard accessible
- [ ] Focus indicators are visible and clear
- [ ] Tab order is logical
- [ ] Skip navigation link provided
- [ ] No keyboard traps
- [ ] Escape key closes modals/menus

### ‚úÖ Screen Readers
- [ ] All images have alt text (or aria-hidden if decorative)
- [ ] Icon buttons have sr-only labels
- [ ] Form inputs have associated labels
- [ ] Status messages are announced
- [ ] ARIA landmarks used appropriately
- [ ] ARIA states/properties used correctly

### ‚úÖ Visual Design
- [ ] Color contrast meets WCAG AA (4.5:1 for text)
- [ ] Color is not the only indicator of information
- [ ] Text is resizable without breaking layout
- [ ] Touch targets are at least 44x44px
- [ ] Links are distinguishable (underlined or distinct color)

### ‚úÖ Motion & Animation
- [ ] Animations respect prefers-reduced-motion
- [ ] No auto-playing videos with sound
- [ ] Parallax effects have reduced-motion alternative
- [ ] Loading spinners have reduced-motion alternative

### ‚úÖ Forms
- [ ] All inputs have labels
- [ ] Error messages are clear and associated with inputs
- [ ] Required fields are indicated
- [ ] Form submission provides feedback
- [ ] Validation messages are accessible

### ‚úÖ Media
- [ ] Videos have captions
- [ ] Audio has transcripts
- [ ] Complex images have detailed descriptions
- [ ] Auto-play can be paused/stopped

### ‚úÖ Testing
- [ ] Tested with keyboard only
- [ ] Tested with screen reader (NVDA/JAWS/VoiceOver)
- [ ] Tested at 200% zoom
- [ ] Tested in high contrast mode
- [ ] Automated testing with axe or WAVE
- [ ] Tested with real users with disabilities (ideal)

### Code Example: Fully Accessible Component

```html
<!-- Complete accessible card component -->
<article 
  class="p-6 bg-white border-2 border-gray-200 rounded-xl shadow-lg
         hover:shadow-xl hover:border-gray-300
         focus-within:border-blue-500 focus-within:ring-4 focus-within:ring-blue-200
         motion-safe:transition-all
         print:shadow-none print:border-black
         forced-colors:border-current
         contrast-more:border-gray-400"
  aria-labelledby="card-title"
>
  <!-- Card header with icon -->
  <div class="flex items-start gap-4 mb-4">
    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center shrink-0
                contrast-more:bg-blue-200">
      <svg 
        class="w-6 h-6 text-blue-600 contrast-more:text-blue-800" 
        aria-hidden="true"
        fill="currentColor" 
        viewBox="0 0 20 20"
      >
        <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"></path>
      </svg>
    </div>
    <div class="flex-1 min-w-0">
      <h3 
        id="card-title" 
        class="text-xl font-bold text-gray-900 mb-1 contrast-more:text-black"
      >
        Accessible Design
      </h3>
      <p class="text-sm text-gray-600 contrast-more:text-gray-800">
        Best practices guide
      </p>
    </div>
  </div>

  <!-- Card content -->
  <p class="text-gray-700 mb-4 leading-relaxed contrast-more:text-gray-900">
    Learn how to build accessible web applications that everyone can use, 
    regardless of their abilities or the assistive technologies they use.
  </p>

  <!-- Card actions -->
  <div class="flex gap-3">
    <a 
      href="/guide"
      class="flex-1 px-4 py-2 bg-blue-600 text-white text-center rounded-lg font-semibold
             hover:bg-blue-700
             focus:outline-none focus-visible:ring-4 focus-visible:ring-blue-300
             motion-safe:transition-colors
             print:hidden
             forced-colors:border-2 forced-colors:border-current
             contrast-more:bg-blue-700"
    >
      Read Guide
      <span class="sr-only"> about Accessible Design</span>
    </a>
    <button 
      class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg
             focus:outline-none focus-visible:ring-4 focus-visible:ring-gray-300
             motion-safe:transition-colors
             print:hidden"
      aria-label="Bookmark Accessible Design guide"
    >
      <svg class="w-6 h-6" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
      </svg>
    </button>
  </div>

  <!-- Print-only info -->
  <div class="hidden print:block mt-4 pt-4 border-t border-gray-300 text-sm text-gray-600">
    <p>Learn more at: https://example.com/guide</p>
  </div>
</article>
```

---

## Summary

### Key Accessibility Principles:

1. **Perceivable** - Information must be presentable to users in ways they can perceive
2. **Operable** - Interface components must be operable (keyboard, mouse, voice)
3. **Understandable** - Information and operation must be understandable
4. **Robust** - Content must work with current and future assistive technologies

### Tailwind Utilities for Accessibility:

| Utility | Purpose | Priority |
|---------|---------|----------|
| `sr-only` | Screen reader only content | Critical |
| `focus:ring-*` | Keyboard focus indicators | Critical |
| `motion-reduce:` | Respect motion preferences | High |
| `print:` | Print-optimized layouts | Medium |
| `aria-*:` | ARIA state styling | High |
| `contrast-more:` | High contrast support | Medium |
| `forced-colors:` | High contrast mode | Medium |

### Testing Checklist:

1. ‚úÖ Keyboard navigation (Tab, Enter, Space, Escape, Arrow keys)
2. ‚úÖ Screen reader (NVDA, JAWS, VoiceOver, TalkBack)
3. ‚úÖ Color contrast (4.5:1 minimum for text)
4. ‚úÖ Zoom to 200% (layout shouldn't break)
5. ‚úÖ Reduced motion (toggle system preference)
6. ‚úÖ High contrast mode (Windows High Contrast)
7. ‚úÖ Print preview (information should be accessible)
8. ‚úÖ Automated tools (axe, WAVE, Lighthouse)

### Resources:

- **Standards:** WCAG 2.1 (wcag.com)
- **Testing:** axe DevTools, WAVE, Lighthouse
- **Screen Readers:** NVDA (free), JAWS, VoiceOver
- **Learning:** WebAIM, A11y Project, MDN Accessibility Docs
- **Tailwind:** Official Accessibility Documentation

### Final Thoughts:

Accessibility is not optional - it's a fundamental requirement for modern web development. By using Tailwind's accessibility utilities and following best practices, you can create inclusive experiences that work for everyone.

Remember: **Good accessibility is good design for everyone.**

---

*This completes the comprehensive guide to Chapter 22: Accessibility. Practice these concepts and test with real assistive technologies to master accessible web development!*
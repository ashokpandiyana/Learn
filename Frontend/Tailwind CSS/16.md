# Chapter 16: Dark Mode

## 16.1 Understanding Dark Mode Strategies

Tailwind provides multiple strategies for implementing dark mode.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DARK MODE STRATEGIES                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. 'media' (default)                                           â”‚
â”‚     â€¢ Uses prefers-color-scheme CSS media query                â”‚
â”‚     â€¢ Automatic based on OS/browser settings                   â”‚
â”‚     â€¢ No JavaScript required                                    â”‚
â”‚     â€¢ No user override possible                                 â”‚
â”‚                                                                  â”‚
â”‚  2. 'class'                                                     â”‚
â”‚     â€¢ Uses .dark class on parent element                       â”‚
â”‚     â€¢ Manual control via JavaScript                            â”‚
â”‚     â€¢ User can override OS preference                          â”‚
â”‚     â€¢ Can persist preference in localStorage                   â”‚
â”‚                                                                  â”‚
â”‚  3. 'selector' (v3.4+)                                          â”‚
â”‚     â€¢ Uses any CSS selector                                     â”‚
â”‚     â€¢ Most flexible option                                      â”‚
â”‚     â€¢ Great for data-attribute based themes                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 16.2 Configuration Options

### Strategy 1: Media (Default)

```javascript
// tailwind.config.js
module.exports = {
  darkMode: 'media', // Default - can be omitted
  // ...
}
```

```html
<!-- Automatically responds to OS preference -->
<div class="bg-white dark:bg-gray-900">
  <p class="text-gray-900 dark:text-white">
    Changes based on system settings
  </p>
</div>
```

```css
/* Generated CSS */
.bg-white { background-color: #ffffff; }
.text-gray-900 { color: #111827; }

@media (prefers-color-scheme: dark) {
  .dark\:bg-gray-900 { background-color: #111827; }
  .dark\:text-white { color: #ffffff; }
}
```

### Strategy 2: Class

```javascript
// tailwind.config.js
module.exports = {
  darkMode: 'class',
  // ...
}
```

```html
<!-- Requires .dark class on html or parent element -->
<html class="dark">
  <body class="bg-white dark:bg-gray-900">
    <p class="text-gray-900 dark:text-white">
      Controlled by .dark class
    </p>
  </body>
</html>
```

```css
/* Generated CSS */
.bg-white { background-color: #ffffff; }
.text-gray-900 { color: #111827; }

.dark .dark\:bg-gray-900 { background-color: #111827; }
.dark .dark\:text-white { color: #ffffff; }
```

### Strategy 3: Selector (v3.4+)

```javascript
// tailwind.config.js
module.exports = {
  darkMode: 'selector', // Uses .dark by default
  // or
  darkMode: ['selector', '[data-theme="dark"]'],
  // or
  darkMode: ['selector', '.dark-mode'],
}
```

```html
<!-- Using data attribute -->
<html data-theme="dark">
  <body class="bg-white dark:bg-gray-900">
    Content
  </body>
</html>

<!-- Using custom class -->
<html class="dark-mode">
  <body class="bg-white dark:bg-gray-900">
    Content
  </body>
</html>
```

### Class vs Selector Difference

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLASS vs SELECTOR                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  darkMode: 'class'                                              â”‚
â”‚  Generated: .dark .dark\:bg-gray-900 { ... }                   â”‚
â”‚  â€¢ Requires .dark on ANCESTOR element                          â”‚
â”‚  â€¢ .dark on same element won't work                            â”‚
â”‚                                                                  â”‚
â”‚  darkMode: 'selector'                                           â”‚
â”‚  Generated: .dark\:bg-gray-900:where(.dark, .dark *) { ... }   â”‚
â”‚  â€¢ Works on same element OR descendants                        â”‚
â”‚  â€¢ More flexible                                                â”‚
â”‚                                                                  â”‚
â”‚  Example with 'class':                                          â”‚
â”‚  <div class="dark dark:bg-gray-900"> â† Won't work!             â”‚
â”‚                                                                  â”‚
â”‚  Example with 'selector':                                       â”‚
â”‚  <div class="dark dark:bg-gray-900"> â† Works!                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 16.3 Implementing Dark Mode Toggle

### Basic Toggle (Class Strategy)

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <script>
    // Check for saved preference or system preference
    if (localStorage.theme === 'dark' || 
        (!('theme' in localStorage) && 
         window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }
  </script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
  
  <!-- Toggle Button -->
  <button id="theme-toggle" class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700">
    <!-- Sun icon (shown in dark mode) -->
    <svg class="hidden dark:block w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
      <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"/>
    </svg>
    <!-- Moon icon (shown in light mode) -->
    <svg class="block dark:hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
      <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
    </svg>
  </button>

  <script>
    const toggle = document.getElementById('theme-toggle');
    
    toggle.addEventListener('click', () => {
      // Toggle dark class
      document.documentElement.classList.toggle('dark');
      
      // Save preference
      if (document.documentElement.classList.contains('dark')) {
        localStorage.theme = 'dark';
      } else {
        localStorage.theme = 'light';
      }
    });
  </script>
</body>
</html>
```

### Three-Way Toggle (System/Light/Dark)

```javascript
// Theme options: 'light', 'dark', 'system'

function setTheme(theme) {
  localStorage.theme = theme;
  updateTheme();
}

function updateTheme() {
  const isDark = localStorage.theme === 'dark' ||
    (localStorage.theme === 'system' && 
     window.matchMedia('(prefers-color-scheme: dark)').matches);
  
  document.documentElement.classList.toggle('dark', isDark);
}

// Listen for system changes when set to 'system'
window.matchMedia('(prefers-color-scheme: dark)')
  .addEventListener('change', updateTheme);

// Initial setup
updateTheme();
```

```html
<!-- Three-way toggle UI -->
<div class="flex rounded-lg bg-gray-200 dark:bg-gray-700 p-1">
  <button onclick="setTheme('light')" 
          class="px-3 py-1 rounded-md text-sm
                 data-[active]:bg-white data-[active]:shadow"
          data-active={localStorage.theme === 'light'}>
    â˜€ï¸ Light
  </button>
  <button onclick="setTheme('dark')"
          class="px-3 py-1 rounded-md text-sm
                 data-[active]:bg-white data-[active]:shadow"
          data-active={localStorage.theme === 'dark'}>
    ğŸŒ™ Dark
  </button>
  <button onclick="setTheme('system')"
          class="px-3 py-1 rounded-md text-sm
                 data-[active]:bg-white data-[active]:shadow"
          data-active={localStorage.theme === 'system'}>
    ğŸ’» System
  </button>
</div>
```

### React Implementation

```jsx
import { useState, useEffect } from 'react';

function useTheme() {
  const [theme, setTheme] = useState(() => {
    if (typeof window !== 'undefined') {
      return localStorage.theme || 'system';
    }
    return 'system';
  });

  useEffect(() => {
    const root = document.documentElement;
    const isDark = theme === 'dark' || 
      (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches);
    
    root.classList.toggle('dark', isDark);
    localStorage.theme = theme;
  }, [theme]);

  return [theme, setTheme];
}

function ThemeToggle() {
  const [theme, setTheme] = useTheme();

  return (
    <button
      onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
      className="p-2 rounded-lg bg-gray-200 dark:bg-gray-700"
    >
      {theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™'}
    </button>
  );
}
```

---

## 16.4 Using the dark: Variant

### Basic Usage

```html
<!-- Color changes -->
<div class="bg-white dark:bg-gray-900">
  <h1 class="text-gray-900 dark:text-white">Heading</h1>
  <p class="text-gray-600 dark:text-gray-400">Paragraph</p>
</div>

<!-- Borders -->
<div class="border border-gray-200 dark:border-gray-700">
  Content
</div>

<!-- Shadows -->
<div class="shadow-lg dark:shadow-gray-900/30">
  Card with adapted shadow
</div>

<!-- Images -->
<img class="dark:opacity-80 dark:brightness-90" src="photo.jpg">

<!-- Icons that change color -->
<svg class="text-gray-600 dark:text-gray-400">...</svg>

<!-- Different images for different modes -->
<img class="dark:hidden" src="logo-dark.svg">
<img class="hidden dark:block" src="logo-light.svg">
```

### Stacking with Other Variants

```html
<!-- dark: + hover: -->
<button class="bg-blue-500 hover:bg-blue-600 
               dark:bg-blue-600 dark:hover:bg-blue-500">
  Button
</button>

<!-- dark: + focus: -->
<input class="border-gray-300 focus:border-blue-500 focus:ring-blue-500
              dark:border-gray-600 dark:focus:border-blue-400 dark:focus:ring-blue-400">

<!-- dark: + responsive -->
<div class="bg-white md:bg-gray-100 
            dark:bg-gray-900 dark:md:bg-gray-800">
  Responsive + dark
</div>

<!-- dark: + group-hover: -->
<div class="group">
  <span class="text-gray-600 group-hover:text-gray-900
               dark:text-gray-400 dark:group-hover:text-white">
    Hover text
  </span>
</div>
```

---

## 16.5 Color Mapping Strategy

### Systematic Approach

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COLOR MAPPING GUIDE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  BACKGROUNDS                                                     â”‚
â”‚  â”œâ”€â”€ Page background                                            â”‚
â”‚  â”‚   Light: white / gray-50                                     â”‚
â”‚  â”‚   Dark:  gray-900 / gray-950                                â”‚
â”‚  â”œâ”€â”€ Card/Surface                                               â”‚
â”‚  â”‚   Light: white                                               â”‚
â”‚  â”‚   Dark:  gray-800                                           â”‚
â”‚  â”œâ”€â”€ Elevated surface                                           â”‚
â”‚  â”‚   Light: gray-50 / gray-100                                 â”‚
â”‚  â”‚   Dark:  gray-700 / gray-750                                â”‚
â”‚  â””â”€â”€ Hover states                                               â”‚
â”‚      Light: gray-50 / gray-100                                 â”‚
â”‚      Dark:  gray-700 / gray-800                                â”‚
â”‚                                                                  â”‚
â”‚  TEXT                                                           â”‚
â”‚  â”œâ”€â”€ Primary (headings)                                         â”‚
â”‚  â”‚   Light: gray-900                                           â”‚
â”‚  â”‚   Dark:  white / gray-100                                   â”‚
â”‚  â”œâ”€â”€ Secondary (body)                                           â”‚
â”‚  â”‚   Light: gray-600 / gray-700                                â”‚
â”‚  â”‚   Dark:  gray-300 / gray-400                                â”‚
â”‚  â”œâ”€â”€ Muted (captions)                                           â”‚
â”‚  â”‚   Light: gray-500                                           â”‚
â”‚  â”‚   Dark:  gray-400 / gray-500                                â”‚
â”‚  â””â”€â”€ Disabled                                                   â”‚
â”‚      Light: gray-400                                           â”‚
â”‚      Dark:  gray-600                                           â”‚
â”‚                                                                  â”‚
â”‚  BORDERS                                                        â”‚
â”‚  â”œâ”€â”€ Default                                                    â”‚
â”‚  â”‚   Light: gray-200                                           â”‚
â”‚  â”‚   Dark:  gray-700                                           â”‚
â”‚  â”œâ”€â”€ Subtle                                                     â”‚
â”‚  â”‚   Light: gray-100                                           â”‚
â”‚  â”‚   Dark:  gray-800                                           â”‚
â”‚  â””â”€â”€ Strong                                                     â”‚
â”‚      Light: gray-300                                           â”‚
â”‚      Dark:  gray-600                                           â”‚
â”‚                                                                  â”‚
â”‚  BRAND COLORS                                                   â”‚
â”‚  â”œâ”€â”€ Primary                                                    â”‚
â”‚  â”‚   Light: blue-500 / blue-600                                â”‚
â”‚  â”‚   Dark:  blue-400 / blue-500                                â”‚
â”‚  â””â”€â”€ Links                                                      â”‚
â”‚      Light: blue-600                                           â”‚
â”‚      Dark:  blue-400                                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Using CSS Variables for Theming

```javascript
// tailwind.config.js
module.exports = {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        // Semantic color names using CSS variables
        background: 'rgb(var(--color-background) / <alpha-value>)',
        foreground: 'rgb(var(--color-foreground) / <alpha-value>)',
        card: 'rgb(var(--color-card) / <alpha-value>)',
        'card-foreground': 'rgb(var(--color-card-foreground) / <alpha-value>)',
        primary: 'rgb(var(--color-primary) / <alpha-value>)',
        'primary-foreground': 'rgb(var(--color-primary-foreground) / <alpha-value>)',
        secondary: 'rgb(var(--color-secondary) / <alpha-value>)',
        muted: 'rgb(var(--color-muted) / <alpha-value>)',
        'muted-foreground': 'rgb(var(--color-muted-foreground) / <alpha-value>)',
        border: 'rgb(var(--color-border) / <alpha-value>)',
      },
    },
  },
}
```

```css
/* globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-background: 255 255 255;      /* white */
    --color-foreground: 17 24 39;         /* gray-900 */
    --color-card: 255 255 255;            /* white */
    --color-card-foreground: 17 24 39;    /* gray-900 */
    --color-primary: 59 130 246;          /* blue-500 */
    --color-primary-foreground: 255 255 255;
    --color-secondary: 243 244 246;       /* gray-100 */
    --color-muted: 107 114 128;           /* gray-500 */
    --color-muted-foreground: 107 114 128;
    --color-border: 229 231 235;          /* gray-200 */
  }

  .dark {
    --color-background: 17 24 39;         /* gray-900 */
    --color-foreground: 255 255 255;      /* white */
    --color-card: 31 41 55;               /* gray-800 */
    --color-card-foreground: 255 255 255;
    --color-primary: 96 165 250;          /* blue-400 */
    --color-primary-foreground: 17 24 39;
    --color-secondary: 55 65 81;          /* gray-700 */
    --color-muted: 156 163 175;           /* gray-400 */
    --color-muted-foreground: 156 163 175;
    --color-border: 55 65 81;             /* gray-700 */
  }
}
```

```html
<!-- Usage - no dark: prefix needed! -->
<div class="bg-background text-foreground">
  <div class="bg-card text-card-foreground border border-border rounded-lg p-6">
    <h2 class="text-foreground">Card Title</h2>
    <p class="text-muted-foreground">Description</p>
    <button class="bg-primary text-primary-foreground">
      Action
    </button>
  </div>
</div>
```

---

## 16.6 Dark Mode Patterns

### Complete Page Layout

```html
<html class="dark">
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 
             min-h-screen transition-colors duration-300">
  
  <!-- Navigation -->
  <nav class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
    <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
      <span class="text-xl font-bold">Logo</span>
      <div class="flex items-center gap-4">
        <a class="text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
          Home
        </a>
        <a class="text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
          About
        </a>
        <button id="theme-toggle" class="p-2 rounded-lg 
                                          bg-gray-100 dark:bg-gray-700
                                          hover:bg-gray-200 dark:hover:bg-gray-600">
          ğŸŒ“
        </button>
      </div>
    </div>
  </nav>
  
  <!-- Main Content -->
  <main class="max-w-7xl mx-auto px-4 py-8">
    <!-- Card -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg dark:shadow-gray-900/30 p-6">
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
        Welcome
      </h1>
      <p class="mt-2 text-gray-600 dark:text-gray-400">
        This page supports dark mode!
      </p>
      <button class="mt-4 px-4 py-2 bg-blue-500 dark:bg-blue-600 
                     hover:bg-blue-600 dark:hover:bg-blue-500
                     text-white rounded-lg transition-colors">
        Get Started
      </button>
    </div>
  </main>
  
</body>
</html>
```

### Dark Mode Form

```html
<form class="space-y-4 p-6 bg-white dark:bg-gray-800 rounded-lg">
  <div>
    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
      Email
    </label>
    <input type="email" 
           class="w-full px-4 py-2 rounded-lg
                  bg-white dark:bg-gray-900
                  border border-gray-300 dark:border-gray-600
                  text-gray-900 dark:text-white
                  placeholder-gray-500 dark:placeholder-gray-400
                  focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                  focus:border-blue-500 dark:focus:border-blue-400"
           placeholder="you@example.com">
  </div>
  
  <div>
    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
      Password
    </label>
    <input type="password" 
           class="w-full px-4 py-2 rounded-lg
                  bg-white dark:bg-gray-900
                  border border-gray-300 dark:border-gray-600
                  text-gray-900 dark:text-white
                  placeholder-gray-500 dark:placeholder-gray-400
                  focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400">
  </div>
  
  <button type="submit"
          class="w-full py-2 px-4 rounded-lg font-medium
                 bg-blue-500 dark:bg-blue-600 text-white
                 hover:bg-blue-600 dark:hover:bg-blue-500
                 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
                 dark:focus:ring-offset-gray-800
                 transition-colors">
    Sign In
  </button>
</form>
```

### Dark Mode Images

```html
<!-- Different images for each mode -->
<picture>
  <source srcset="hero-dark.jpg" media="(prefers-color-scheme: dark)">
  <img src="hero-light.jpg" alt="Hero">
</picture>

<!-- Or with Tailwind classes -->
<img src="logo-light.svg" class="dark:hidden" alt="Logo">
<img src="logo-dark.svg" class="hidden dark:block" alt="Logo">

<!-- Adjust image brightness/contrast -->
<img src="photo.jpg" class="dark:brightness-90 dark:contrast-105">

<!-- Add overlay in dark mode -->
<div class="relative">
  <img src="photo.jpg" class="w-full">
  <div class="absolute inset-0 bg-black/0 dark:bg-black/20"></div>
</div>
```

### Dark Mode with prose (Typography Plugin)

```html
<article class="prose dark:prose-invert">
  <h1>Article Title</h1>
  <p>This content is automatically styled for dark mode...</p>
</article>

<!-- Or custom prose dark styles -->
<article class="prose 
                prose-headings:text-gray-900 dark:prose-headings:text-white
                prose-p:text-gray-600 dark:prose-p:text-gray-400
                prose-a:text-blue-600 dark:prose-a:text-blue-400
                prose-code:text-pink-600 dark:prose-code:text-pink-400">
  <h1>Article Title</h1>
  <p>Custom dark mode styling...</p>
</article>
```

---

## 16.7 Preventing Flash (FOUC)

### Script in Head

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Place this script BEFORE any CSS or other scripts -->
  <script>
    // Immediately check and apply theme to prevent flash
    (function() {
      const theme = localStorage.theme;
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      if (theme === 'dark' || (!theme && prefersDark)) {
        document.documentElement.classList.add('dark');
      }
    })();
  </script>
  <link rel="stylesheet" href="styles.css">
</head>
```

### With Color Scheme Meta

```html
<head>
  <meta name="color-scheme" content="light dark">
  <script>
    // Set color-scheme based on preference
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    document.documentElement.style.colorScheme = 
      localStorage.theme || (prefersDark ? 'dark' : 'light');
  </script>
</head>
```

---

## 16.8 Best Practices

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DARK MODE BEST PRACTICES                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. Don't just invert colors                                   â”‚
â”‚     â€¢ Reduce contrast slightly in dark mode                    â”‚
â”‚     â€¢ Use gray-100 not white for text                         â”‚
â”‚     â€¢ Colored elements often need lighter shades              â”‚
â”‚                                                                  â”‚
â”‚  2. Consider shadows carefully                                  â”‚
â”‚     â€¢ Regular shadows disappear on dark backgrounds            â”‚
â”‚     â€¢ Use colored shadows: shadow-gray-900/30                 â”‚
â”‚     â€¢ Or use borders/elevation with bg color                  â”‚
â”‚                                                                  â”‚
â”‚  3. Handle images and media                                     â”‚
â”‚     â€¢ Reduce brightness slightly                               â”‚
â”‚     â€¢ Consider providing dark-optimized variants              â”‚
â”‚     â€¢ Add subtle overlays if needed                           â”‚
â”‚                                                                  â”‚
â”‚  4. Test both modes equally                                     â”‚
â”‚     â€¢ Don't treat dark mode as afterthought                   â”‚
â”‚     â€¢ Check all states (hover, focus, disabled)               â”‚
â”‚     â€¢ Verify contrast ratios meet accessibility               â”‚
â”‚                                                                  â”‚
â”‚  5. Smooth transitions                                          â”‚
â”‚     â€¢ Add transition-colors to major containers               â”‚
â”‚     â€¢ Keep duration short (200-300ms)                         â”‚
â”‚                                                                  â”‚
â”‚  6. Persist user preference                                     â”‚
â”‚     â€¢ Save to localStorage                                     â”‚
â”‚     â€¢ Offer "system" option                                    â”‚
â”‚     â€¢ Apply before paint to prevent flash                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Interview Quick Tips

1. **"What dark mode strategies does Tailwind support?"**
   - `media`: OS preference (CSS media query)
   - `class`: Manual control via .dark class
   - `selector`: Custom selector (v3.4+)

2. **"How to prevent flash of wrong theme?"**
   - Inline script in `<head>` before CSS
   - Check localStorage/preference immediately

3. **"class vs selector strategy?"**
   - `class`: .dark must be on ancestor
   - `selector`: Works on same element too

4. **"How to make dark mode smooth?"**
   - Add `transition-colors duration-300` to containers

5. **"Best approach for theming?"**
   - CSS variables with semantic names
   - No dark: prefix needed in HTML

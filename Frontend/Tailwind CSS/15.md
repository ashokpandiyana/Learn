# Chapter 15: State Variants

## 15.1 Understanding Variants

Variants allow you to apply styles conditionally based on element state, parent state, or user preferences.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VARIANT TYPES                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. Pseudo-class variants (hover:, focus:, active:)            â”‚
â”‚     â†’ Based on element's own state                              â”‚
â”‚                                                                  â”‚
â”‚  2. Pseudo-element variants (before:, after:, placeholder:)    â”‚
â”‚     â†’ Style generated content                                   â”‚
â”‚                                                                  â”‚
â”‚  3. Parent-based variants (group-hover:, peer-checked:)        â”‚
â”‚     â†’ Based on another element's state                          â”‚
â”‚                                                                  â”‚
â”‚  4. Attribute variants (aria-selected:, data-[state=active]:)  â”‚
â”‚     â†’ Based on HTML attributes                                  â”‚
â”‚                                                                  â”‚
â”‚  5. Media/preference variants (dark:, motion-reduce:)          â”‚
â”‚     â†’ Based on user preferences                                 â”‚
â”‚                                                                  â”‚
â”‚  6. Responsive variants (md:, lg:, @container)                 â”‚
â”‚     â†’ Based on viewport/container size                          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 15.2 Interactive Pseudo-Classes

### hover: - Mouse Over

```html
<!-- Basic hover -->
<button class="bg-blue-500 hover:bg-blue-600">
  Hover me
</button>

<!-- Multiple hover effects -->
<div class="bg-white hover:bg-gray-50 hover:shadow-lg hover:scale-105 
            transition-all duration-200">
  Card with hover effects
</div>

<!-- Hover text decoration -->
<a class="text-blue-600 hover:text-blue-800 hover:underline">
  Link
</a>
```

### focus: - Element Has Focus

```html
<!-- Input focus -->
<input class="border border-gray-300 
              focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 
              focus:outline-none" 
       type="text">

<!-- Button focus -->
<button class="bg-blue-500 text-white px-4 py-2 rounded
               focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
  Focusable Button
</button>
```

### focus-visible: - Keyboard Focus Only

```html
<!-- Only shows focus ring for keyboard navigation, not mouse clicks -->
<button class="bg-blue-500 text-white px-4 py-2 rounded
               focus:outline-none 
               focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2">
  Keyboard-friendly focus
</button>
```

### focus-within: - Child Has Focus

```html
<!-- Parent styles when any child is focused -->
<div class="p-4 border border-gray-300 rounded
            focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-500/20">
  <label class="block text-sm font-medium mb-1">Email</label>
  <input class="w-full border-0 focus:ring-0" type="email">
</div>

<!-- Form section highlighting -->
<fieldset class="p-6 rounded-lg border 
                 focus-within:border-blue-500 focus-within:bg-blue-50/50">
  <legend>Personal Information</legend>
  <input type="text" placeholder="Name">
  <input type="email" placeholder="Email">
</fieldset>
```

### active: - Being Pressed

```html
<!-- Button press effect -->
<button class="bg-blue-500 hover:bg-blue-600 active:bg-blue-700
               transform active:scale-95 transition-all">
  Press me
</button>

<!-- Link active state -->
<a class="text-blue-600 active:text-blue-800">
  Click me
</a>
```

### visited: - Link Already Visited

```html
<a class="text-blue-600 visited:text-purple-600" href="/page">
  Link (purple if visited)
</a>
```

### Focus State Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FOCUS VARIANT COMPARISON                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  focus:                                                         â”‚
â”‚  â€¢ Triggered by ANY focus (mouse click, keyboard, programmatic)â”‚
â”‚  â€¢ Always shows focus styles                                    â”‚
â”‚  â€¢ Use for: Inputs, textareas                                   â”‚
â”‚                                                                  â”‚
â”‚  focus-visible:                                                 â”‚
â”‚  â€¢ Triggered only by keyboard navigation                        â”‚
â”‚  â€¢ Hides focus ring for mouse clicks                           â”‚
â”‚  â€¢ Use for: Buttons, links, interactive elements               â”‚
â”‚                                                                  â”‚
â”‚  focus-within:                                                  â”‚
â”‚  â€¢ Triggered when ANY child has focus                          â”‚
â”‚  â€¢ Applies to parent element                                    â”‚
â”‚  â€¢ Use for: Form groups, search bars, dropdowns                â”‚
â”‚                                                                  â”‚
â”‚  Recommendation:                                                â”‚
â”‚  â€¢ Inputs: focus:                                               â”‚
â”‚  â€¢ Buttons: focus-visible:                                      â”‚
â”‚  â€¢ Containers: focus-within:                                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 15.3 Form State Variants

### disabled: - Disabled Form Elements

```html
<input class="border rounded px-3 py-2
              disabled:bg-gray-100 disabled:text-gray-500 
              disabled:cursor-not-allowed disabled:opacity-50" 
       disabled>

<button class="bg-blue-500 text-white px-4 py-2 rounded
               disabled:bg-gray-400 disabled:cursor-not-allowed"
        disabled>
  Disabled Button
</button>
```

### enabled: - Enabled Form Elements

```html
<input class="enabled:bg-white enabled:hover:border-blue-500">
```

### checked: - Checked Checkbox/Radio

```html
<!-- Custom checkbox -->
<label class="flex items-center gap-2 cursor-pointer">
  <input type="checkbox" class="peer sr-only">
  <div class="w-5 h-5 border-2 rounded 
              peer-checked:bg-blue-500 peer-checked:border-blue-500
              flex items-center justify-center">
    <svg class="w-3 h-3 text-white hidden peer-checked:block">
      <path d="M5 13l4 4L19 7" stroke="currentColor" stroke-width="2" fill="none"/>
    </svg>
  </div>
  <span>Accept terms</span>
</label>

<!-- Checkbox styling directly -->
<input type="checkbox" 
       class="w-5 h-5 rounded border-gray-300 text-blue-500 
              checked:bg-blue-500 checked:border-blue-500 
              focus:ring-blue-500">
```

### indeterminate: - Partial Selection

```html
<input type="checkbox" 
       class="indeterminate:bg-gray-400 indeterminate:border-gray-400">
```

### required: - Required Field

```html
<input class="required:border-red-300" required>
```

### valid: and invalid: - Form Validation

```html
<input type="email" 
       class="border rounded px-3 py-2
              valid:border-green-500 valid:bg-green-50
              invalid:border-red-500 invalid:bg-red-50"
       required>

<!-- With icons -->
<div class="relative">
  <input type="email" 
         class="peer w-full border rounded px-3 py-2 pr-10
                valid:border-green-500 invalid:border-red-500"
         required>
  <span class="absolute right-3 top-1/2 -translate-y-1/2 
               hidden peer-valid:block text-green-500">âœ“</span>
  <span class="absolute right-3 top-1/2 -translate-y-1/2 
               hidden peer-invalid:block text-red-500">âœ—</span>
</div>
```

### in-range: and out-of-range:

```html
<input type="number" min="1" max="10"
       class="in-range:border-green-500 out-of-range:border-red-500">
```

### placeholder-shown: - Input Shows Placeholder

```html
<!-- Float label pattern -->
<div class="relative">
  <input type="text" 
         class="peer w-full border rounded px-3 pt-6 pb-2 placeholder-transparent"
         placeholder="Email">
  <label class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 
                transition-all duration-200
                peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base
                peer-focus:top-2 peer-focus:text-xs peer-focus:text-blue-500
                peer-[:not(:placeholder-shown)]:top-2 peer-[:not(:placeholder-shown)]:text-xs">
    Email
  </label>
</div>
```

### autofill: - Browser Autofilled

```html
<input class="autofill:bg-yellow-100 autofill:text-black"
       autocomplete="email">
```

### read-only:

```html
<input class="read-only:bg-gray-100 read-only:cursor-not-allowed" readonly>
```

---

## 15.4 Position-Based Variants

### first: and last:

```html
<ul>
  <li class="border-b first:rounded-t-lg last:rounded-b-lg last:border-b-0">
    Item 1
  </li>
  <li class="border-b first:rounded-t-lg last:rounded-b-lg last:border-b-0">
    Item 2
  </li>
  <li class="border-b first:rounded-t-lg last:rounded-b-lg last:border-b-0">
    Item 3
  </li>
</ul>
```

### odd: and even: - Zebra Striping

```html
<table>
  <tbody>
    <tr class="odd:bg-gray-50 even:bg-white hover:bg-blue-50">
      <td>Row 1</td>
    </tr>
    <tr class="odd:bg-gray-50 even:bg-white hover:bg-blue-50">
      <td>Row 2</td>
    </tr>
    <tr class="odd:bg-gray-50 even:bg-white hover:bg-blue-50">
      <td>Row 3</td>
    </tr>
  </tbody>
</table>
```

### only: - Only Child

```html
<div class="only:bg-blue-100">
  Only styled if I'm the only child
</div>
```

### first-of-type: and last-of-type:

```html
<article>
  <p class="first-of-type:font-bold first-of-type:text-xl">
    First paragraph (styled as intro)
  </p>
  <p>Second paragraph</p>
  <p class="last-of-type:text-gray-500 last-of-type:italic">
    Last paragraph
  </p>
</article>
```

### empty: - No Children

```html
<div class="empty:hidden empty:p-0">
  <!-- Hidden when empty, otherwise visible -->
</div>

<div class="p-4 border empty:border-dashed empty:border-gray-300">
  <!-- Shows dashed border when empty -->
</div>
```

---

## 15.5 Pseudo-Elements

### before: and after:

```html
<!-- Require content property! -->
<div class="before:content-['*'] before:text-red-500 before:mr-1">
  Required field
</div>

<a class="relative after:content-[''] after:absolute after:bottom-0 after:left-0 
          after:w-0 after:h-0.5 after:bg-blue-500 
          after:transition-all hover:after:w-full">
  Underline animation
</a>

<!-- Decorative elements -->
<h2 class="relative pl-4 
           before:content-[''] before:absolute before:left-0 before:top-0 
           before:w-1 before:h-full before:bg-blue-500">
  Section Title
</h2>

<!-- Quote marks -->
<blockquote class="before:content-['"'] after:content-['"'] 
                   before:text-4xl after:text-4xl text-gray-600">
  Quoted text here
</blockquote>
```

### placeholder:

```html
<input class="placeholder:text-gray-400 placeholder:italic"
       placeholder="Enter your email...">
```

### file: - File Input Button

```html
<input type="file" 
       class="file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0
              file:bg-blue-500 file:text-white file:font-semibold
              file:cursor-pointer hover:file:bg-blue-600">
```

### marker: - List Markers

```html
<ul class="list-disc marker:text-blue-500">
  <li>Blue bullet</li>
  <li>Blue bullet</li>
</ul>

<ol class="list-decimal marker:text-gray-400 marker:font-bold">
  <li>Gray number</li>
  <li>Gray number</li>
</ol>
```

### selection: - Text Selection

```html
<p class="selection:bg-pink-500 selection:text-white">
  Select this text to see pink highlighting
</p>
```

### first-line: and first-letter:

```html
<p class="first-line:font-bold first-line:text-lg">
  The first line will be bold and larger.
  This line will be normal.
</p>

<p class="first-letter:text-5xl first-letter:font-bold first-letter:float-left 
          first-letter:mr-2 first-letter:text-blue-600">
  Drop cap effect for the first letter.
</p>
```

### backdrop: - Dialog Backdrop

```html
<dialog class="backdrop:bg-black/50 backdrop:backdrop-blur-sm">
  <div class="p-6">Modal content</div>
</dialog>
```

---

## 15.6 Group and Peer Variants

### group - Parent State

Style children based on parent state.

```html
<!-- Basic group hover -->
<div class="group p-4 bg-white rounded-lg hover:bg-blue-500 transition-colors">
  <h3 class="text-gray-900 group-hover:text-white">Card Title</h3>
  <p class="text-gray-600 group-hover:text-blue-100">Card description</p>
  <span class="text-blue-600 group-hover:text-white">Learn more â†’</span>
</div>

<!-- Group focus -->
<button class="group p-4 focus:outline-none">
  <span class="group-focus:underline">Button text</span>
  <svg class="group-focus:rotate-90 transition-transform">...</svg>
</button>

<!-- Group active -->
<div class="group">
  <button class="group-active:scale-95">Press parent</button>
</div>
```

### Named Groups

```html
<!-- Multiple nested groups -->
<div class="group/card p-4 hover:bg-gray-50">
  <div class="group/title">
    <h3 class="group-hover/title:text-blue-600">Title</h3>
    <button class="group-hover/card:opacity-100 opacity-0">Edit</button>
  </div>
</div>

<!-- Separate groups -->
<div class="group/sidebar">
  <div class="group/item">
    <span class="group-hover/item:text-blue-500 group-hover/sidebar:visible">
      Item text
    </span>
  </div>
</div>
```

### peer - Sibling State

Style elements based on sibling state.

```html
<!-- Input validation feedback -->
<div>
  <input type="email" class="peer" required>
  <p class="hidden peer-invalid:block text-red-500 text-sm mt-1">
    Please enter a valid email
  </p>
</div>

<!-- Show/hide based on checkbox -->
<div>
  <input type="checkbox" id="toggle" class="peer sr-only">
  <label for="toggle" class="cursor-pointer">Toggle content</label>
  <div class="hidden peer-checked:block mt-4">
    This content shows when checkbox is checked
  </div>
</div>

<!-- Custom toggle switch -->
<label class="relative inline-flex items-center cursor-pointer">
  <input type="checkbox" class="sr-only peer">
  <div class="w-11 h-6 bg-gray-200 rounded-full 
              peer-checked:bg-blue-500 
              peer-focus:ring-4 peer-focus:ring-blue-500/20
              after:content-[''] after:absolute after:top-0.5 after:left-0.5
              after:bg-white after:rounded-full after:h-5 after:w-5 
              after:transition-all peer-checked:after:translate-x-5">
  </div>
  <span class="ml-3">Toggle</span>
</label>
```

### Named Peers

```html
<div>
  <input type="checkbox" id="terms" class="peer/terms">
  <input type="checkbox" id="newsletter" class="peer/newsletter">
  
  <button class="peer-checked/terms:bg-blue-500 
                 peer-checked/newsletter:border-green-500">
    Submit
  </button>
</div>
```

### Group vs Peer Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GROUP vs PEER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  GROUP (parent â†’ children):                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚  <div class="group">                â”‚  â† PARENT             â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                       â”‚
â”‚  â”‚    â”‚ group-hover:text-white    â”‚    â”‚  â† CHILD (styled)    â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                       â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                       â”‚
â”‚  â”‚    â”‚ group-hover:opacity-100   â”‚    â”‚  â† CHILD (styled)    â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚  Hover parent â†’ children change                                 â”‚
â”‚                                                                  â”‚
â”‚  PEER (sibling â†’ sibling):                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ <input class="peer"â”‚  â”‚ peer-invalid:block â”‚                â”‚
â”‚  â”‚ (triggers)         â”‚  â”‚ (responds)         â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  SIBLING                  SIBLING                               â”‚
â”‚                                                                  â”‚
â”‚  âš ï¸ Peer MUST come BEFORE the element that responds to it!     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 15.7 has: Variant (Parent Has Child)

Style parent based on child state.

```html
<!-- Parent styles when child is checked -->
<div class="has-[:checked]:bg-blue-50 has-[:checked]:border-blue-500 
            border rounded p-4">
  <input type="checkbox">
  <span>Option with parent styling</span>
</div>

<!-- Form field with error child -->
<div class="has-[:invalid]:border-red-500 border rounded p-4">
  <label>Email</label>
  <input type="email" required>
</div>

<!-- Card active when button focused -->
<div class="has-[:focus]:ring-2 has-[:focus]:ring-blue-500 p-4 rounded border">
  <h3>Card Title</h3>
  <button>Focus me</button>
</div>
```

### group-has: and peer-has:

```html
<!-- Group variant -->
<div class="group">
  <input type="checkbox">
  <span class="group-has-[:checked]:text-blue-600">
    Blue when sibling checked
  </span>
</div>

<!-- Peer variant -->
<div>
  <div class="peer">
    <input type="checkbox">
  </div>
  <span class="peer-has-[:checked]:font-bold">
    Bold when peer's child is checked
  </span>
</div>
```

---

## 15.8 Attribute Variants

### ARIA Attributes

```html
<!-- aria-expanded -->
<button aria-expanded="true" class="aria-expanded:bg-blue-100">
  Expanded button
</button>

<!-- aria-selected -->
<li aria-selected="true" class="aria-selected:bg-blue-500 aria-selected:text-white">
  Selected tab
</li>

<!-- aria-disabled -->
<button aria-disabled="true" class="aria-disabled:opacity-50 aria-disabled:cursor-not-allowed">
  Disabled button
</button>

<!-- aria-checked -->
<div role="checkbox" aria-checked="true" class="aria-checked:bg-blue-500">
  Custom checkbox
</div>

<!-- aria-current (navigation) -->
<a aria-current="page" class="aria-[current=page]:font-bold aria-[current=page]:text-blue-600">
  Current page
</a>

<!-- aria-hidden -->
<div aria-hidden="true" class="aria-hidden:opacity-0">
  Hidden from screen readers
</div>
```

### Data Attributes

```html
<!-- data-state -->
<div data-state="active" class="data-[state=active]:bg-green-500 data-[state=inactive]:bg-gray-500">
  State-based styling
</div>

<!-- data-size -->
<button data-size="large" class="data-[size=small]:text-sm data-[size=large]:text-lg">
  Sized button
</button>

<!-- Boolean data attributes -->
<div data-loading class="data-[loading]:animate-pulse">
  Loading state
</div>

<!-- With framework states -->
<div data-state="open" class="data-[state=open]:animate-in data-[state=closed]:animate-out">
  Animated component
</div>
```

### open: - Details/Dialog Open

```html
<details class="open:bg-gray-50 border rounded">
  <summary class="p-4 cursor-pointer">Click to expand</summary>
  <div class="p-4 pt-0">Hidden content</div>
</details>

<!-- Rotate icon when open -->
<details class="group">
  <summary class="flex items-center gap-2">
    <svg class="w-4 h-4 transition-transform group-open:rotate-90">
      <path d="M9 5l7 7-7 7"/>
    </svg>
    Accordion item
  </summary>
  <div class="pl-6">Content</div>
</details>
```

---

## 15.9 Stacking Variants

Combine multiple variants:

```html
<!-- Order: variant:variant:utility -->

<!-- Dark mode + hover -->
<button class="bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700">
  Dark mode aware hover
</button>

<!-- Responsive + state -->
<button class="text-sm md:text-base hover:text-blue-600 md:hover:text-blue-700">
  Responsive hover
</button>

<!-- Group + responsive + state -->
<div class="group">
  <span class="opacity-0 md:opacity-50 group-hover:opacity-100">
    Complex combination
  </span>
</div>

<!-- Focus + disabled -->
<input class="focus:ring-2 disabled:focus:ring-0 disabled:bg-gray-100">

<!-- Dark + focus-visible -->
<button class="focus-visible:ring-2 focus-visible:ring-blue-500 
               dark:focus-visible:ring-blue-400">
  Accessible focus
</button>
```

---

## 15.10 Practical Examples

### Complete Form Input

```html
<div class="relative">
  <input 
    type="email" 
    class="peer w-full px-4 py-3 rounded-lg border border-gray-300
           placeholder-transparent
           focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20
           valid:border-green-500 valid:focus:ring-green-500/20
           invalid:border-red-500 invalid:focus:ring-red-500/20
           disabled:bg-gray-100 disabled:cursor-not-allowed"
    placeholder="Email"
    required
  >
  <label class="absolute left-4 -top-2.5 px-1 bg-white text-sm text-gray-600
                transition-all
                peer-placeholder-shown:top-3 peer-placeholder-shown:text-base
                peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-blue-500
                peer-valid:text-green-600 peer-invalid:text-red-600">
    Email
  </label>
  <p class="hidden peer-invalid:block mt-1 text-sm text-red-500">
    Please enter a valid email address
  </p>
</div>
```

### Interactive Card

```html
<div class="group relative overflow-hidden rounded-xl bg-white shadow-md
            hover:shadow-xl transition-shadow duration-300">
  <!-- Image with overlay -->
  <div class="relative h-48 overflow-hidden">
    <img class="w-full h-full object-cover 
                group-hover:scale-110 transition-transform duration-500" 
         src="image.jpg">
    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent
                opacity-0 group-hover:opacity-100 transition-opacity"></div>
  </div>
  
  <!-- Content -->
  <div class="p-6">
    <h3 class="text-xl font-bold group-hover:text-blue-600 transition-colors">
      Card Title
    </h3>
    <p class="mt-2 text-gray-600">
      Description text...
    </p>
  </div>
  
  <!-- Hidden action button -->
  <button class="absolute bottom-4 right-4 px-4 py-2 bg-blue-500 text-white rounded
                 translate-y-full opacity-0 group-hover:translate-y-0 group-hover:opacity-100
                 transition-all duration-300">
    View
  </button>
</div>
```

### Accordion

```html
<div class="divide-y border rounded-lg">
  <details class="group p-4">
    <summary class="flex justify-between items-center cursor-pointer list-none">
      <span class="font-medium">Accordion Item 1</span>
      <svg class="w-5 h-5 transition-transform group-open:rotate-180">
        <path d="M6 9l6 6 6-6"/>
      </svg>
    </summary>
    <div class="pt-4 text-gray-600">
      Content for accordion item 1...
    </div>
  </details>
  
  <details class="group p-4">
    <summary class="flex justify-between items-center cursor-pointer list-none">
      <span class="font-medium">Accordion Item 2</span>
      <svg class="w-5 h-5 transition-transform group-open:rotate-180">
        <path d="M6 9l6 6 6-6"/>
      </svg>
    </summary>
    <div class="pt-4 text-gray-600">
      Content for accordion item 2...
    </div>
  </details>
</div>
```

---

## ğŸ’¡ Interview Quick Tips

1. **"focus vs focus-visible vs focus-within?"**
   - `focus`: Any focus
   - `focus-visible`: Keyboard focus only
   - `focus-within`: Child has focus

2. **"group vs peer?"**
   - `group`: Parent â†’ children
   - `peer`: Sibling â†’ sibling (peer must come first!)

3. **"How to style based on child state?"**
   - Use `has-[:state]` variant

4. **"How to style data attributes?"**
   - `data-[attribute=value]:` syntax

5. **"Can you stack variants?"**
   - Yes: `dark:md:hover:bg-blue-500`

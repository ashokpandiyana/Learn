# Chapter 12: CSS Architecture - In-Depth Explanation

## Introduction to CSS Architecture

**CSS Architecture** is about organizing and structuring CSS for **scalability**, **maintainability**, and **team collaboration**. Poor architecture leads to specificity wars, naming conflicts, and unmaintainable code.

**Why Architecture Matters:**
- Large projects need organization (1000+ lines of CSS)
- Multiple developers need consistency
- Code must be maintainable long-term
- Prevents CSS from becoming a nightmare

**Goals of Good Architecture:**
- Predictable (you know where to find/add styles)
- Reusable (DRY - Don't Repeat Yourself)
- Maintainable (easy to update)
- Scalable (works from 100 to 100,000 lines)

---

## 12.1 CSS Methodologies

### BEM (Block Element Modifier)

**Most popular methodology!** Provides clear naming convention for components.

**Structure:**
- **Block**: Standalone component (`.card`, `.menu`, `.button`)
- **Element**: Part of block (`.card__title`, `.menu__item`)
- **Modifier**: Variation of block or element (`.button--primary`, `.card--large`)

**Naming Pattern:**
```
.block { }
.block__element { }
.block--modifier { }
.block__element--modifier { }
```

**Complete Example:**

```html
<!-- Card Component -->
<div class="card card--featured">
    <img class="card__image" src="image.jpg">
    <div class="card__content">
        <h2 class="card__title">Title</h2>
        <p class="card__description">Description text</p>
        <button class="card__button card__button--primary">Read More</button>
    </div>
</div>
```

```css
/* Block */
.card {
    background: white;
    border-radius: 8px;
    padding: 20px;
}

/* Element */
.card__image {
    width: 100%;
    border-radius: 8px;
}

.card__title {
    font-size: 24px;
    margin-bottom: 10px;
}

.card__description {
    color: #666;
    margin-bottom: 15px;
}

.card__button {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

/* Modifier (variation) */
.card--featured {
    border: 2px solid gold;
}

.card__button--primary {
    background: blue;
    color: white;
}

.card__button--secondary {
    background: gray;
    color: white;
}
```

**BEM Benefits:**
- Clear naming (no confusion about relationships)
- Avoids specificity issues (all classes same specificity)
- Self-documenting (name tells structure)
- Component-based thinking

**BEM Drawbacks:**
- Long class names
- Verbose HTML
- Can look ugly

**Alternative BEM Variations:**
```css
/* Two underscores, two dashes (classic) */
.block__element--modifier { }

/* One underscore, one dash (simplified) */
.block_element-modifier { }

/* Camel case */
.blockElementModifier { }
```

---

### OOCSS (Object-Oriented CSS)

**Principles:**
1. **Separate structure from skin** (layout vs appearance)
2. **Separate container from content** (components work anywhere)

**Principle 1: Structure vs Skin**

```css
/* ‚ùå Mixing structure and skin */
.button {
    width: 200px;           /* Structure */
    height: 40px;           /* Structure */
    background: blue;       /* Skin */
    color: white;           /* Skin */
    border-radius: 4px;     /* Skin */
}

/* ‚úÖ Separated */
/* Structure (layout) */
.button {
    display: inline-block;
    padding: 10px 20px;
}

/* Skin (appearance) */
.button-primary {
    background: blue;
    color: white;
    border-radius: 4px;
}

.button-secondary {
    background: gray;
    color: white;
    border-radius: 4px;
}
```

**Principle 2: Container Independence**

```css
/* ‚ùå Location-dependent */
.sidebar h3 {
    font-size: 18px;
    color: blue;
}

.footer h3 {
    font-size: 18px;
    color: blue;
}

/* ‚úÖ Reusable object */
.heading-tertiary {
    font-size: 18px;
    color: blue;
}

/* Use anywhere */
<div class="sidebar">
    <h3 class="heading-tertiary">Title</h3>
</div>
<div class="footer">
    <h3 class="heading-tertiary">Title</h3>
</div>
```

**OOCSS Pattern:**
```css
/* Layout objects (structure) */
.media { display: flex; }
.media-image { flex: 0 0 auto; margin-right: 15px; }
.media-content { flex: 1; }

/* Skin objects (appearance) */
.skin-primary { background: blue; color: white; }
.skin-secondary { background: gray; color: white; }

/* Combine */
<div class="media skin-primary">
    <img class="media-image" src="...">
    <div class="media-content">...</div>
</div>
```

**Benefits:**
- Highly reusable
- Smaller CSS files
- Faster development (use existing objects)

**Drawbacks:**
- Many classes in HTML
- Requires discipline
- Learning curve

---

### SMACSS (Scalable and Modular Architecture)

**Categorizes CSS into 5 types:**

**1. Base** - Default element styles
```css
/* Base rules (no classes) */
html {
    box-sizing: border-box;
    font-size: 16px;
}

*, *::before, *::after {
    box-sizing: inherit;
}

body {
    font-family: system-ui, sans-serif;
    line-height: 1.6;
    color: #333;
}

a {
    color: blue;
    text-decoration: none;
}
```

**2. Layout** - Major page sections
```css
/* Layout rules (prefix: l- or layout-) */
.l-header {
    position: sticky;
    top: 0;
}

.l-sidebar {
    width: 250px;
}

.l-main {
    flex: 1;
}

.l-footer {
    padding: 40px 0;
}

/* Or without prefix */
.header { }
.sidebar { }
.main-content { }
.footer { }
```

**3. Modules** - Reusable components
```css
/* Module rules (components) */
.card {
    background: white;
    border-radius: 8px;
    padding: 20px;
}

.button {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
}

.nav {
    display: flex;
    gap: 20px;
}
```

**4. State** - Dynamic states (prefix: is- or has-)
```css
/* State rules */
.is-active {
    background: blue;
    color: white;
}

.is-hidden {
    display: none;
}

.is-disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.has-error {
    border-color: red;
}

.is-loading {
    opacity: 0.6;
    pointer-events: none;
}
```

**5. Theme** - Visual themes
```css
/* Theme rules */
.theme-dark {
    --bg-color: #1a1a1a;
    --text-color: #f0f0f0;
}

.theme-light {
    --bg-color: #ffffff;
    --text-color: #333333;
}
```

**File Structure:**
```
styles/
‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îú‚îÄ‚îÄ reset.css
‚îÇ   ‚îú‚îÄ‚îÄ typography.css
‚îÇ   ‚îî‚îÄ‚îÄ base.css
‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îú‚îÄ‚îÄ header.css
‚îÇ   ‚îú‚îÄ‚îÄ sidebar.css
‚îÇ   ‚îî‚îÄ‚îÄ footer.css
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ button.css
‚îÇ   ‚îú‚îÄ‚îÄ card.css
‚îÇ   ‚îî‚îÄ‚îÄ form.css
‚îú‚îÄ‚îÄ state/
‚îÇ   ‚îî‚îÄ‚îÄ states.css
‚îî‚îÄ‚îÄ theme/
    ‚îú‚îÄ‚îÄ light.css
    ‚îî‚îÄ‚îÄ dark.css
```

---

### ITCSS (Inverted Triangle CSS)

**Organizes CSS by specificity** (low to high).

**Layers (from generic to specific):**

```
        ‚ï±‚ï≤        1. Settings (variables, config)
       ‚ï±  ‚ï≤       2. Tools (mixins, functions)
      ‚ï±    ‚ï≤      3. Generic (reset, normalize)
     ‚ï±      ‚ï≤     4. Elements (base element styles)
    ‚ï±        ‚ï≤    5. Objects (layout patterns, OOCSS)
   ‚ï±          ‚ï≤   6. Components (UI components)
  ‚ï±            ‚ï≤  7. Utilities (helper classes)
 ‚ï±______________‚ï≤
Low specificity ‚Üí High specificity
```

**1. Settings Layer:**
```css
/* Variables, config */
:root {
    --color-primary: #667eea;
    --space-unit: 8px;
    --font-stack: system-ui, sans-serif;
}
```

**2. Tools Layer:**
```css
/* Mixins, functions (if using preprocessor) */
/* In vanilla CSS, this layer is minimal or skip */
```

**3. Generic Layer:**
```css
/* Reset, normalize */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
```

**4. Elements Layer:**
```css
/* Base element styles (no classes) */
body { font-family: var(--font-stack); }
h1 { font-size: 2.5rem; }
a { color: blue; }
```

**5. Objects Layer:**
```css
/* Layout patterns, OOCSS */
.o-container { max-width: 1200px; margin: 0 auto; }
.o-flex { display: flex; }
.o-grid { display: grid; }
```

**6. Components Layer:**
```css
/* UI components */
.c-button { }
.c-card { }
.c-nav { }
```

**7. Utilities Layer:**
```css
/* Helper classes (highest specificity) */
.u-text-center { text-align: center !important; }
.u-mb-1 { margin-bottom: 8px !important; }
.u-hidden { display: none !important; }
```

**File Structure:**
```
styles/
‚îú‚îÄ‚îÄ 1-settings/
‚îÇ   ‚îî‚îÄ‚îÄ variables.css
‚îú‚îÄ‚îÄ 2-tools/
‚îú‚îÄ‚îÄ 3-generic/
‚îÇ   ‚îî‚îÄ‚îÄ reset.css
‚îú‚îÄ‚îÄ 4-elements/
‚îÇ   ‚îî‚îÄ‚îÄ base.css
‚îú‚îÄ‚îÄ 5-objects/
‚îÇ   ‚îî‚îÄ‚îÄ layout.css
‚îú‚îÄ‚îÄ 6-components/
‚îÇ   ‚îú‚îÄ‚îÄ button.css
‚îÇ   ‚îî‚îÄ‚îÄ card.css
‚îî‚îÄ‚îÄ 7-utilities/
    ‚îî‚îÄ‚îÄ helpers.css
```

---

## 12.2 CSS Organization

### File Structure Strategies

#### 1. By Type (Traditional)

```
css/
‚îú‚îÄ‚îÄ reset.css
‚îú‚îÄ‚îÄ typography.css
‚îú‚îÄ‚îÄ layout.css
‚îú‚îÄ‚îÄ components.css
‚îî‚îÄ‚îÄ utilities.css
```

**Pros:** Simple, straightforward  
**Cons:** Hard to find component-specific styles

---

#### 2. By Component (Modern)

```
css/
‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îú‚îÄ‚îÄ reset.css
‚îÇ   ‚îú‚îÄ‚îÄ typography.css
‚îÇ   ‚îî‚îÄ‚îÄ variables.css
‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îú‚îÄ‚îÄ header.css
‚îÇ   ‚îú‚îÄ‚îÄ footer.css
‚îÇ   ‚îî‚îÄ‚îÄ grid.css
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ button.css
‚îÇ   ‚îú‚îÄ‚îÄ card.css
‚îÇ   ‚îú‚îÄ‚îÄ form.css
‚îÇ   ‚îú‚îÄ‚îÄ modal.css
‚îÇ   ‚îî‚îÄ‚îÄ nav.css
‚îî‚îÄ‚îÄ utilities/
    ‚îî‚îÄ‚îÄ helpers.css
```

**Pros:** Easy to find, scalable, modular  
**Cons:** More files to manage

---

#### 3. Atomic/Single Responsibility

```
css/
‚îú‚îÄ‚îÄ atoms/
‚îÇ   ‚îú‚îÄ‚îÄ button.css
‚îÇ   ‚îú‚îÄ‚îÄ input.css
‚îÇ   ‚îî‚îÄ‚îÄ icon.css
‚îú‚îÄ‚îÄ molecules/
‚îÇ   ‚îú‚îÄ‚îÄ form-group.css
‚îÇ   ‚îî‚îÄ‚îÄ card.css
‚îú‚îÄ‚îÄ organisms/
‚îÇ   ‚îú‚îÄ‚îÄ header.css
‚îÇ   ‚îî‚îÄ‚îÄ footer.css
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ page-layout.css
```

Based on Atomic Design methodology.

---

### Naming Conventions

#### 1. BEM Naming

```css
/* Block */
.card { }

/* Element */
.card__header { }
.card__title { }
.card__body { }
.card__footer { }

/* Modifier */
.card--large { }
.card--dark { }
.card__title--highlighted { }
```

#### 2. Namespacing

Prefix classes by type:

```css
/* Layout */
.l-header { }
.l-sidebar { }
.l-container { }

/* Components */
.c-button { }
.c-card { }
.c-modal { }

/* Utilities */
.u-text-center { }
.u-hide { }
.u-mt-2 { }

/* States */
.is-active { }
.is-hidden { }
.has-error { }

/* JavaScript hooks */
.js-toggle { }
.js-slider { }
```

**Benefits:**
- Immediate understanding of purpose
- Prevents naming conflicts
- Clear separation of concerns

#### 3. Functional/Utility Naming

```css
/* Spacing */
.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mb-3 { margin-bottom: 24px; }
.p-4 { padding: 32px; }

/* Display */
.flex { display: flex; }
.grid { display: grid; }
.block { display: block; }

/* Colors */
.bg-primary { background: var(--color-primary); }
.text-white { color: white; }

/* Typography */
.text-lg { font-size: 18px; }
.font-bold { font-weight: 700; }
```

**This is the Tailwind CSS approach!**

---

## 12.3 Scalability Principles

### 1. Avoiding Specificity Wars

**Problem:**
```css
/* Specificity: 0,0,1,0 */
.button {
    background: blue;
}

/* Someone needs red button, increases specificity */
/* Specificity: 0,0,1,1 */
div .button {
    background: red;
}

/* Next person needs blue again, goes higher */
/* Specificity: 0,1,0,0 */
#container .button {
    background: blue;
}

/* Eventually: !important nightmare */
.button {
    background: blue !important;
}
```

**Solution:**

```css
/* Keep specificity flat and low */
.button { background: blue; }
.button-red { background: red; }
.button-blue { background: blue; }

/* Use modifiers, not increasing specificity */
.button--primary { background: blue; }
.button--danger { background: red; }
```

**Rules:**
1. Avoid IDs for styling
2. Avoid deep nesting
3. Use classes for everything
4. Keep specificity flat (0,0,1,0 ideal)
5. Use `!important` only for utilities

---

### 2. Component Isolation

Ensure components work independently.

```css
/* ‚ùå Component depends on parent */
.sidebar .widget {
    padding: 20px;
}

/* ‚úÖ Component works anywhere */
.widget {
    padding: 20px;
}

/* ‚ùå Global styles affect component */
.sidebar p {
    font-size: 14px;  /* Affects all <p> in sidebar */
}

/* ‚úÖ Scoped to component */
.widget__text {
    font-size: 14px;
}
```

**Isolation Strategies:**

```css
/* 1. BEM (no nesting) */
.card { }
.card__title { }  /* Independent class */

/* 2. Namespacing */
.c-card { }
.c-card__title { }

/* 3. Scoping with attributes */
[data-component="card"] { }
[data-component="card"] .title { }

/* 4. CSS Modules (build tool) */
.card { } /* Becomes .card_a3k2j at build time */
```

---

### 3. Managing Global Styles

**Global styles** should be minimal and purposeful.

```css
/* ‚úÖ Appropriate globals */
:root {
    /* Variables */
    --color-primary: #667eea;
}

*, *::before, *::after {
    box-sizing: border-box;  /* Universal fix */
}

body {
    font-family: system-ui, sans-serif;
    line-height: 1.6;
    color: #333;
}

/* ‚ùå Too many globals (hard to override) */
div {
    padding: 20px;  /* Affects ALL divs */
}

p {
    font-size: 16px;  /* Hard to override */
}
```

**Best Practice:**
- Minimal globals (reset, typography, variables)
- Most styles in components
- Use utilities for one-offs

---

## 12.4 Component-Based Architecture

### Component Structure

**Anatomy of a Component:**

```css
/* Component base */
.card {
    /* Structure */
    display: flex;
    flex-direction: column;
    
    /* Spacing */
    padding: 20px;
    gap: 15px;
    
    /* Appearance */
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Component elements */
.card__header {
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 15px;
}

.card__title {
    font-size: 20px;
    font-weight: 600;
    margin: 0;
}

.card__body {
    flex: 1;
}

.card__footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 15px;
    border-top: 1px solid #e0e0e0;
}

/* Component modifiers */
.card--large {
    padding: 30px;
}

.card--compact {
    padding: 10px;
    gap: 10px;
}

.card--dark {
    background: #1a1a1a;
    color: white;
    border-color: #333;
}
```

---

### Composition Over Inheritance

**Build complex components from simple ones:**

```css
/* Atomic components */
.button {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.icon {
    width: 20px;
    height: 20px;
}

/* Compose into larger component */
.button-with-icon {
    /* Extends .button */
    display: flex;
    align-items: center;
    gap: 8px;
}
```

```html
<!-- Composition in HTML -->
<button class="button button-primary button-with-icon">
    <span class="icon">üîç</span>
    Search
</button>
```

---

### Design Token System

**Design tokens** are the single source of truth for design decisions.

```css
/* 1. Tokens (primitive values) */
:root {
    /* Colors */
    --color-blue-500: #667eea;
    --color-purple-500: #764ba2;
    --color-gray-100: #f5f5f5;
    --color-gray-900: #1a1a1a;
    
    /* Spacing scale */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    
    /* Typography scale */
    --text-xs: 12px;
    --text-sm: 14px;
    --text-base: 16px;
    --text-lg: 18px;
    --text-xl: 20px;
    --text-2xl: 24px;
    --text-3xl: 30px;
    --text-4xl: 36px;
    
    /* Font weights */
    --font-normal: 400;
    --font-medium: 500;
    --font-semibold: 600;
    --font-bold: 700;
    
    /* Border radius */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-full: 9999px;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
}

/* 2. Semantic tokens (meaningful names) */
:root {
    --color-primary: var(--color-blue-500);
    --color-secondary: var(--color-purple-500);
    --color-background: var(--color-gray-100);
    --color-text: var(--color-gray-900);
    
    --spacing-component: var(--space-4);
    --spacing-section: var(--space-8);
    
    --text-body: var(--text-base);
    --text-heading: var(--text-2xl);
}

/* 3. Component-specific tokens */
.button {
    --button-padding: var(--space-3) var(--space-5);
    --button-radius: var(--radius-md);
    --button-bg: var(--color-primary);
    
    padding: var(--button-padding);
    border-radius: var(--button-radius);
    background: var(--button-bg);
}
```

---

## 12.5 Utility-First CSS

**Utility-first** uses small, single-purpose classes (like Tailwind CSS).

### Traditional vs Utility-First

**Traditional (Component-first):**
```html
<button class="button button-primary button-large">
    Click Me
</button>
```

```css
.button {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
}

.button-primary {
    background: blue;
    color: white;
}

.button-large {
    padding: 16px 32px;
    font-size: 18px;
}
```

**Utility-First:**
```html
<button class="px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold cursor-pointer">
    Click Me
</button>
```

```css
.px-6 { padding-left: 24px; padding-right: 24px; }
.py-3 { padding-top: 12px; padding-bottom: 12px; }
.bg-blue-500 { background: #3b82f6; }
.text-white { color: white; }
.rounded-lg { border-radius: 8px; }
.font-semibold { font-weight: 600; }
.cursor-pointer { cursor: pointer; }
```

**Pros of Utility-First:**
- Rapid development
- No naming decisions
- Small CSS file (reused utilities)
- Consistent spacing/colors

**Cons:**
- "Ugly" HTML
- Verbose classes
- Learning curve
- Can be harder to maintain

---

### When to Use Each Approach

**Component-First (BEM, OOCSS):**
- Complex, unique components
- When you want semantic HTML
- Team prefers separation of concerns
- Custom design system

**Utility-First (Tailwind-style):**
- Rapid prototyping
- Consistent design system
- Small team or solo developer
- Okay with classes in HTML

**Hybrid Approach (Best!):**
```html
<!-- Components for major elements -->
<div class="card">
    <!-- Utilities for adjustments -->
    <h2 class="card__title mb-4">Title</h2>
    <p class="card__text text-gray-600">Content</p>
    <button class="card__button mt-4">Action</button>
</div>
```

---

## 12.6 Design Systems

### What is a Design System?

**Design System** = Design tokens + Components + Documentation + Guidelines

**Components:**
1. **Design Tokens**: Colors, spacing, typography
2. **Component Library**: Buttons, cards, forms, etc.
3. **Patterns**: Common layouts, interactions
4. **Documentation**: Usage guidelines, examples
5. **Principles**: Design philosophy, best practices

---

### Building a Simple Design System

```css
/* === 1. DESIGN TOKENS === */

/* Color palette */
:root {
    /* Primary */
    --color-primary-50: #f0f4ff;
    --color-primary-100: #e0e9ff;
    --color-primary-500: #667eea;
    --color-primary-900: #1e3a8a;
    
    /* Semantic colors */
    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-danger: #ef4444;
    
    /* Neutral */
    --color-white: #ffffff;
    --color-gray-50: #f9fafb;
    --color-gray-100: #f3f4f6;
    --color-gray-500: #6b7280;
    --color-gray-900: #111827;
    --color-black: #000000;
}

/* Spacing scale (4px base) */
:root {
    --space-0: 0;
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-16: 64px;
}

/* Typography scale */
:root {
    --font-size-xs: 12px;
    --font-size-sm: 14px;
    --font-size-base: 16px;
    --font-size-lg: 18px;
    --font-size-xl: 20px;
    --font-size-2xl: 24px;
    --font-size-3xl: 30px;
    --font-size-4xl: 36px;
    
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    
    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;
}

/* === 2. COMPONENTS === */

/* Button Component */
.btn {
    /* Base styles */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-3) var(--space-5);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    border-radius: var(--space-2);
    border: none;
    cursor: pointer;
    transition: all 0.2s;
}

/* Button variants */
.btn--primary {
    background: var(--color-primary-500);
    color: var(--color-white);
}

.btn--secondary {
    background: var(--color-gray-100);
    color: var(--color-gray-900);
}

.btn--danger {
    background: var(--color-danger);
    color: var(--color-white);
}

/* Button sizes */
.btn--sm {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-sm);
}

.btn--lg {
    padding: var(--space-4) var(--space-8);
    font-size: var(--font-size-lg);
}

/* === 3. UTILITIES === */

/* Spacing utilities */
.mt-4 { margin-top: var(--space-4); }
.mb-4 { margin-bottom: var(--space-4); }
.p-4 { padding: var(--space-4); }

/* Display utilities */
.flex { display: flex; }
.grid { display: grid; }
.hidden { display: none; }
```

---

### Design System Best Practices

```css
/* 1. Consistent naming */
--color-{name}-{shade}
--space-{number}
--text-{size}

/* 2. Predictable scales */
/* 4px base for spacing */
4, 8, 12, 16, 20, 24, 32, 40, 48...

/* Major second for typography */
16, 18, 20, 24, 30, 36, 48...

/* 3. Limited choices */
/* Colors: 5-7 shades per hue */
/* Spacing: 8-12 values */
/* Typography: 6-8 sizes */

/* 4. Semantic naming layers */
/* Primitive: --color-blue-500 */
/* Semantic: --color-primary */
/* Component: --button-bg */
```

---

## 12.7 CSS-in-JS Considerations

**CSS-in-JS** writes CSS in JavaScript files (React, Vue, etc.).

**Pros:**
- Component-scoped styles (no conflicts)
- Dynamic styling with JS
- Dead code elimination
- Type safety (with TypeScript)

**Cons:**
- Runtime overhead
- Learning curve
- No caching of CSS
- Harder to debug

**Popular Libraries:**
- styled-components
- Emotion
- CSS Modules
- Tailwind CSS (utility-first)

**When to use:**
- React/Vue applications
- Need dynamic styling
- Component libraries
- Want full JavaScript power

**When to avoid:**
- Static sites
- Performance critical
- Team prefers CSS files
- Simple projects

---

## Interview Key Points

**Most Common Questions:**

**1. "Explain BEM methodology"**
```
Block__Element--Modifier
.card__title--highlighted

Block: Standalone component
Element: Part of block (__)
Modifier: Variation (--)
Benefits: Clear naming, flat specificity
```

**2. "What's the difference between OOCSS and BEM?"**
```
OOCSS: Separate structure/skin, reusable objects
BEM: Naming convention for components
Can use both together!
```

**3. "How do you prevent specificity wars?"**
```
- Use classes, avoid IDs
- Keep specificity flat
- Avoid deep nesting
- Use methodologies (BEM)
- !important only for utilities
```

**4. "What are design tokens?"**
```
Single source of truth for design values
Primitive: --color-blue-500
Semantic: --color-primary
Component: --button-bg
Ensures consistency across app
```

**5. "Explain utility-first CSS"**
```
Small, single-purpose classes
Example: .mt-4, .text-center, .flex
Pros: Fast development, consistency
Cons: Many classes in HTML
Tailwind CSS is main example
```

**6. "How to organize CSS files?"**
```
By component (recommended):
- base/ (reset, typography)
- components/ (button, card, etc.)
- utilities/ (helpers)
- layout/ (header, grid)
```

**7. "What's component isolation?"**
```
Components work independently
Don't depend on parent/container
Use scoped class names
Avoid global element selectors
```

**8. "BEM vs utility-first?"**
```
BEM: Semantic, component-based, clean HTML
Utility-first: Fast, consistent, verbose HTML
Hybrid: Use both (components + utilities)
```

---

## Best Practices Summary

```css
/* 1. Use a methodology (BEM recommended) */
.card { }
.card__title { }
.card--large { }

/* 2. Keep specificity low and flat */
.button { }  /* 0,0,1,0 ‚úÖ */
/* NOT: div .container .button { } */

/* 3. Use design tokens */
:root {
    --color-primary: #667eea;
    --space-md: 16px;
}

/* 4. Component-based organization */
components/
‚îú‚îÄ‚îÄ button.css
‚îú‚îÄ‚îÄ card.css
‚îî‚îÄ‚îÄ form.css

/* 5. Minimal global styles */
/* Only reset, typography, variables */

/* 6. Namespace by type */
.l-header { }    /* Layout */
.c-button { }    /* Component */
.u-hidden { }    /* Utility */
.is-active { }   /* State */

/* 7. Document your architecture */
/* README with: methodology, file structure, naming conventions */
```

---

## Practice Exercises

1. Convert existing CSS to BEM methodology
2. Build a design token system for a project
3. Create a component library with consistent naming
4. Organize a large CSS file by SMACSS categories
5. Build utility classes for spacing system
6. Implement a theme system with CSS variables
7. Create documentation for your CSS architecture
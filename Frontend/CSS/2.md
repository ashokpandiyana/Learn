# Chapter 2: Typography and Text - In-Depth Explanation

## 2.1 Font Properties

### font-family

Specifies the typeface for text. Uses a **fallback system** - if the first font isn't available, it tries the next.

```css
/* Single font */
body {
    font-family: Arial;
}

/* Font stack (recommended) */
body {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

/* Generic families (always include as fallback) */
.serif-text {
    font-family: Georgia, 'Times New Roman', Times, serif;
}

.sans-serif-text {
    font-family: Arial, Helvetica, sans-serif;
}

.monospace-text {
    font-family: 'Courier New', Courier, monospace;
}

.cursive-text {
    font-family: 'Brush Script MT', cursive;
}

.fantasy-text {
    font-family: Papyrus, fantasy;
}
```

**Generic Font Families:**
- `serif`: Fonts with decorative strokes (Times, Georgia)
- `sans-serif`: Clean fonts without serifs (Arial, Helvetica)
- `monospace`: Fixed-width fonts (Courier, Consolas)
- `cursive`: Handwriting-style fonts
- `fantasy`: Decorative fonts

**Important Rules:**
- Quote font names with spaces: `'Times New Roman'`
- List fonts in order of preference (left to right)
- Always end with a generic family
- System fonts don't need quotes: `Arial`, `Georgia`

**Modern System Font Stack (Production):**
```css
body {
    font-family: 
        -apple-system,           /* iOS/macOS */
        BlinkMacSystemFont,      /* macOS */
        'Segoe UI',              /* Windows */
        Roboto,                  /* Android */
        'Helvetica Neue',        /* macOS */
        Arial,                   /* Fallback */
        sans-serif;              /* Generic fallback */
}
```

---

### font-size

Controls the size of text.

```css
/* Absolute units */
p {
    font-size: 16px;      /* Pixels (most common) */
    font-size: 12pt;      /* Points (print) */
}

/* Relative units (recommended) */
p {
    font-size: 1rem;      /* Relative to root (16px default) */
    font-size: 1.2em;     /* Relative to parent font-size */
    font-size: 100%;      /* Relative to parent */
}

/* Viewport units */
h1 {
    font-size: 5vw;       /* 5% of viewport width */
}

/* Keywords */
p {
    font-size: small;     /* Predefined size */
    font-size: medium;    /* Browser default (16px) */
    font-size: large;
    font-size: x-large;
    font-size: xx-large;
}

/* Relative keywords */
p {
    font-size: smaller;   /* One size smaller than parent */
    font-size: larger;    /* One size larger than parent */
}
```

**Best Practices:**
```css
/* Set base size on html */
html {
    font-size: 16px;     /* or 62.5% for easier math */
}

/* Use rem for consistency */
h1 { font-size: 2.5rem; }    /* 40px */
h2 { font-size: 2rem; }      /* 32px */
h3 { font-size: 1.75rem; }   /* 28px */
p  { font-size: 1rem; }      /* 16px */
small { font-size: 0.875rem; } /* 14px */
```

**Responsive Typography:**
```css
/* Method 1: Media queries */
html {
    font-size: 14px;
}
@media (min-width: 768px) {
    html { font-size: 16px; }
}
@media (min-width: 1200px) {
    html { font-size: 18px; }
}

/* Method 2: Fluid typography with clamp() */
h1 {
    font-size: clamp(1.5rem, 4vw, 3rem);
    /* min: 1.5rem, preferred: 4vw, max: 3rem */
}

/* Method 3: calc() for scaling */
h1 {
    font-size: calc(1.5rem + 1vw);
}
```

---

### font-weight

Controls the thickness/boldness of text.

```css
/* Numeric values (100-900) */
p {
    font-weight: 100;  /* Thin */
    font-weight: 200;  /* Extra Light */
    font-weight: 300;  /* Light */
    font-weight: 400;  /* Normal (default) */
    font-weight: 500;  /* Medium */
    font-weight: 600;  /* Semi Bold */
    font-weight: 700;  /* Bold */
    font-weight: 800;  /* Extra Bold */
    font-weight: 900;  /* Black */
}

/* Keyword values */
p {
    font-weight: normal;    /* 400 */
    font-weight: bold;      /* 700 */
    font-weight: lighter;   /* Relative to parent */
    font-weight: bolder;    /* Relative to parent */
}
```

**Important Notes:**
- Not all fonts support all weights
- If a weight isn't available, browser uses closest available
- Modern variable fonts support any weight between 100-900

**Production Example:**
```css
.heading-primary {
    font-weight: 700;    /* Bold headers */
}

.body-text {
    font-weight: 400;    /* Normal body text */
}

.caption {
    font-weight: 300;    /* Light for captions */
}

.emphasis {
    font-weight: 600;    /* Medium emphasis */
}
```

---

### font-style

Controls italic or oblique styling.

```css
p {
    font-style: normal;   /* Default */
    font-style: italic;   /* Italic version of font */
    font-style: oblique;  /* Slanted version */
}

/* Modern: oblique with angle */
p {
    font-style: oblique 10deg;  /* Slant by 10 degrees */
}
```

**Difference Between Italic and Oblique:**
- **Italic**: Designed italic version (different letterforms)
- **Oblique**: Slanted version of normal font (same letterforms)

```css
/* Example usage */
em, i {
    font-style: italic;
}

.citation {
    font-style: italic;
    font-weight: 300;
}
```

---

### font-variant

Controls special font variations.

```css
/* Small caps */
p {
    font-variant: small-caps;    /* Lowercase as small capitals */
    font-variant: normal;        /* Default */
}

/* Numeric variants */
.numbers {
    font-variant-numeric: tabular-nums;   /* Fixed-width numbers */
    font-variant-numeric: oldstyle-nums;  /* Old-style numerals */
    font-variant-numeric: lining-nums;    /* Aligned numerals */
}

/* Ligatures */
.text {
    font-variant-ligatures: common-ligatures;  /* fi, fl ligatures */
    font-variant-ligatures: no-common-ligatures;
}
```

---

### Shorthand font Property

Combines font properties in one declaration.

```css
/* Syntax: font-style font-variant font-weight font-size/line-height font-family */

/* Full syntax */
p {
    font: italic small-caps bold 16px/1.5 Georgia, serif;
}

/* Minimum required: font-size and font-family */
p {
    font: 16px Arial, sans-serif;
}

/* Common patterns */
.text {
    font: 400 1rem/1.6 'Helvetica Neue', sans-serif;
    /* weight size/line-height family */
}

.heading {
    font: bold 2rem/1.2 Georgia, serif;
}
```

**Warning:** Shorthand resets all font properties not specified!

```css
h1 {
    font-weight: 700;
    font-size: 2rem;
    font: 1.5rem Arial;  /* font-weight reset to normal! */
}
```

---

### Web Fonts with @font-face

Load custom fonts from files or servers.

```css
/* Basic @font-face */
@font-face {
    font-family: 'MyCustomFont';
    src: url('fonts/custom-font.woff2') format('woff2'),
         url('fonts/custom-font.woff') format('woff');
    font-weight: 400;
    font-style: normal;
}

/* Use the custom font */
body {
    font-family: 'MyCustomFont', Arial, sans-serif;
}

/* Multiple weights */
@font-face {
    font-family: 'MyCustomFont';
    src: url('fonts/custom-font-bold.woff2') format('woff2');
    font-weight: 700;
    font-style: normal;
}

/* Italic variant */
@font-face {
    font-family: 'MyCustomFont';
    src: url('fonts/custom-font-italic.woff2') format('woff2');
    font-weight: 400;
    font-style: italic;
}
```

**File Formats (Best to Worst):**
1. `woff2` - Best compression, modern browsers
2. `woff` - Good compression, wider support
3. `ttf/otf` - Larger files, legacy support
4. `eot` - Internet Explorer only

**Google Fonts Integration:**
```html
<!-- In HTML -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
```

```css
/* In CSS */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

body {
    font-family: 'Roboto', sans-serif;
}
```

---

### font-display (Performance Critical!)

Controls how fonts are displayed while loading.

```css
@font-face {
    font-family: 'MyFont';
    src: url('font.woff2') format('woff2');
    font-display: swap;  /* Recommended for most cases */
}
```

**Values:**
- `auto` - Browser default (usually block)
- `block` - Hide text while font loads (3s timeout), then show
- `swap` - Show fallback immediately, swap when ready ✓ **BEST**
- `fallback` - Very short block (100ms), swap with timeout
- `optional` - Very short block, only swap if font loads quickly

**Performance Best Practice:**
```css
@font-face {
    font-family: 'CustomFont';
    src: url('font.woff2') format('woff2');
    font-display: swap;     /* Prevent invisible text */
    font-weight: 400;
    font-style: normal;
}
```

---

## 2.2 Text Styling

### text-align

Controls horizontal alignment of text.

```css
/* Basic alignment */
p {
    text-align: left;      /* Default for LTR languages */
    text-align: right;     /* Right-aligned */
    text-align: center;    /* Centered */
    text-align: justify;   /* Justified (even edges) */
}

/* Modern values */
p {
    text-align: start;     /* Left in LTR, right in RTL */
    text-align: end;       /* Right in LTR, left in RTL */
}
```

**Use Cases:**
```css
.header {
    text-align: center;    /* Center headings */
}

.body-text {
    text-align: left;      /* Body text left-aligned */
}

.quote {
    text-align: justify;   /* Justified quotes */
}

.price {
    text-align: right;     /* Right-align numbers */
}
```

---

### text-decoration

Adds decorative lines to text.

```css
/* Single property */
a {
    text-decoration: underline;
    text-decoration: overline;
    text-decoration: line-through;
    text-decoration: none;  /* Remove decoration */
}

/* Longhand properties */
a {
    text-decoration-line: underline;
    text-decoration-color: red;
    text-decoration-style: solid;
    text-decoration-thickness: 2px;
}

/* Styles */
.decorated {
    text-decoration-style: solid;    /* Default */
    text-decoration-style: double;   /* Double line */
    text-decoration-style: dotted;   /* Dotted line */
    text-decoration-style: dashed;   /* Dashed line */
    text-decoration-style: wavy;     /* Wavy line */
}

/* Shorthand syntax */
a {
    text-decoration: underline wavy red 2px;
    /* line style color thickness */
}
```

**Common Patterns:**
```css
/* Remove underline from links */
a {
    text-decoration: none;
}

/* Add underline on hover */
a:hover {
    text-decoration: underline;
}

/* Strikethrough for deleted text */
del, .deleted {
    text-decoration: line-through;
}

/* Custom link underline */
a {
    text-decoration: underline;
    text-decoration-color: rgba(0, 123, 255, 0.3);
    text-decoration-thickness: 2px;
    text-underline-offset: 3px;  /* Modern: spacing */
}
```

---

### text-transform

Changes the capitalization of text.

```css
p {
    text-transform: none;          /* Default */
    text-transform: uppercase;     /* ALL CAPS */
    text-transform: lowercase;     /* all lowercase */
    text-transform: capitalize;    /* First Letter Of Each Word */
}

/* Full-width (Asian typography) */
p {
    text-transform: full-width;
}
```

**Use Cases:**
```css
/* Uppercase buttons */
.button {
    text-transform: uppercase;
    letter-spacing: 0.05em;  /* Add spacing with uppercase */
}

/* Capitalize headings */
h3 {
    text-transform: capitalize;
}

/* Lowercase emails */
.email {
    text-transform: lowercase;
}
```

---

### text-indent

Indents the first line of text.

```css
/* Positive indent */
p {
    text-indent: 2em;     /* Indent first line */
}

/* Negative indent (hanging) */
.list-item {
    text-indent: -1em;
    padding-left: 1em;    /* Prevent text from going outside */
}

/* Percentage */
.article {
    text-indent: 5%;
}
```

**Practical Example:**
```css
/* Traditional paragraph indentation */
article p + p {
    text-indent: 2em;     /* Indent all but first paragraph */
}

/* Hanging indent for lists */
.reference {
    text-indent: -2em;
    padding-left: 2em;
}
```

---

### text-shadow

Adds shadow to text (multiple shadows possible).

```css
/* Basic shadow */
h1 {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    /* x-offset y-offset blur-radius color */
}

/* No blur */
.simple {
    text-shadow: 2px 2px #000;
}

/* Multiple shadows */
.glow {
    text-shadow: 
        0 0 10px #fff,
        0 0 20px #fff,
        0 0 30px #e60073,
        0 0 40px #e60073;
}

/* 3D text effect */
.threed {
    text-shadow:
        1px 1px 0 #ccc,
        2px 2px 0 #ccc,
        3px 3px 0 #ccc,
        4px 4px 0 #ccc,
        5px 5px 0 #ccc;
}
```

**Modern Effects:**
```css
/* Long shadow */
h1 {
    text-shadow: 
        1px 1px 0 #999,
        2px 2px 0 #888,
        3px 3px 0 #777,
        4px 4px 0 #666,
        5px 5px 0 #555,
        6px 6px 0 #444,
        7px 7px 0 #333;
}

/* Glowing text */
.glow-text {
    color: #fff;
    text-shadow: 0 0 20px #00ffff,
                 0 0 30px #00ffff,
                 0 0 40px #00ffff;
}

/* Embossed text */
.emboss {
    color: #ccc;
    text-shadow: 1px 1px 0 #fff,
                 -1px -1px 0 #333;
}
```

---

### letter-spacing

Controls spacing between characters.

```css
p {
    letter-spacing: normal;      /* Default */
    letter-spacing: 0.05em;      /* Slight increase */
    letter-spacing: -0.02em;     /* Tighten (careful!) */
    letter-spacing: 2px;         /* Fixed spacing */
}
```

**Use Cases:**
```css
/* Uppercase text needs more spacing */
.uppercase {
    text-transform: uppercase;
    letter-spacing: 0.1em;       /* Improve readability */
}

/* Logos and headlines */
.logo {
    letter-spacing: 0.2em;
}

/* Tight spacing for impact */
.compact {
    letter-spacing: -0.03em;
}
```

---

### word-spacing

Controls spacing between words.

```css
p {
    word-spacing: normal;        /* Default */
    word-spacing: 0.3em;         /* More space */
    word-spacing: 5px;           /* Fixed space */
}
```

---

### line-height

Controls vertical spacing between lines (CRITICAL for readability).

```css
/* Unitless (recommended!) */
p {
    line-height: 1.5;    /* 1.5 × font-size */
}

/* With units */
p {
    font-size: 16px;
    line-height: 24px;   /* Fixed height */
    line-height: 1.5em;  /* 1.5 × 16px = 24px */
    line-height: 150%;   /* 150% of 16px = 24px */
}
```

**Why Unitless is Best:**
```css
/* Problem with units */
.parent {
    font-size: 16px;
    line-height: 24px;   /* 24px */
}
.child {
    font-size: 20px;     /* Still inherits 24px - too tight! */
}

/* Solution: unitless */
.parent {
    font-size: 16px;
    line-height: 1.5;    /* 24px (1.5 × 16px) */
}
.child {
    font-size: 20px;     /* 30px (1.5 × 20px) - scales! */
}
```

**Best Practices:**
```css
/* Body text: 1.5-1.6 */
body {
    line-height: 1.6;
}

/* Headings: 1.2-1.3 */
h1, h2, h3 {
    line-height: 1.2;
}

/* Tight for UI elements */
.button {
    line-height: 1;
}
```

---

### white-space

Controls how whitespace is handled.

```css
p {
    white-space: normal;    /* Default: collapse whitespace */
    white-space: nowrap;    /* No line breaks, text overflows */
    white-space: pre;       /* Preserve whitespace & breaks */
    white-space: pre-wrap;  /* Preserve whitespace, wrap text */
    white-space: pre-line;  /* Collapse whitespace, preserve breaks */
}
```

**Visual Comparison:**

**normal:**
```
Multiple    spaces → Multiple spaces
Line breaks ignored
```

**nowrap:**
```
Text continues on one line even if container is narrow →
```

**pre:**
```
Preserves    spaces
And
    line breaks
```

**pre-wrap:**
```
Preserves    spaces
And line breaks
But wraps if needed
```

**Use Cases:**
```css
/* Prevent text wrapping */
.no-wrap {
    white-space: nowrap;
}

/* Code blocks */
pre, code {
    white-space: pre;
}

/* Preserve formatting but allow wrapping */
.formatted {
    white-space: pre-wrap;
}
```

---

### word-break

Controls how words break at line end.

```css
p {
    word-break: normal;       /* Default: break at spaces */
    word-break: break-all;    /* Break anywhere if needed */
    word-break: keep-all;     /* Don't break Asian characters */
}
```

**Examples:**
```css
/* Long URLs */
.url {
    word-break: break-all;    /* Break long words */
}

/* Keep Asian text together */
.chinese {
    word-break: keep-all;
}
```

---

### overflow-wrap (word-wrap)

Controls breaking of long words.

```css
p {
    overflow-wrap: normal;         /* Don't break words */
    overflow-wrap: break-word;     /* Break if necessary */
    overflow-wrap: anywhere;       /* Break + adjust min-content */
}

/* Legacy alias */
p {
    word-wrap: break-word;         /* Same as overflow-wrap */
}
```

**Production Pattern:**
```css
/* Prevent long content from breaking layout */
.container {
    overflow-wrap: break-word;
    word-break: break-word;     /* Fallback for older browsers */
    hyphens: auto;             /* Add hyphens where possible */
}
```

---

## 2.3 Advanced Typography

### text-overflow: ellipsis

Shows ellipsis (...) when text overflows.

```css
/* Required combination (all 3 needed!) */
.truncate {
    white-space: nowrap;         /* No wrapping */
    overflow: hidden;            /* Hide overflow */
    text-overflow: ellipsis;     /* Show ... */
}

/* Values */
.element {
    text-overflow: clip;         /* Cut off (default) */
    text-overflow: ellipsis;     /* Show ... */
    text-overflow: "→";          /* Custom string */
}
```

**Real-World Example:**
```css
/* Truncate long titles */
.card-title {
    width: 200px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
```

---

### Multi-line Ellipsis (Webkit)

Show ellipsis after multiple lines (webkit only, but widely supported).

```css
/* Multi-line truncation */
.truncate-multiline {
    display: -webkit-box;
    -webkit-line-clamp: 3;              /* Number of lines */
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Alternative with line-clamp (modern) */
.truncate-modern {
    display: -webkit-box;
    line-clamp: 3;                      /* Modern syntax */
    -webkit-box-orient: vertical;
    overflow: hidden;
}
```

**Production Pattern:**
```css
/* Truncate card descriptions to 2 lines */
.card-description {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.5;
    max-height: 3em;  /* Fallback: 2 lines × 1.5 line-height */
}
```

---

### writing-mode

Controls text direction (horizontal or vertical).

```css
.element {
    writing-mode: horizontal-tb;    /* Default: horizontal, top-to-bottom */
    writing-mode: vertical-rl;      /* Vertical, right-to-left */
    writing-mode: vertical-lr;      /* Vertical, left-to-right */
}
```

**Use Cases:**
```css
/* Vertical sidebar labels */
.sidebar-label {
    writing-mode: vertical-rl;
    text-orientation: mixed;
}

/* Asian language support */
.japanese-vertical {
    writing-mode: vertical-rl;
}
```

---

### direction and unicode-bidi

Controls text direction for bidirectional text (RTL/LTR).

```css
/* Direction */
.rtl {
    direction: rtl;    /* Right-to-left (Arabic, Hebrew) */
}

.ltr {
    direction: ltr;    /* Left-to-right (default) */
}

/* Unicode bidirectional algorithm */
.bidi {
    unicode-bidi: normal;           /* Default */
    unicode-bidi: embed;            /* Embedded */
    unicode-bidi: bidi-override;    /* Override */
    unicode-bidi: isolate;          /* Isolate (modern) */
}
```

**Production Usage:**
```css
/* RTL language support */
html[dir="rtl"] {
    direction: rtl;
}

/* Mixed content */
.mixed-content {
    unicode-bidi: isolate;
}
```

---

## Typography Best Practices Summary

### 1. Responsive Typography
```css
html {
    font-size: 16px;
}

h1 {
    font-size: clamp(2rem, 5vw, 4rem);
}
```

### 2. Readable Body Text
```css
body {
    font-family: system-ui, -apple-system, sans-serif;
    font-size: 1rem;
    line-height: 1.6;
    color: #333;
}
```

### 3. Heading Hierarchy
```css
h1 { font-size: 2.5rem; line-height: 1.2; }
h2 { font-size: 2rem; line-height: 1.3; }
h3 { font-size: 1.75rem; line-height: 1.4; }
h4 { font-size: 1.5rem; line-height: 1.4; }
```

### 4. Performance
```css
@font-face {
    font-family: 'CustomFont';
    src: url('font.woff2') format('woff2');
    font-display: swap;  /* Always use this! */
}
```

### 5. Text Truncation
```css
/* Single line */
.truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Multiple lines */
.truncate-multi {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
```

---

## Interview Key Points

**Most Common Questions:**

1. **"Why use unitless line-height?"**
   - Scales proportionally with font-size
   - Children inherit the multiplier, not computed value

2. **"How to truncate text with ellipsis?"**
   - Single line: nowrap + overflow: hidden + text-overflow: ellipsis
   - Multi-line: -webkit-line-clamp with display: -webkit-box

3. **"What is font-display and why use swap?"**
   - Controls how fonts load
   - swap prevents invisible text (FOIT)
   - Shows fallback immediately, swaps when loaded

4. **"Difference between em and rem for font-size?"**
   - em: relative to parent's font-size (compounds)
   - rem: relative to root font-size (consistent)

5. **"Best practices for web fonts?"**
   - Use woff2 format
   - Set font-display: swap
   - Preload critical fonts
   - Subset fonts to reduce file size

---

## Practice Exercises

1. Create a responsive heading that scales between 24px and 48px
2. Truncate a paragraph to show only 2 lines with ellipsis
3. Style a link with custom underline (color, thickness, offset)
4. Create a glow effect using text-shadow
5. Set up a complete font stack with custom web font and fallbacks
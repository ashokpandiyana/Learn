# Chapter 7: Advanced Semantic Elements - In-Depth Explanation

## Introduction

This chapter covers advanced HTML5 semantic elements that add interactivity, better structure, and enhanced functionality to web pages.

**Topics Covered:**
- Interactive disclosure widgets (`<details>`, `<summary>`)
- Modal dialogs (`<dialog>`)
- Content sectioning elements
- Ruby annotations for East Asian typography
- Web Components (`<template>`, `<slot>`)

---

## 7.1 Interactive Elements

### `<details>` and `<summary>` - Disclosure Widget

Creates an accordion-style collapsible section **without JavaScript**!

**Basic Syntax:**

```html
<details>
  <summary>Click to expand</summary>
  <p>Hidden content that appears when expanded.</p>
</details>
```

**Visual Representation:**

```
Closed (default):
â–¶ Click to expand

Opened (when clicked):
â–¼ Click to expand
  Hidden content that appears when expanded.
```

---

### How It Works

```html
<!-- Closed by default -->
<details>
  <summary>What is HTML?</summary>
  <p>HTML stands for HyperText Markup Language. It's the standard markup language for creating web pages.</p>
</details>

<!-- Open by default -->
<details open>
  <summary>What is CSS?</summary>
  <p>CSS stands for Cascading Style Sheets. It's used to style HTML elements.</p>
</details>
```

**Key Points:**
- `<summary>` is **required** (visible part when closed)
- Everything else is **hidden content** (shown when open)
- `open` attribute makes it expanded by default
- Browser adds disclosure triangle automatically
- Works without JavaScript!

---

### Multiple Details Elements (FAQ Example)

```html
<h1>Frequently Asked Questions</h1>

<details>
  <summary>What is your return policy?</summary>
  <p>You can return items within 30 days of purchase for a full refund.</p>
</details>

<details>
  <summary>Do you ship internationally?</summary>
  <p>Yes, we ship to over 100 countries worldwide. Shipping times vary by location.</p>
</details>

<details>
  <summary>How can I track my order?</summary>
  <p>Once your order ships, you'll receive a tracking number via email.</p>
</details>

<details>
  <summary>What payment methods do you accept?</summary>
  <p>We accept credit cards (Visa, MasterCard, AmEx), PayPal, and Apple Pay.</p>
</details>
```

---

### Nested Details

```html
<details>
  <summary>Chapter 1: Introduction</summary>
  <p>This chapter covers the basics...</p>
  
  <details>
    <summary>1.1 What is HTML?</summary>
    <p>HTML is the standard markup language...</p>
  </details>
  
  <details>
    <summary>1.2 HTML History</summary>
    <p>HTML was created by Tim Berners-Lee in 1991...</p>
  </details>
</details>
```

---

### Styling Details/Summary

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Styled Details Example</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
    }
    
    details {
      background: #f5f5f5;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
    }
    
    summary {
      font-weight: bold;
      cursor: pointer;
      padding: 10px;
      margin: -15px -15px 0 -15px;
      background: #0066cc;
      color: white;
      border-radius: 8px 8px 0 0;
      user-select: none;
    }
    
    summary:hover {
      background: #0052a3;
    }
    
    /* Remove default triangle */
    summary::-webkit-details-marker {
      display: none;
    }
    
    summary::marker {
      display: none;
    }
    
    /* Add custom arrow */
    summary::before {
      content: "â–¶ ";
      display: inline-block;
      transition: transform 0.2s;
    }
    
    details[open] summary::before {
      transform: rotate(90deg);
    }
    
    /* Content styling */
    details[open] {
      padding-bottom: 15px;
    }
    
    details p {
      margin: 15px 0 0 0;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <h1>Custom Styled FAQ</h1>
  
  <details>
    <summary>What is HTML?</summary>
    <p>HTML (HyperText Markup Language) is the standard markup language for creating web pages.</p>
  </details>
  
  <details>
    <summary>What is CSS?</summary>
    <p>CSS (Cascading Style Sheets) is used to style and layout web pages.</p>
  </details>
  
  <details open>
    <summary>What is JavaScript?</summary>
    <p>JavaScript is a programming language that enables interactive web pages.</p>
  </details>
</body>
</html>
```

---

### JavaScript Integration

```html
<details id="myDetails">
  <summary>Click to expand</summary>
  <p>Hidden content</p>
</details>

<script>
  const details = document.getElementById('myDetails');
  
  // Listen for toggle event
  details.addEventListener('toggle', (e) => {
    if (details.open) {
      console.log('Details opened');
    } else {
      console.log('Details closed');
    }
  });
  
  // Programmatically open/close
  function openDetails() {
    details.open = true;
  }
  
  function closeDetails() {
    details.open = false;
  }
  
  function toggleDetails() {
    details.open = !details.open;
  }
</script>
```

---

### Accordion Pattern (Only One Open)

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Accordion</title>
  <style>
    details {
      border: 1px solid #ddd;
      margin: 10px 0;
      padding: 10px;
    }
    
    summary {
      font-weight: bold;
      cursor: pointer;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div class="accordion">
    <details>
      <summary>Section 1</summary>
      <p>Content for section 1</p>
    </details>
    
    <details>
      <summary>Section 2</summary>
      <p>Content for section 2</p>
    </details>
    
    <details>
      <summary>Section 3</summary>
      <p>Content for section 3</p>
    </details>
  </div>
  
  <script>
    const accordion = document.querySelector('.accordion');
    const allDetails = accordion.querySelectorAll('details');
    
    allDetails.forEach((details) => {
      details.addEventListener('toggle', () => {
        if (details.open) {
          // Close all other details
          allDetails.forEach((otherDetails) => {
            if (otherDetails !== details) {
              otherDetails.open = false;
            }
          });
        }
      });
    });
  </script>
</body>
</html>
```

---

### Real-World Use Cases

**1. FAQ Section**

```html
<section class="faq">
  <h2>Frequently Asked Questions</h2>
  
  <details>
    <summary>How do I create an account?</summary>
    <p>Click the "Sign Up" button in the top right corner and fill out the registration form.</p>
  </details>
  
  <details>
    <summary>Is my data secure?</summary>
    <p>Yes, we use industry-standard encryption to protect all user data.</p>
  </details>
</section>
```

**2. Show More/Less Content**

```html
<article>
  <h2>Article Title</h2>
  <p>First paragraph is always visible...</p>
  
  <details>
    <summary>Read more</summary>
    <p>Additional content that's hidden by default...</p>
    <p>More paragraphs...</p>
    <p>Even more content...</p>
  </details>
</article>
```

**3. Filter/Options Panel**

```html
<aside class="filters">
  <h3>Filters</h3>
  
  <details open>
    <summary>Price Range</summary>
    <input type="range" min="0" max="1000">
  </details>
  
  <details>
    <summary>Categories</summary>
    <label><input type="checkbox"> Electronics</label>
    <label><input type="checkbox"> Clothing</label>
    <label><input type="checkbox"> Books</label>
  </details>
  
  <details>
    <summary>Brands</summary>
    <label><input type="checkbox"> Apple</label>
    <label><input type="checkbox"> Samsung</label>
    <label><input type="checkbox"> Sony</label>
  </details>
</aside>
```

**4. Code Examples with Collapsible Source**

```html
<article>
  <h3>JavaScript Example</h3>
  <p>Here's a simple function:</p>
  
  <details>
    <summary>Show code</summary>
    <pre><code>
function greet(name) {
  return `Hello, ${name}!`;
}

console.log(greet('World'));
    </code></pre>
  </details>
</article>
```

---

### Accessibility Considerations

```html
<!-- âœ… Good: Clear summary text -->
<details>
  <summary>What are your business hours?</summary>
  <p>We're open Monday-Friday, 9am-5pm EST.</p>
</details>

<!-- âŒ Bad: Vague summary -->
<details>
  <summary>Click here</summary>
  <p>We're open Monday-Friday, 9am-5pm EST.</p>
</details>

<!-- âœ… Good: Keyboard accessible (built-in) -->
<!-- Users can press Enter or Space to toggle -->

<!-- âœ… Good: Screen reader announces expanded/collapsed state -->
```

---

## 7.2 The `<dialog>` Element - Modal Dialogs

Creates modal and non-modal dialogs **with built-in functionality**!

**Basic Syntax:**

```html
<dialog id="myDialog">
  <h2>Dialog Title</h2>
  <p>Dialog content goes here.</p>
  <button onclick="closeDialog()">Close</button>
</dialog>

<button onclick="openDialog()">Open Dialog</button>

<script>
  const dialog = document.getElementById('myDialog');
  
  function openDialog() {
    dialog.showModal(); // Opens as modal (with backdrop)
  }
  
  function closeDialog() {
    dialog.close();
  }
</script>
```

---

### Modal vs Non-Modal

**Modal Dialog (Blocks interaction with page):**

```html
<dialog id="modal">
  <p>This is a modal dialog.</p>
  <button onclick="document.getElementById('modal').close()">Close</button>
</dialog>

<script>
  // Open as modal
  document.getElementById('modal').showModal();
</script>
```

**Non-Modal Dialog (Doesn't block interaction):**

```html
<dialog id="nonmodal">
  <p>This is a non-modal dialog.</p>
  <button onclick="document.getElementById('nonmodal').close()">Close</button>
</dialog>

<script>
  // Open as non-modal
  document.getElementById('nonmodal').show();
</script>
```

**Comparison:**

```
Modal Dialog:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Dark backdrop covering page]  â”‚
â”‚                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ Dialog Content      â”‚     â”‚
â”‚   â”‚                     â”‚     â”‚
â”‚   â”‚ [Close Button]      â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â† Can't interact with page

Non-Modal Dialog:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Regular page content]         â”‚
â”‚                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ Dialog Content      â”‚     â”‚
â”‚   â”‚ [Close Button]      â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â† Can still interact with page
```

---

### Complete Dialog Example

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dialog Examples</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
    }
    
    /* Dialog styling */
    dialog {
      border: none;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      padding: 0;
      max-width: 500px;
    }
    
    /* Backdrop (behind modal) */
    dialog::backdrop {
      background: rgba(0, 0, 0, 0.5);
    }
    
    .dialog-header {
      background: #0066cc;
      color: white;
      padding: 20px;
      border-radius: 8px 8px 0 0;
    }
    
    .dialog-header h2 {
      margin: 0;
    }
    
    .dialog-content {
      padding: 20px;
    }
    
    .dialog-footer {
      padding: 20px;
      text-align: right;
      border-top: 1px solid #ddd;
    }
    
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    
    .btn-primary {
      background: #0066cc;
      color: white;
    }
    
    .btn-secondary {
      background: #ddd;
      color: #333;
      margin-right: 10px;
    }
    
    .btn-primary:hover {
      background: #0052a3;
    }
    
    .btn-secondary:hover {
      background: #ccc;
    }
  </style>
</head>
<body>
  <h1>Dialog Element Examples</h1>
  
  <button onclick="showConfirm()" class="btn-primary">
    Show Confirmation Dialog
  </button>
  
  <button onclick="showAlert()" class="btn-primary">
    Show Alert Dialog
  </button>
  
  <button onclick="showForm()" class="btn-primary">
    Show Form Dialog
  </button>
  
  <!-- Confirmation Dialog -->
  <dialog id="confirmDialog">
    <div class="dialog-header">
      <h2>Confirm Action</h2>
    </div>
    <div class="dialog-content">
      <p>Are you sure you want to delete this item?</p>
    </div>
    <div class="dialog-footer">
      <button class="btn-secondary" onclick="closeConfirm()">Cancel</button>
      <button class="btn-primary" onclick="confirmAction()">Delete</button>
    </div>
  </dialog>
  
  <!-- Alert Dialog -->
  <dialog id="alertDialog">
    <div class="dialog-header">
      <h2>Success!</h2>
    </div>
    <div class="dialog-content">
      <p>Your changes have been saved successfully.</p>
    </div>
    <div class="dialog-footer">
      <button class="btn-primary" onclick="closeAlert()">OK</button>
    </div>
  </dialog>
  
  <!-- Form Dialog -->
  <dialog id="formDialog">
    <div class="dialog-header">
      <h2>Contact Form</h2>
    </div>
    <form method="dialog" class="dialog-content">
      <label for="name">Name:</label>
      <input type="text" id="name" style="width: 100%; padding: 8px; margin: 5px 0 15px;">
      
      <label for="email">Email:</label>
      <input type="email" id="email" style="width: 100%; padding: 8px; margin: 5px 0 15px;">
      
      <label for="message">Message:</label>
      <textarea id="message" rows="4" style="width: 100%; padding: 8px; margin: 5px 0;"></textarea>
    </form>
    <div class="dialog-footer">
      <button class="btn-secondary" onclick="closeForm()">Cancel</button>
      <button class="btn-primary" onclick="submitForm()">Submit</button>
    </div>
  </dialog>
  
  <script>
    const confirmDialog = document.getElementById('confirmDialog');
    const alertDialog = document.getElementById('alertDialog');
    const formDialog = document.getElementById('formDialog');
    
    function showConfirm() {
      confirmDialog.showModal();
    }
    
    function closeConfirm() {
      confirmDialog.close();
    }
    
    function confirmAction() {
      alert('Item deleted!');
      confirmDialog.close();
    }
    
    function showAlert() {
      alertDialog.showModal();
    }
    
    function closeAlert() {
      alertDialog.close();
    }
    
    function showForm() {
      formDialog.showModal();
    }
    
    function closeForm() {
      formDialog.close();
    }
    
    function submitForm() {
      alert('Form submitted!');
      formDialog.close();
    }
    
    // Close on ESC key (built-in for modal dialogs)
    // Close when clicking backdrop
    [confirmDialog, alertDialog, formDialog].forEach(dialog => {
      dialog.addEventListener('click', (e) => {
        if (e.target === dialog) {
          dialog.close();
        }
      });
    });
  </script>
</body>
</html>
```

---

### Dialog Methods and Events

**Methods:**

```javascript
const dialog = document.getElementById('myDialog');

// Open as modal (with backdrop, blocks page interaction)
dialog.showModal();

// Open as non-modal (no backdrop, doesn't block page)
dialog.show();

// Close dialog
dialog.close();

// Close with return value
dialog.close('confirmed');
```

**Events:**

```javascript
const dialog = document.getElementById('myDialog');

// When dialog opens
dialog.addEventListener('open', () => {
  console.log('Dialog opened');
});

// When dialog closes
dialog.addEventListener('close', () => {
  console.log('Dialog closed');
  console.log('Return value:', dialog.returnValue);
});

// When user cancels (ESC key)
dialog.addEventListener('cancel', (e) => {
  console.log('Dialog cancelled');
  // e.preventDefault(); // Prevent closing
});
```

---

### Form in Dialog

```html
<dialog id="formDialog">
  <h2>User Information</h2>
  
  <!-- method="dialog" makes buttons close dialog -->
  <form method="dialog">
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required>
    
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    
    <!-- value becomes dialog.returnValue -->
    <button type="submit" value="save">Save</button>
    <button type="submit" value="cancel">Cancel</button>
  </form>
</dialog>

<script>
  const dialog = document.getElementById('formDialog');
  
  dialog.addEventListener('close', () => {
    if (dialog.returnValue === 'save') {
      console.log('User saved form');
      // Process form data
    } else {
      console.log('User cancelled');
    }
  });
</script>
```

---

### Accessibility Features (Built-in!)

```html
<dialog id="accessibleDialog">
  <h2>Accessible Dialog</h2>
  <p>Dialog elements are accessible by default!</p>
  <button onclick="document.getElementById('accessibleDialog').close()">Close</button>
</dialog>
```

**Built-in Accessibility:**
- âœ… Traps focus inside modal dialog
- âœ… ESC key closes modal
- âœ… Screen readers announce dialog opening
- âœ… Returns focus to trigger element when closed
- âœ… ARIA attributes automatically applied
- âœ… Backdrop prevents interaction with page

---

### Browser Support and Polyfill

**Native Support:**
- âœ… Chrome 37+
- âœ… Edge 79+
- âœ… Firefox 98+
- âœ… Safari 15.4+

**For older browsers:**

```html
<!-- Check for support -->
<script>
  if (typeof HTMLDialogElement !== 'function') {
    // Load polyfill
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/dialog-polyfill@0.5.6/dist/dialog-polyfill.min.js';
    document.head.appendChild(script);
    
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'https://cdn.jsdelivr.net/npm/dialog-polyfill@0.5.6/dist/dialog-polyfill.css';
    document.head.appendChild(link);
  }
</script>
```

---

## 7.3 Content Sectioning

### `<div>` - Generic Container (Non-Semantic)

The most generic container element. Use when no semantic element fits.

```html
<!-- âœ… Good: For styling/layout only -->
<div class="container">
  <div class="row">
    <div class="col">Content</div>
  </div>
</div>

<!-- âŒ Bad: Should use semantic elements -->
<div class="header">  <!-- Should be <header> -->
  <div class="nav">   <!-- Should be <nav> -->
    <div class="link">Home</div>  <!-- Should be <a> -->
  </div>
</div>

<!-- âœ… Good: Use semantic elements -->
<header>
  <nav>
    <a href="/">Home</a>
  </nav>
</header>
```

**When to use `<div>`:**
- Styling wrappers
- Layout containers
- Grid/flexbox containers
- When no semantic element fits

**When NOT to use `<div>`:**
- When semantic element exists
- For text content (use `<p>`)
- For lists (use `<ul>`, `<ol>`)
- For headings (use `<h1>`-`<h6>`)

---

### `<span>` - Generic Inline Container (Non-Semantic)

The inline equivalent of `<div>`.

```html
<!-- âœ… Good: Styling part of text -->
<p>The price is <span class="highlight">$99.99</span> today only!</p>

<!-- âœ… Good: Grouping inline elements -->
<p>
  Contact us at 
  <span class="contact-info">
    <a href="tel:+15551234567">555-123-4567</a>
  </span>
</p>

<!-- âŒ Bad: Should use semantic elements -->
<span class="bold">Important</span>  <!-- Use <strong> -->
<span class="italic">Emphasis</span>  <!-- Use <em> -->

<!-- âœ… Good: Use semantic elements -->
<strong>Important</strong>
<em>Emphasis</em>
```

**When to use `<span>`:**
- Styling parts of text
- Wrapping inline elements for JavaScript
- When no semantic inline element fits

**When NOT to use `<span>`:**
- For emphasis (use `<em>`)
- For importance (use `<strong>`)
- For links (use `<a>`)
- For code (use `<code>`)

---

### Decision Tree: Semantic vs Generic

```
Need a container?
    â”‚
    â”œâ”€ Is it semantic content?
    â”‚   â”‚
    â”‚   â”œâ”€ Navigation? â†’ <nav>
    â”‚   â”œâ”€ Header? â†’ <header>
    â”‚   â”œâ”€ Footer? â†’ <footer>
    â”‚   â”œâ”€ Main content? â†’ <main>
    â”‚   â”œâ”€ Article? â†’ <article>
    â”‚   â”œâ”€ Section? â†’ <section>
    â”‚   â”œâ”€ Aside? â†’ <aside>
    â”‚   â””â”€ Important text? â†’ <strong>
    â”‚
    â””â”€ Is it purely for styling/layout? â†’ <div> or <span>
```

---

## 7.4 Ruby Annotations

For East Asian typography (Japanese, Chinese, Korean).

**What is Ruby?**
Small annotations above or beside base text, showing pronunciation or meaning.

**Visual Example:**

```
æ¼¢å­—
 â†‘
ã‹ã‚“ã˜ â† Ruby text (pronunciation)
```

---

### Basic Ruby Syntax

```html
<ruby>
  æ¼¢å­—
  <rt>ã‹ã‚“ã˜</rt>
</ruby>
```

**Elements:**
- `<ruby>` - Container
- `<rt>` - Ruby text (annotation)
- `<rp>` - Ruby parentheses (fallback for old browsers)

---

### Ruby with Fallback

```html
<ruby>
  æ¼¢å­—
  <rp>(</rp>
  <rt>ã‹ã‚“ã˜</rt>
  <rp>)</rp>
</ruby>
```

**How it works:**
- Modern browsers: Shows annotation above
- Old browsers: Shows "æ¼¢å­—(ã‹ã‚“ã˜)"

---

### Multiple Characters

```html
<!-- Japanese -->
<p>
  I'm studying 
  <ruby>
    æ—¥æœ¬èª
    <rt>ã«ã»ã‚“ã”</rt>
  </ruby>
  at university.
</p>

<!-- Chinese -->
<p>
  This is 
  <ruby>
    ä¸­æ–‡
    <rt>zhÅng wÃ©n</rt>
  </ruby>
</p>
```

---

### Character-by-Character Annotations

```html
<ruby>
  <rb>æ±</rb><rt>ã¨ã†</rt>
  <rb>äº¬</rb><rt>ãã‚‡ã†</rt>
</ruby>
```

**Result:** 

```
æ±  äº¬
ã¨ã† ãã‚‡ã†
```

---

### Complete Ruby Example

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Ruby Annotations Example</title>
  <style>
    body {
      font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
      font-size: 20px;
      line-height: 2;
      padding: 40px;
    }
    
    ruby {
      ruby-align: center;
    }
    
    rt {
      font-size: 0.6em;
    }
  </style>
</head>
<body>
  <h1>Ruby Annotations in Japanese</h1>
  
  <p>
    <ruby>
      ç§<rp>(</rp><rt>ã‚ãŸã—</rt><rp>)</rp>
    </ruby>
    ã¯
    <ruby>
      å­¦ç”Ÿ<rp>(</rp><rt>ãŒãã›ã„</rt><rp>)</rp>
    </ruby>
    ã§ã™ã€‚
  </p>
  
  <p>
    <ruby>
      æ±äº¬<rp>(</rp><rt>ã¨ã†ãã‚‡ã†</rt><rp>)</rp>
    </ruby>
    ã«
    <ruby>
      ä½<rp>(</rp><rt>ã™</rt><rp>)</rp>
    </ruby>
    ã‚“ã§ã„ã¾ã™ã€‚
  </p>
  
  <h2>Character-by-Character</h2>
  <p>
    <ruby>
      <rb>æ—¥</rb><rt>ã«</rt>
      <rb>æœ¬</rb><rt>ã»ã‚“</rt>
      <rb>èª</rb><rt>ã”</rt>
    </ruby>
  </p>
</body>
</html>
```

---

## 7.5 Web Components

### `<template>` - HTML Template

Defines HTML that is **not rendered** until cloned by JavaScript.

**Why use templates?**
- Content is parsed but not rendered
- Can be cloned multiple times
- More efficient than creating HTML with JS
- Reusable components

---

### Basic Template

```html
<template id="myTemplate">
  <div class="card">
    <h3>Title</h3>
    <p>Description</p>
    <button>Click me</button>
  </div>
</template>

<div id="container"></div>

<script>
  const template = document.getElementById('myTemplate');
  const container = document.getElementById('container');
  
  // Clone and insert template
  const clone = template.content.cloneNode(true);
  container.appendChild(clone);
</script>
```

**Key Points:**
- Template content is **not displayed** by default
- Template is **inert** - scripts don't run, images don't load
- Must be **cloned** to use
- Can be cloned **multiple times**

---

### Product Card Template Example

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Template Example</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .product-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .product-card img {
      width: 100%;
      border-radius: 4px;
    }
    
    .product-card h3 {
      margin: 10px 0;
    }
    
    .product-card .price {
      color: #0066cc;
      font-size: 1.5em;
      font-weight: bold;
    }
    
    .product-card button {
      width: 100%;
      padding: 10px;
      background: #0066cc;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>Product List</h1>
  <div class="products" id="products"></div>
  
  <!-- Template -->
  <template id="productTemplate">
    <div class="product-card">
      <img src="" alt="" class="product-image">
      <h3 class="product-name"></h3>
      <p class="product-description"></p>
      <div class="price"></div>
      <button class="add-to-cart">Add to Cart</button>
    </div>
  </template>
  
  <script>
    const products = [
      { name: 'Laptop', price: 999, image: 'https://via.placeholder.com/250', description: 'Powerful laptop' },
      { name: 'Mouse', price: 29, image: 'https://via.placeholder.com/250', description: 'Wireless mouse' },
      { name: 'Keyboard', price: 79, image: 'https://via.placeholder.com/250', description: 'Mechanical keyboard' },
      { name: 'Monitor', price: 299, image: 'https://via.placeholder.com/250', description: '27-inch monitor' }
    ];
    
    const template = document.getElementById('productTemplate');
    const container = document.getElementById('products');
    
    products.forEach(product => {
      // Clone template
      const clone = template.content.cloneNode(true);
      
      // Fill in data
      clone.querySelector('.product-image').src = product.image;
      clone.querySelector('.product-image').alt = product.name;
      clone.querySelector('.product-name').textContent = product.name;
      clone.querySelector('.product-description').textContent = product.description;
      clone.querySelector('.price').textContent = `$${product.price}`;
      
      // Add event listener
      clone.querySelector('.add-to-cart').addEventListener('click', () => {
        alert(`Added ${product.name} to cart!`);
      });
      
      // Append to container
      container.appendChild(clone);
    });
  </script>
</body>
</html>
```

---

### Table Row Template

```html
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="userTableBody"></tbody>
</table>

<template id="userRowTemplate">
  <tr>
    <td class="name"></td>
    <td class="email"></td>
    <td class="role"></td>
    <td>
      <button class="edit-btn">Edit</button>
      <button class="delete-btn">Delete</button>
    </td>
  </tr>
</template>

<script>
  const users = [
    { name: 'John Doe', email: 'john@example.com', role: 'Admin' },
    { name: 'Jane Smith', email: 'jane@example.com', role: 'User' }
  ];
  
  const template = document.getElementById('userRowTemplate');
  const tbody = document.getElementById('userTableBody');
  
  users.forEach(user => {
    const clone = template.content.cloneNode(true);
    
    clone.querySelector('.name').textContent = user.name;
    clone.querySelector('.email').textContent = user.email;
    clone.querySelector('.role').textContent = user.role;
    
    clone.querySelector('.edit-btn').addEventListener('click', () => {
      alert(`Edit ${user.name}`);
    });
    
    clone.querySelector('.delete-btn').addEventListener('click', () => {
      alert(`Delete ${user.name}`);
    });
    
    tbody.appendChild(clone);
  });
</script>
```

---

### `<slot>` - Template Placeholders

Used in Web Components to create insertion points.

**Note:** Slots are primarily used with Shadow DOM, which is beyond basic HTML.

**Basic Concept:**

```html
<template id="cardTemplate">
  <div class="card">
    <slot name="title">Default Title</slot>
    <slot name="content">Default Content</slot>
  </div>
</template>
```

---

### Custom Elements (Advanced)

```html
<!-- Define custom element -->
<script>
  class UserCard extends HTMLElement {
    constructor() {
      super();
      
      // Attach shadow DOM
      const shadow = this.attachShadow({ mode: 'open' });
      
      // Create template
      const template = document.createElement('template');
      template.innerHTML = `
        <style>
          .card {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
          }
        </style>
        <div class="card">
          <h3><slot name="name">User Name</slot></h3>
          <p><slot name="email">user@example.com</slot></p>
        </div>
      `;
      
      shadow.appendChild(template.content.cloneNode(true));
    }
  }
  
  // Register custom element
  customElements.define('user-card', UserCard);
</script>

<!-- Use custom element -->
<user-card>
  <span slot="name">John Doe</span>
  <span slot="email">john@example.com</span>
</user-card>
```

---

## Complete Advanced Elements Example

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced HTML Elements Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .section {
      margin: 40px 0;
      padding: 30px;
      background: #f9f9f9;
      border-radius: 8px;
    }
    
    h1 {
      color: #333;
      margin-bottom: 30px;
      text-align: center;
    }
    
    h2 {
      color: #0066cc;
      margin-bottom: 20px;
    }
    
    /* Details styling */
    details {
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      margin: 10px 0;
    }
    
    summary {
      font-weight: bold;
      cursor: pointer;
      user-select: none;
    }
    
    /* Dialog styling */
    dialog {
      border: none;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      padding: 30px;
      max-width: 500px;
    }
    
    dialog::backdrop {
      background: rgba(0, 0, 0, 0.5);
    }
    
    /* Template items */
    .items {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .item-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    button {
      padding: 10px 20px;
      background: #0066cc;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    
    button:hover {
      background: #0052a3;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Advanced HTML Elements Showcase</h1>
    
    <!-- Details/Summary Section -->
    <section class="section">
      <h2>1. Collapsible FAQ (Details/Summary)</h2>
      
      <details>
        <summary>What are semantic HTML elements?</summary>
        <p>Semantic HTML elements clearly describe their meaning in a human and machine-readable way. Examples include &lt;header&gt;, &lt;nav&gt;, &lt;article&gt;, etc.</p>
      </details>
      
      <details>
        <summary>Why use semantic HTML?</summary>
        <p>Semantic HTML improves accessibility, SEO, and code maintainability. It helps screen readers, search engines, and developers understand your content structure.</p>
      </details>
      
      <details open>
        <summary>What's the difference between &lt;div&gt; and &lt;section&gt;?</summary>
        <p>&lt;div&gt; is a generic container with no semantic meaning. &lt;section&gt; represents a thematic grouping of content, typically with a heading.</p>
      </details>
    </section>
    
    <!-- Dialog Section -->
    <section class="section">
      <h2>2. Modal Dialog</h2>
      
      <button onclick="showDialog()">Open Modal Dialog</button>
      
      <dialog id="demoDialog">
        <h2>Welcome!</h2>
        <p>This is a native HTML dialog element. Press ESC to close or click outside.</p>
        <button onclick="closeDialog()">Close</button>
      </dialog>
    </section>
    
    <!-- Template Section -->
    <section class="section">
      <h2>3. Dynamic Content from Template</h2>
      
      <button onclick="addItem()">Add Item</button>
      
      <div class="items" id="itemsContainer"></div>
      
      <template id="itemTemplate">
        <div class="item-card">
          <h3 class="item-title"></h3>
          <p class="item-description"></p>
          <small class="item-date"></small>
        </div>
      </template>
    </section>
    
    <!-- Ruby Annotation Section -->
    <section class="section">
      <h2>4. Ruby Annotations (for Japanese)</h2>
      
      <p style="font-size: 24px; line-height: 2.5;">
        <ruby>
          æ—¥æœ¬èª<rp>(</rp><rt>ã«ã»ã‚“ã”</rt><rp>)</rp>
        </ruby>
        ã‚’
        <ruby>
          å‹‰å¼·<rp>(</rp><rt>ã¹ã‚“ãã‚‡ã†</rt><rp>)</rp>
        </ruby>
        ã—ã¦ã„ã¾ã™ã€‚
      </p>
      <p><small>Translation: "I am studying Japanese."</small></p>
    </section>
  </div>
  
  <script>
    // Dialog functionality
    const dialog = document.getElementById('demoDialog');
    
    function showDialog() {
      dialog.showModal();
    }
    
    function closeDialog() {
      dialog.close();
    }
    
    // Close on backdrop click
    dialog.addEventListener('click', (e) => {
      if (e.target === dialog) {
        dialog.close();
      }
    });
    
    // Template functionality
    const template = document.getElementById('itemTemplate');
    const container = document.getElementById('itemsContainer');
    let itemCount = 0;
    
    function addItem() {
      itemCount++;
      const clone = template.content.cloneNode(true);
      
      clone.querySelector('.item-title').textContent = `Item ${itemCount}`;
      clone.querySelector('.item-description').textContent = `This is item number ${itemCount}`;
      clone.querySelector('.item-date').textContent = new Date().toLocaleString();
      
      container.appendChild(clone);
    }
  </script>
</body>
</html>
```

---

## Key Takeaways from Chapter 7

### Details/Summary:
1. **No JavaScript needed** - Built-in collapsible sections
2. **Perfect for FAQs** - Clean, semantic accordion
3. **Accessible by default** - Screen readers understand
4. **Customizable with CSS** - Style however you want
5. **`open` attribute** - Start expanded

### Dialog:
6. **Native modals** - No library needed
7. **`.showModal()`** - Opens with backdrop
8. **`.show()`** - Opens without backdrop
9. **Built-in accessibility** - Focus trapping, ESC key
10. **`::backdrop` pseudo-element** - Style the background

### Template:
11. **Efficient rendering** - Content parsed but not rendered
12. **Reusable components** - Clone multiple times
13. **Better than innerHTML** - More performant
14. **Perfect for dynamic lists** - Product cards, tables, etc.

### Best Practices:
15. **Use semantic elements first** - `<div>` and `<span>` last resort
16. **Details for collapsible content** - Don't reinvent the wheel
17. **Dialog for modals** - Modern, accessible solution
18. **Template for repeated content** - More efficient than DOM manipulation
19. **Ruby for East Asian text** - Proper pronunciation guides
20. **Always consider accessibility** - These elements help!

Master these advanced elements and you'll build modern, accessible, efficient web applications! ğŸš€
# Chapter 14: Modern HTML Patterns - In-Depth Explanation

## Introduction: Modern Web Development Principles

Modern HTML isn't just about tags and attributes - it's about **patterns and principles** that create robust, maintainable, accessible websites.

**This Chapter Covers:**
- Progressive enhancement
- Graceful degradation
- Responsive design principles
- Component-based thinking
- Document outline
- BEM methodology
- Modern best practices

---

## 14.1 Progressive Enhancement

**Philosophy:** Start with a solid foundation, then enhance for capable browsers.

### The Three Layers

**Layer 1: Content (HTML)**
- Works for everyone
- Accessible to all devices
- Basic functionality

**Layer 2: Presentation (CSS)**
- Visual enhancement
- Layout improvements
- Works even if CSS fails

**Layer 3: Behavior (JavaScript)**
- Interactive enhancements
- Advanced features
- Works even if JS disabled/fails

---

### Progressive Enhancement in Practice

**Example: Image Gallery**

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Progressive Enhancement Gallery</title>
  <style>
    /* Layer 2: CSS Enhancement */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      list-style: none;
      padding: 0;
    }
    
    .gallery img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      transition: transform 0.3s;
    }
    
    .gallery img:hover {
      transform: scale(1.05);
    }
    
    /* Lightbox (JavaScript enhanced) */
    .lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .lightbox.active {
      display: flex;
    }
    
    .lightbox img {
      max-width: 90%;
      max-height: 90%;
    }
  </style>
</head>
<body>
  <h1>Image Gallery</h1>
  
  <!-- Layer 1: HTML - Works without CSS or JS -->
  <ul class="gallery">
    <li>
      <!-- Regular links work even without JavaScript -->
      <a href="images/photo1-large.jpg">
        <img src="images/photo1-thumb.jpg" alt="Sunset over mountains">
      </a>
    </li>
    <li>
      <a href="images/photo2-large.jpg">
        <img src="images/photo2-thumb.jpg" alt="Ocean waves">
      </a>
    </li>
    <li>
      <a href="images/photo3-large.jpg">
        <img src="images/photo3-thumb.jpg" alt="Forest pathway">
      </a>
    </li>
  </ul>
  
  <!-- Lightbox (Layer 3: JavaScript Enhancement) -->
  <div class="lightbox" id="lightbox">
    <img src="" alt="" id="lightbox-image">
  </div>
  
  <!-- Layer 3: JavaScript Enhancement -->
  <script>
    // Check if JavaScript is available
    document.documentElement.classList.add('js-enabled');
    
    const galleryLinks = document.querySelectorAll('.gallery a');
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightbox-image');
    
    // Enhance links with JavaScript
    galleryLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault(); // Prevent default link behavior
        
        // Show in lightbox instead
        lightboxImage.src = link.href;
        lightboxImage.alt = link.querySelector('img').alt;
        lightbox.classList.add('active');
      });
    });
    
    // Close lightbox
    lightbox.addEventListener('click', () => {
      lightbox.classList.remove('active');
    });
    
    // Keyboard support (ESC to close)
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && lightbox.classList.contains('active')) {
        lightbox.classList.remove('active');
      }
    });
  </script>
  
  <!-- What happens in each scenario:
  
  No CSS, No JS:
  - Simple list of links
  - Clicking opens image in new page
  - Fully functional!
  
  CSS, No JS:
  - Nice grid layout
  - Hover effects
  - Clicking opens image in new page
  
  CSS + JS:
  - Grid layout
  - Lightbox modal
  - Smooth transitions
  - Keyboard support
  -->
</body>
</html>
```

**Visual Progression:**

```
Level 1 (HTML Only):
• Photo 1 (link)
• Photo 2 (link)
• Photo 3 (link)

Level 2 (HTML + CSS):
┌──────┬──────┬──────┐
│Photo1│Photo2│Photo3│
└──────┴──────┴──────┘

Level 3 (HTML + CSS + JS):
┌──────┬──────┬──────┐
│Photo1│Photo2│Photo3│ ← Click opens lightbox
└──────┴──────┴──────┘
```

---

### Form with Progressive Enhancement

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Progressive Form</title>
  <style>
    .form-group {
      margin: 15px 0;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
    }
    
    input {
      padding: 10px;
      width: 100%;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    
    /* Enhanced validation styling (CSS only if JS available) */
    .js-enabled input:invalid:not(:focus) {
      border-color: #dc3545;
    }
    
    .js-enabled input:valid:not(:focus) {
      border-color: #28a745;
    }
    
    .error-message {
      display: none;
      color: #dc3545;
      font-size: 14px;
      margin-top: 5px;
    }
    
    .js-enabled .error-message {
      display: block;
    }
  </style>
</head>
<body>
  <!-- Layer 1: HTML - Works without JS -->
  <form action="/submit" method="POST">
    <div class="form-group">
      <label for="email">Email:</label>
      <input 
        type="email" 
        id="email" 
        name="email" 
        required
      >
      <!-- Browser validation works even without JS -->
    </div>
    
    <div class="form-group">
      <label for="message">Message:</label>
      <textarea 
        id="message" 
        name="message" 
        required
        minlength="10"
      ></textarea>
    </div>
    
    <button type="submit">Send</button>
  </form>
  
  <!-- Layer 3: JavaScript Enhancement -->
  <script>
    document.documentElement.classList.add('js-enabled');
    
    const form = document.querySelector('form');
    const inputs = form.querySelectorAll('input, textarea');
    
    // Real-time validation (enhancement)
    inputs.forEach(input => {
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error-message';
      input.parentNode.appendChild(errorDiv);
      
      input.addEventListener('blur', () => {
        if (!input.validity.valid) {
          errorDiv.textContent = input.validationMessage;
        } else {
          errorDiv.textContent = '';
        }
      });
    });
    
    // AJAX submission (enhancement)
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const formData = new FormData(form);
      
      fetch('/submit', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        alert('Submitted successfully via AJAX!');
        form.reset();
      })
      .catch(error => {
        // Fallback to normal submission
        form.submit();
      });
    });
  </script>
  
  <!-- Without JavaScript:
       - Form submits normally
       - Server-side validation
       - Page reload
       
       With JavaScript:
       - Real-time validation
       - AJAX submission
       - No page reload
  -->
</body>
</html>
```

---

### Navigation with Progressive Enhancement

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Progressive Navigation</title>
  <style>
    nav ul {
      list-style: none;
      padding: 0;
      display: flex;
      gap: 1rem;
    }
    
    nav a {
      color: #333;
      text-decoration: none;
      padding: 0.5rem 1rem;
    }
    
    /* Submenu hidden by default */
    nav ul ul {
      display: none;
      position: absolute;
      background: white;
      border: 1px solid #ddd;
      padding: 0.5rem;
    }
    
    /* CSS-only dropdown (works without JS) */
    nav li:hover > ul {
      display: block;
    }
    
    /* JavaScript-enhanced version */
    .js-enabled nav ul ul {
      display: none !important;
    }
    
    .js-enabled nav ul ul.open {
      display: block !important;
    }
  </style>
</head>
<body>
  <!-- Layer 1: HTML - All links work -->
  <nav>
    <ul>
      <li>
        <a href="/">Home</a>
      </li>
      <li>
        <a href="/products">Products</a>
        <!-- Submenu still accessible via hover or direct link -->
        <ul>
          <li><a href="/products/laptops">Laptops</a></li>
          <li><a href="/products/phones">Phones</a></li>
        </ul>
      </li>
      <li>
        <a href="/about">About</a>
      </li>
    </ul>
  </nav>
  
  <!-- Layer 3: JavaScript Enhancement -->
  <script>
    document.documentElement.classList.add('js-enabled');
    
    // Add click handling for better mobile support
    const menuItems = document.querySelectorAll('nav > ul > li > a');
    
    menuItems.forEach(item => {
      const parentLi = item.parentElement;
      const submenu = parentLi.querySelector('ul');
      
      if (submenu) {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          submenu.classList.toggle('open');
        });
      }
    });
  </script>
</body>
</html>
```

---

## 14.2 Graceful Degradation

**Philosophy:** Build for modern browsers, ensure it works (degrades gracefully) in older ones.

### Difference from Progressive Enhancement

```
Progressive Enhancement:
Start basic → Add enhancements
└─ Build up from minimum

Graceful Degradation:
Start full-featured → Ensure fallbacks
└─ Build down from maximum
```

**In Practice:** Most projects use a combination of both.

---

### Feature Detection

**Check if feature is supported before using.**

```html
<script>
  // Check if browser supports feature
  if ('geolocation' in navigator) {
    // Use geolocation
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    // Fallback: Ask user to enter location
    showManualLocationInput();
  }
  
  // Check localStorage support
  function isLocalStorageAvailable() {
    try {
      const test = '__test__';
      localStorage.setItem(test, test);
      localStorage.removeItem(test);
      return true;
    } catch(e) {
      return false;
    }
  }
  
  if (isLocalStorageAvailable()) {
    // Use localStorage
    localStorage.setItem('data', 'value');
  } else {
    // Fallback: Use cookies or server storage
    document.cookie = 'data=value';
  }
  
  // Check CSS Grid support
  if (CSS.supports('display', 'grid')) {
    document.body.classList.add('grid-supported');
  } else {
    document.body.classList.add('no-grid');
  }
</script>

<style>
  /* Modern browsers */
  .grid-supported .layout {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
  }
  
  /* Fallback for old browsers */
  .no-grid .layout {
    display: flex;
    flex-wrap: wrap;
  }
</style>
```

---

### Modern Features with Fallbacks

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Graceful Degradation</title>
  <style>
    /* Modern: CSS Grid */
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    
    /* Fallback: Flexbox */
    @supports not (display: grid) {
      .products {
        display: flex;
        flex-wrap: wrap;
      }
      
      .product-card {
        flex: 0 1 calc(33.333% - 20px);
        margin: 10px;
      }
    }
    
    /* Fallback: Float (ancient browsers) */
    @supports not (display: flex) {
      .products::after {
        content: "";
        display: table;
        clear: both;
      }
      
      .product-card {
        float: left;
        width: 30%;
        margin: 1.5%;
      }
    }
  </style>
</head>
<body>
  <div class="products">
    <div class="product-card">Product 1</div>
    <div class="product-card">Product 2</div>
    <div class="product-card">Product 3</div>
  </div>
  
  <!-- Works in:
       - Modern browsers (Grid)
       - Older browsers (Flexbox)
       - Ancient browsers (Float)
  -->
</body>
</html>
```

---

### Video with Fallback

```html
<!-- Modern browsers: Native video -->
<video controls width="640" height="360">
  <source src="video.mp4" type="video/mp4">
  <source src="video.webm" type="video/webm">
  
  <!-- Fallback for browsers without HTML5 video -->
  <p>
    Your browser doesn't support HTML5 video. 
    <a href="video.mp4">Download the video</a> instead.
  </p>
</video>
```

---

### Picture Element with Fallbacks

```html
<picture>
  <!-- Modern: AVIF (smallest) -->
  <source srcset="image.avif" type="image/avif">
  
  <!-- Fallback: WebP -->
  <source srcset="image.webp" type="image/webp">
  
  <!-- Fallback: JPEG (universal) -->
  <img src="image.jpg" alt="Image">
</picture>
```

---

## 14.3 Responsive Design Principles

**One website that adapts to all screen sizes.**

### Mobile-First Approach

**Start with mobile, enhance for desktop.**

```css
/* ✅ Mobile-First (Recommended) */

/* Base styles (mobile) */
.container {
  padding: 10px;
}

.grid {
  display: block;
}

/* Tablet and up */
@media (min-width: 768px) {
  .container {
    padding: 20px;
  }
  
  .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop */
@media (min-width: 1024px) {
  .container {
    padding: 40px;
  }
  
  .grid {
    grid-template-columns: repeat(3, 1fr);
  }
}
```

**Why Mobile-First:**
- ✅ Easier to scale up than down
- ✅ Forces focus on essential content
- ✅ Better performance on mobile
- ✅ Aligns with mobile-first indexing (Google)

---

### Viewport Meta Tag (Essential!)

```html
<!-- ✅ Required for responsive design -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Optional attributes -->
<meta name="viewport" content="
  width=device-width,
  initial-scale=1.0,
  minimum-scale=1.0,
  maximum-scale=5.0,
  user-scalable=yes
">
```

**⚠️ Don't Disable Zoom:**

```html
<!-- ❌ Bad for accessibility -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<!-- ✅ Allow zoom (accessibility) -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```

---

### Responsive Images

```html
<!-- Responsive image with srcset -->
<img 
  srcset="
    mobile-400.jpg 400w,
    tablet-800.jpg 800w,
    desktop-1200.jpg 1200w
  "
  sizes="
    (max-width: 600px) 100vw,
    (max-width: 1000px) 50vw,
    33vw
  "
  src="tablet-800.jpg"
  alt="Responsive image"
  width="800"
  height="600"
>
```

---

### Responsive Typography

```html
<style>
  /* Mobile-first typography */
  body {
    font-size: 16px;
    line-height: 1.6;
  }
  
  h1 {
    font-size: 2rem; /* 32px */
  }
  
  /* Tablet */
  @media (min-width: 768px) {
    body {
      font-size: 18px;
    }
    
    h1 {
      font-size: 2.5rem; /* 45px */
    }
  }
  
  /* Desktop */
  @media (min-width: 1024px) {
    h1 {
      font-size: 3rem; /* 54px */
    }
  }
  
  /* Fluid typography (advanced) */
  h1 {
    font-size: clamp(2rem, 5vw, 4rem);
    /* Min: 2rem, Preferred: 5vw, Max: 4rem */
  }
</style>
```

---

### Complete Responsive Example

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Design Example</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
    }
    
    /* Mobile-first container */
    .container {
      padding: 10px;
    }
    
    /* Header (mobile) */
    header {
      background: #2c3e50;
      color: white;
      padding: 1rem;
    }
    
    .logo {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    
    nav ul {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    
    nav a {
      color: white;
      text-decoration: none;
      padding: 0.5rem;
      display: block;
    }
    
    /* Content grid (mobile: stacked) */
    .content-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin: 20px 0;
    }
    
    .card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    /* Tablet (768px+) */
    @media (min-width: 768px) {
      .container {
        padding: 20px;
      }
      
      .logo {
        font-size: 2rem;
      }
      
      nav ul {
        flex-direction: row;
        gap: 2rem;
      }
      
      .content-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    /* Desktop (1024px+) */
    @media (min-width: 1024px) {
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px;
      }
      
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .logo {
        margin-bottom: 0;
      }
      
      .content-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    /* Large desktop (1400px+) */
    @media (min-width: 1400px) {
      .content-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
    
    /* Print styles */
    @media print {
      header, nav {
        display: none;
      }
      
      .card {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">MyWebsite</div>
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </nav>
    </header>
    
    <main>
      <h1>Responsive Grid</h1>
      
      <div class="content-grid">
        <div class="card">Card 1</div>
        <div class="card">Card 2</div>
        <div class="card">Card 3</div>
        <div class="card">Card 4</div>
        <div class="card">Card 5</div>
        <div class="card">Card 6</div>
      </div>
    </main>
  </div>
  
  <!-- Responsive behavior:
  
  Mobile (<768px):
  - 1 column
  - Vertical nav
  
  Tablet (768-1023px):
  - 2 columns
  - Horizontal nav
  
  Desktop (1024-1399px):
  - 3 columns
  
  Large Desktop (1400px+):
  - 4 columns
  -->
</body>
</html>
```

---

## 14.4 Component-Based Thinking

**Think in reusable, self-contained components.**

### Card Component Pattern

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Component Pattern</title>
  <style>
    /* Card Component */
    .card {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .card__image {
      width: 100%;
      height: auto;
      display: block;
    }
    
    .card__content {
      padding: 20px;
    }
    
    .card__title {
      margin: 0 0 10px 0;
      color: #333;
    }
    
    .card__description {
      margin: 0 0 15px 0;
      color: #666;
      line-height: 1.6;
    }
    
    .card__footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .card__price {
      font-size: 1.5rem;
      font-weight: bold;
      color: #0066cc;
    }
    
    .card__button {
      padding: 10px 20px;
      background: #0066cc;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    /* Card variants */
    .card--featured {
      border: 2px solid #0066cc;
    }
    
    .card--featured .card__title {
      color: #0066cc;
    }
  </style>
</head>
<body>
  <!-- Standard Card -->
  <article class="card">
    <img 
      src="product1.jpg" 
      alt="Product 1" 
      class="card__image"
    >
    <div class="card__content">
      <h2 class="card__title">Product Name</h2>
      <p class="card__description">
        Brief description of the product goes here.
      </p>
      <div class="card__footer">
        <span class="card__price">$99.99</span>
        <button class="card__button">Add to Cart</button>
      </div>
    </div>
  </article>
  
  <!-- Featured Card (variant) -->
  <article class="card card--featured">
    <img 
      src="product2.jpg" 
      alt="Product 2" 
      class="card__image"
    >
    <div class="card__content">
      <h2 class="card__title">Featured Product</h2>
      <p class="card__description">
        This is a special featured product.
      </p>
      <div class="card__footer">
        <span class="card__price">$149.99</span>
        <button class="card__button">Add to Cart</button>
      </div>
    </div>
  </article>
</body>
</html>
```

**Component Benefits:**
- ✅ Reusable across pages
- ✅ Consistent appearance
- ✅ Easy to maintain
- ✅ Self-contained styles
- ✅ Predictable structure

---

### Template for Components

```html
<template id="card-template">
  <article class="card">
    <img src="" alt="" class="card__image">
    <div class="card__content">
      <h2 class="card__title"></h2>
      <p class="card__description"></p>
      <div class="card__footer">
        <span class="card__price"></span>
        <button class="card__button">Add to Cart</button>
      </div>
    </div>
  </article>
</template>

<div id="products-container"></div>

<script>
  const products = [
    { name: 'Product 1', price: '$99', image: 'p1.jpg', desc: 'Description 1' },
    { name: 'Product 2', price: '$149', image: 'p2.jpg', desc: 'Description 2' }
  ];
  
  const template = document.getElementById('card-template');
  const container = document.getElementById('products-container');
  
  products.forEach(product => {
    const clone = template.content.cloneNode(true);
    
    clone.querySelector('.card__image').src = product.image;
    clone.querySelector('.card__image').alt = product.name;
    clone.querySelector('.card__title').textContent = product.name;
    clone.querySelector('.card__description').textContent = product.desc;
    clone.querySelector('.card__price').textContent = product.price;
    
    container.appendChild(clone);
  });
</script>
```

---

## 14.5 BEM Methodology

**BEM: Block Element Modifier**

**Structure:** `block__element--modifier`

### BEM Naming Convention

```html
<!-- Block: Standalone component -->
<div class="card">
  
  <!-- Element: Part of block -->
  <div class="card__header">
    <h2 class="card__title">Title</h2>
  </div>
  
  <div class="card__body">
    <p class="card__text">Content</p>
  </div>
  
  <div class="card__footer">
    <button class="card__button">Action</button>
  </div>
</div>

<!-- Modifier: Variation of block or element -->
<div class="card card--featured">
  <h2 class="card__title card__title--large">Large Title</h2>
  <button class="card__button card__button--primary">Primary</button>
</div>
```

---

### BEM Examples

**Button Component:**

```html
<style>
  /* Block */
  .button {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
  }
  
  /* Modifiers */
  .button--primary {
    background: #0066cc;
    color: white;
  }
  
  .button--secondary {
    background: #6c757d;
    color: white;
  }
  
  .button--large {
    padding: 15px 30px;
    font-size: 18px;
  }
  
  .button--small {
    padding: 5px 10px;
    font-size: 14px;
  }
</style>

<!-- Usage -->
<button class="button button--primary">Primary Button</button>
<button class="button button--secondary">Secondary Button</button>
<button class="button button--primary button--large">Large Primary</button>
<button class="button button--secondary button--small">Small Secondary</button>
```

**Form Component:**

```html
<style>
  /* Block */
  .form {
    background: #f5f5f5;
    padding: 20px;
    border-radius: 8px;
  }
  
  /* Elements */
  .form__group {
    margin-bottom: 15px;
  }
  
  .form__label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
  }
  
  .form__input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  
  .form__button {
    padding: 12px 24px;
    background: #0066cc;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  /* Modifiers */
  .form--inline .form__group {
    display: inline-block;
    margin-right: 10px;
  }
  
  .form__input--error {
    border-color: #dc3545;
  }
</style>

<!-- Usage -->
<form class="form">
  <div class="form__group">
    <label class="form__label">Email:</label>
    <input type="email" class="form__input">
  </div>
  
  <div class="form__group">
    <label class="form__label">Password:</label>
    <input type="password" class="form__input form__input--error">
  </div>
  
  <button class="form__button">Submit</button>
</form>
```

**BEM Benefits:**
- ✅ Clear naming convention
- ✅ Avoids CSS specificity wars
- ✅ Self-documenting
- ✅ Easy to understand structure
- ✅ Reusable components

---

## 14.6 Document Outline

**Proper semantic structure creates clear outline.**

### Good Document Outline

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Well-Structured Document</title>
</head>
<body>
  <!-- Level 1: Site Header -->
  <header>
    <h1>Website Name</h1>
    <nav>
      <h2 class="sr-only">Main Navigation</h2>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
      </ul>
    </nav>
  </header>
  
  <!-- Level 1: Main Content -->
  <main>
    <!-- Level 2: Page Title -->
    <h1>Page Title</h1>
    
    <!-- Level 2: Article -->
    <article>
      <h2>Article Title</h2>
      
      <!-- Level 3: Sections -->
      <section>
        <h3>Section 1</h3>
        <p>Content...</p>
        
        <!-- Level 4: Subsections -->
        <h4>Subsection 1.1</h4>
        <p>Content...</p>
      </section>
      
      <section>
        <h3>Section 2</h3>
        <p>Content...</p>
      </section>
    </article>
    
    <!-- Level 2: Sidebar -->
    <aside>
      <h2>Related Content</h2>
      <ul>
        <li><a href="#">Related 1</a></li>
        <li><a href="#">Related 2</a></li>
      </ul>
    </aside>
  </main>
  
  <!-- Level 1: Site Footer -->
  <footer>
    <h2 class="sr-only">Footer</h2>
    <p>&copy; 2024 Website</p>
  </footer>
</body>
</html>
```

**Document Outline:**

```
1. Website Name (Site Header)
   1.1 Main Navigation
2. Page Title (Main Content)
   2.1 Article Title
       2.1.1 Section 1
             2.1.1.1 Subsection 1.1
       2.1.2 Section 2
   2.2 Related Content (Sidebar)
3. Footer
```

---

### Sectioning Algorithm

**HTML5 sectioning elements create new outline sections.**

**Sectioning Elements:**
- `<article>` - Self-contained content
- `<section>` - Thematic grouping
- `<nav>` - Navigation
- `<aside>` - Tangential content

```html
<body>
  <h1>Level 1</h1>
  
  <article>
    <h1>Also Level 1 (article creates new section)</h1>
    
    <section>
      <h1>Also Level 1 (section creates new section)</h1>
    </section>
  </article>
  
  <aside>
    <h1>Also Level 1 (aside creates new section)</h1>
  </aside>
</body>
```

**⚠️ Note:** While HTML5 allows this, **best practice is still to use h1-h6 hierarchy** for maximum compatibility.

```html
<!-- ✅ Recommended: Traditional hierarchy -->
<body>
  <h1>Level 1</h1>
  
  <article>
    <h2>Level 2</h2>
    
    <section>
      <h3>Level 3</h3>
    </section>
  </article>
</body>
```

---

## 14.7 Modern HTML Patterns

### Pattern 1: Skip Link

```html
<style>
  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: #000;
    color: white;
    padding: 8px;
    z-index: 100;
  }
  
  .skip-link:focus {
    top: 0;
  }
</style>

<a href="#main-content" class="skip-link">Skip to main content</a>

<header>
  <!-- Navigation -->
</header>

<main id="main-content">
  <!-- Main content -->
</main>
```

---

### Pattern 2: Responsive Media Container

```html
<style>
  .media-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
  }
  
  .media-container iframe,
  .media-container video,
  .media-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>

<div class="media-container">
  <iframe src="https://www.youtube.com/embed/..." allowfullscreen></iframe>
</div>
```

---

### Pattern 3: Visually Hidden (Screen Reader Only)

```html
<style>
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
</style>

<button>
  <span class="sr-only">Close menu</span>
  <span aria-hidden="true">✕</span>
</button>
```

---

### Pattern 4: Loading States

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Loading Pattern</title>
  <style>
    .content {
      min-height: 200px;
      position: relative;
    }
    
    .content[data-loading="true"] {
      opacity: 0.5;
      pointer-events: none;
    }
    
    .spinner {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #0066cc;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    [data-loading="true"] .spinner {
      display: block;
    }
    
    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="content" id="content" data-loading="false">
    <div class="spinner"></div>
    <div id="data">
      <!-- Content here -->
    </div>
  </div>
  
  <button onclick="loadData()">Load Data</button>
  
  <script>
    function loadData() {
      const content = document.getElementById('content');
      content.setAttribute('data-loading', 'true');
      
      // Simulate API call
      setTimeout(() => {
        document.getElementById('data').innerHTML = '<p>Data loaded!</p>';
        content.setAttribute('data-loading', 'false');
      }, 2000);
    }
  </script>
</body>
</html>
```

---

### Pattern 5: Accordion (Details/Summary)

```html
<style>
  details {
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 10px;
    margin: 10px 0;
  }
  
  summary {
    font-weight: bold;
    cursor: pointer;
    user-select: none;
    padding: 10px;
    margin: -10px;
    background: #f5f5f5;
    border-radius: 4px;
  }
  
  summary:hover {
    background: #e0e0e0;
  }
  
  details[open] summary {
    margin-bottom: 10px;
  }
</style>

<details>
  <summary>Question 1</summary>
  <p>Answer to question 1...</p>
</details>

<details>
  <summary>Question 2</summary>
  <p>Answer to question 2...</p>
</details>
```

---

### Pattern 6: Modal Dialog (Native)

```html
<style>
  dialog {
    border: none;
    border-radius: 8px;
    padding: 30px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  
  dialog::backdrop {
    background: rgba(0, 0, 0, 0.5);
  }
</style>

<button onclick="document.getElementById('modal').showModal()">
  Open Modal
</button>

<dialog id="modal">
  <h2>Modal Title</h2>
  <p>Modal content...</p>
  <button onclick="document.getElementById('modal').close()">Close</button>
</dialog>
```

---

### Pattern 7: Tabs Pattern

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tabs Pattern</title>
  <style>
    .tabs {
      border-bottom: 2px solid #ddd;
      display: flex;
      gap: 0;
    }
    
    .tab {
      padding: 12px 24px;
      background: transparent;
      border: none;
      border-bottom: 3px solid transparent;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.2s;
    }
    
    .tab:hover {
      background: #f5f5f5;
    }
    
    .tab[aria-selected="true"] {
      border-bottom-color: #0066cc;
      font-weight: bold;
      color: #0066cc;
    }
    
    .tab-panel {
      padding: 20px 0;
    }
    
    .tab-panel[hidden] {
      display: none;
    }
  </style>
</head>
<body>
  <div role="tablist" class="tabs">
    <button role="tab" aria-selected="true" aria-controls="tab1" id="tab1-btn" class="tab">
      Tab 1
    </button>
    <button role="tab" aria-selected="false" aria-controls="tab2" id="tab2-btn" class="tab">
      Tab 2
    </button>
    <button role="tab" aria-selected="false" aria-controls="tab3" id="tab3-btn" class="tab">
      Tab 3
    </button>
  </div>
  
  <div role="tabpanel" id="tab1" aria-labelledby="tab1-btn" class="tab-panel">
    <h2>Tab 1 Content</h2>
    <p>Content for tab 1...</p>
  </div>
  
  <div role="tabpanel" id="tab2" aria-labelledby="tab2-btn" class="tab-panel" hidden>
    <h2>Tab 2 Content</h2>
    <p>Content for tab 2...</p>
  </div>
  
  <div role="tabpanel" id="tab3" aria-labelledby="tab3-btn" class="tab-panel" hidden>
    <h2>Tab 3 Content</h2>
    <p>Content for tab 3...</p>
  </div>
  
  <script>
    const tabs = document.querySelectorAll('[role="tab"]');
    const panels = document.querySelectorAll('[role="tabpanel"]');
    
    tabs.forEach((tab, index) => {
      tab.addEventListener('click', () => {
        // Deactivate all tabs
        tabs.forEach(t => t.setAttribute('aria-selected', 'false'));
        panels.forEach(p => p.hidden = true);
        
        // Activate clicked tab
        tab.setAttribute('aria-selected', 'true');
        panels[index].hidden = false;
      });
    });
  </script>
</body>
</html>
```

---

### Pattern 8: Toast Notifications

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Toast Notifications</title>
  <style>
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .toast {
      background: white;
      padding: 15px 20px;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      min-width: 300px;
      display: flex;
      align-items: center;
      gap: 10px;
      animation: slideIn 0.3s ease;
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    .toast--success {
      border-left: 4px solid #28a745;
    }
    
    .toast--error {
      border-left: 4px solid #dc3545;
    }
    
    .toast--info {
      border-left: 4px solid #0066cc;
    }
    
    .toast__icon {
      font-size: 24px;
    }
    
    .toast__message {
      flex: 1;
    }
    
    .toast__close {
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      opacity: 0.5;
    }
    
    .toast__close:hover {
      opacity: 1;
    }
  </style>
</head>
<body>
  <h1>Toast Notification Pattern</h1>
  
  <button onclick="showToast('success', 'Operation completed successfully!')">
    Show Success
  </button>
  
  <button onclick="showToast('error', 'An error occurred!')">
    Show Error
  </button>
  
  <button onclick="showToast('info', 'Here is some information')">
    Show Info
  </button>
  
  <div class="toast-container" id="toastContainer"></div>
  
  <script>
    function showToast(type, message) {
      const container = document.getElementById('toastContainer');
      
      // Create toast
      const toast = document.createElement('div');
      toast.className = `toast toast--${type}`;
      toast.setAttribute('role', 'status');
      toast.setAttribute('aria-live', 'polite');
      
      // Icon
      const icons = {
        success: '✓',
        error: '✕',
        info: 'ℹ'
      };
      
      toast.innerHTML = `
        <span class="toast__icon">${icons[type]}</span>
        <span class="toast__message">${message}</span>
        <button class="toast__close" onclick="this.parentElement.remove()">×</button>
      `;
      
      // Add to container
      container.appendChild(toast);
      
      // Auto-remove after 5 seconds
      setTimeout(() => {
        toast.style.animation = 'slideIn 0.3s ease reverse';
        setTimeout(() => toast.remove(), 300);
      }, 5000);
    }
  </script>
</body>
</html>
```

---

### Pattern 9: Infinite Scroll

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Infinite Scroll</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .item {
      background: #f5f5f5;
      padding: 20px;
      margin: 10px 0;
      border-radius: 4px;
    }
    
    .loading {
      text-align: center;
      padding: 20px;
      color: #666;
    }
  </style>
</head>
<body>
  <h1>Infinite Scroll Pattern</h1>
  
  <div id="content"></div>
  <div id="loading" class="loading" style="display: none;">
    Loading more items...
  </div>
  
  <script>
    let page = 1;
    let loading = false;
    
    // Load initial items
    loadItems();
    
    // Detect scroll near bottom
    window.addEventListener('scroll', () => {
      if (loading) return;
      
      const scrollTop = window.scrollY;
      const windowHeight = window.innerHeight;
      const documentHeight = document.documentElement.scrollHeight;
      
      // Load more when 200px from bottom
      if (scrollTop + windowHeight >= documentHeight - 200) {
        loadItems();
      }
    });
    
    function loadItems() {
      loading = true;
      document.getElementById('loading').style.display = 'block';
      
      // Simulate API call
      setTimeout(() => {
        const content = document.getElementById('content');
        
        // Add 10 items
        for (let i = 1; i <= 10; i++) {
          const item = document.createElement('div');
          item.className = 'item';
          item.textContent = `Item ${(page - 1) * 10 + i}`;
          content.appendChild(item);
        }
        
        page++;
        loading = false;
        document.getElementById('loading').style.display = 'none';
      }, 1000);
    }
  </script>
</body>
</html>
```

---

### Pattern 10: Search with Autocomplete

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search Autocomplete</title>
  <style>
    .search-container {
      position: relative;
      max-width: 500px;
      margin: 50px auto;
    }
    
    .search-input {
      width: 100%;
      padding: 15px;
      font-size: 16px;
      border: 2px solid #ddd;
      border-radius: 4px;
    }
    
    .search-input:focus {
      outline: none;
      border-color: #0066cc;
    }
    
    .suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ddd;
      border-top: none;
      border-radius: 0 0 4px 4px;
      max-height: 300px;
      overflow-y: auto;
      display: none;
    }
    
    .suggestions.show {
      display: block;
    }
    
    .suggestion-item {
      padding: 12px 15px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .suggestion-item:hover,
    .suggestion-item[aria-selected="true"] {
      background: #f0f0f0;
    }
    
    .suggestion-item mark {
      background: yellow;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Search with Autocomplete</h1>
  
  <div class="search-container">
    <input 
      type="text" 
      class="search-input"
      id="searchInput"
      placeholder="Search..."
      aria-autocomplete="list"
      aria-controls="suggestions"
      aria-expanded="false"
    >
    
    <div 
      class="suggestions" 
      id="suggestions"
      role="listbox"
    ></div>
  </div>
  
  <script>
    const searchInput = document.getElementById('searchInput');
    const suggestions = document.getElementById('suggestions');
    
    // Sample data
    const items = [
      'HTML Tutorial',
      'HTML Forms',
      'HTML5 APIs',
      'CSS Grid',
      'CSS Flexbox',
      'JavaScript Basics',
      'JavaScript Advanced',
      'React Components',
      'Vue.js Guide',
      'Angular Tutorial'
    ];
    
    let currentIndex = -1;
    
    // Input event
    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      
      if (query.length === 0) {
        hideSuggestions();
        return;
      }
      
      // Filter items
      const matches = items.filter(item => 
        item.toLowerCase().includes(query)
      );
      
      if (matches.length === 0) {
        hideSuggestions();
        return;
      }
      
      // Display suggestions
      displaySuggestions(matches, query);
    });
    
    // Keyboard navigation
    searchInput.addEventListener('keydown', (e) => {
      const suggestionItems = suggestions.querySelectorAll('.suggestion-item');
      
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        currentIndex = Math.min(currentIndex + 1, suggestionItems.length - 1);
        updateSelection(suggestionItems);
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        currentIndex = Math.max(currentIndex - 1, -1);
        updateSelection(suggestionItems);
      } else if (e.key === 'Enter') {
        if (currentIndex >= 0) {
          e.preventDefault();
          selectSuggestion(suggestionItems[currentIndex].textContent);
        }
      } else if (e.key === 'Escape') {
        hideSuggestions();
      }
    });
    
    function displaySuggestions(matches, query) {
      suggestions.innerHTML = matches.map((item, index) => {
        const highlighted = item.replace(
          new RegExp(query, 'gi'),
          match => `<mark>${match}</mark>`
        );
        
        return `
          <div 
            class="suggestion-item" 
            role="option"
            data-value="${item}"
            onclick="selectSuggestion('${item}')"
          >
            ${highlighted}
          </div>
        `;
      }).join('');
      
      suggestions.classList.add('show');
      searchInput.setAttribute('aria-expanded', 'true');
      currentIndex = -1;
    }
    
    function updateSelection(items) {
      items.forEach((item, index) => {
        item.setAttribute('aria-selected', index === currentIndex);
      });
      
      if (currentIndex >= 0) {
        items[currentIndex].scrollIntoView({ block: 'nearest' });
      }
    }
    
    function selectSuggestion(value) {
      searchInput.value = value;
      hideSuggestions();
      console.log('Selected:', value);
    }
    
    function hideSuggestions() {
      suggestions.classList.remove('show');
      suggestions.innerHTML = '';
      searchInput.setAttribute('aria-expanded', 'false');
      currentIndex = -1;
    }
    
    // Close on outside click
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.search-container')) {
        hideSuggestions();
      }
    });
  </script>
</body>
</html>
```

---

## Complete Modern HTML Pattern Library

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modern HTML Patterns</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      line-height: 1.6;
      color: #333;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .pattern {
      margin: 40px 0;
      padding: 30px;
      background: #f9f9f9;
      border-radius: 8px;
    }
    
    .pattern h2 {
      color: #0066cc;
      margin-bottom: 20px;
    }
    
    /* Skip Link Pattern */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: #000;
      color: white;
      padding: 8px 16px;
      text-decoration: none;
      z-index: 100;
    }
    
    .skip-link:focus {
      top: 0;
    }
    
    /* Screen Reader Only Pattern */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      white-space: nowrap;
      border: 0;
    }
    
    /* Card Pattern (BEM) */
    .card {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .card__header {
      padding: 20px;
      background: #f5f5f5;
      border-bottom: 1px solid #ddd;
    }
    
    .card__title {
      margin: 0;
      color: #333;
    }
    
    .card__body {
      padding: 20px;
    }
    
    .card__footer {
      padding: 15px 20px;
      background: #f5f5f5;
      border-top: 1px solid #ddd;
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    
    .card--featured {
      border: 2px solid #0066cc;
    }
    
    /* Button Pattern */
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.2s;
    }
    
    .btn--primary {
      background: #0066cc;
      color: white;
    }
    
    .btn--primary:hover {
      background: #0052a3;
    }
    
    .btn--secondary {
      background: #6c757d;
      color: white;
    }
    
    /* Grid Pattern (Responsive) */
    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }
    
    @media (min-width: 768px) {
      .grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (min-width: 1024px) {
      .grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    /* Loading Pattern */
    [data-loading="true"] {
      position: relative;
      opacity: 0.6;
      pointer-events: none;
    }
    
    [data-loading="true"]::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 30px;
      height: 30px;
      margin: -15px 0 0 -15px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid #0066cc;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Skip Link -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <div class="container">
    <h1>Modern HTML Pattern Library</h1>
    
    <!-- Pattern 1: Card Component -->
    <section class="pattern">
      <h2>1. Card Component (BEM)</h2>
      
      <div class="grid">
        <article class="card">
          <div class="card__header">
            <h3 class="card__title">Card Title</h3>
          </div>
          <div class="card__body">
            <p>Card content goes here. This is a reusable component.</p>
          </div>
          <div class="card__footer">
            <button class="btn btn--secondary">Cancel</button>
            <button class="btn btn--primary">Confirm</button>
          </div>
        </article>
        
        <article class="card card--featured">
          <div class="card__header">
            <h3 class="card__title">Featured Card</h3>
          </div>
          <div class="card__body">
            <p>This card is featured with a modifier class.</p>
          </div>
          <div class="card__footer">
            <button class="btn btn--primary">Action</button>
          </div>
        </article>
      </div>
    </section>
    
    <!-- Pattern 2: Accessible Tabs -->
    <section class="pattern">
      <h2>2. Accessible Tabs</h2>
      
      <div role="tablist">
        <button role="tab" aria-selected="true" class="btn">Tab 1</button>
        <button role="tab" aria-selected="false" class="btn">Tab 2</button>
      </div>
      
      <div role="tabpanel">
        <p>Tab 1 content</p>
      </div>
    </section>
    
    <!-- Pattern 3: Progressive Enhancement Form -->
    <section class="pattern" id="main-content">
      <h2>3. Progressive Enhancement Form</h2>
      
      <form action="/submit" method="POST">
        <div class="card">
          <div class="card__body">
            <label for="email">
              Email:
              <span class="sr-only">required</span>
            </label>
            <input 
              type="email" 
              id="email"
              required
              style="width: 100%; padding: 10px; margin-top: 5px;"
            >
          </div>
          <div class="card__footer">
            <button type="submit" class="btn btn--primary">
              Submit
            </button>
          </div>
        </div>
      </form>
    </section>
    
    <!-- Pattern 4: Loading State -->
    <section class="pattern">
      <h2>4. Loading State Pattern</h2>
      
      <div id="loadableContent" data-loading="false" style="min-height: 100px; background: white; padding: 20px; border-radius: 4px;">
        <p>Content is loaded</p>
      </div>
      
      <button onclick="simulateLoading()" class="btn btn--primary" style="margin-top: 10px;">
        Simulate Loading
      </button>
    </section>
  </div>
  
  <script>
    function simulateLoading() {
      const content = document.getElementById('loadableContent');
      content.setAttribute('data-loading', 'true');
      
      setTimeout(() => {
        content.setAttribute('data-loading', 'false');
      }, 2000);
    }
  </script>
</body>
</html>
```

---

## Key Takeaways from Chapter 14

### Progressive Enhancement:
1. **Start with HTML** - Foundation that works everywhere
2. **Add CSS** - Visual enhancement
3. **Add JavaScript** - Behavioral enhancement
4. **Each layer optional** - Site works without upper layers
5. **Test without JS** - Disable JavaScript and test

### Graceful Degradation:
6. **Feature detection** - Check before using
7. **Provide fallbacks** - Alternative for unsupported features
8. **Modern formats first** - AVIF → WebP → JPEG
9. **Progressive Web Apps** - Works offline, installable

### Responsive Design:
10. **Mobile-first CSS** - Start with mobile styles
11. **Viewport meta tag** - Essential for responsive
12. **Fluid layouts** - Use %, vw, fr units
13. **Media queries** - Breakpoints for different sizes
14. **Responsive images** - srcset and sizes
15. **Touch-friendly** - 44x44px minimum targets

### Component Patterns:
16. **Think in components** - Reusable, self-contained
17. **BEM naming** - Clear, consistent class names
18. **Template element** - For dynamic content
19. **Web Components** - Custom elements (advanced)

### Document Structure:
20. **Semantic landmarks** - header, nav, main, aside, footer
21. **Heading hierarchy** - One H1, logical H2-H6
22. **Clear outline** - Screen readers navigate by structure
23. **Skip links** - Accessibility for keyboard users

### Modern Patterns:
24. **Native dialog** - Modal without libraries
25. **Details/summary** - Accordion without JS
26. **Lazy loading** - loading="lazy" attribute
27. **Async/defer** - Non-blocking scripts
28. **Fetch API** - Modern AJAX
29. **IntersectionObserver** - Infinite scroll, lazy loading
30. **CSS Grid/Flexbox** - Modern layouts

### Best Practices:
31. **Separation of concerns** - HTML/CSS/JS separate
32. **Semantic HTML** - Meaningful elements
33. **Accessible by default** - ARIA when needed
34. **Performance-first** - Optimize from the start
35. **Security-aware** - CSP, sanitization
36. **SEO-friendly** - Meta tags, structured data
37. **Maintainable code** - Consistent patterns
38. **Future-proof** - Standards-based
39. **Test across browsers** - Chrome, Firefox, Safari, Edge
40. **Mobile matters most** - Mobile-first indexing

Master these modern patterns and you'll build professional, maintainable, future-proof websites! 🚀✨
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 7: Responsive Design - Interactive Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --card-bg: #f9f9f9;
            --border-color: #e0e0e0;
        }
        
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #1a1a1a;
                --text-color: #f0f0f0;
                --card-bg: #2a2a2a;
                --border-color: #444444;
            }
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            padding: 20px;
            color: var(--text-color);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .section {
            background: var(--bg-color);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .section-title {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        .demo-box {
            border: 2px solid var(--border-color);
            padding: 20px;
            border-radius: 8px;
            background: var(--card-bg);
            margin-bottom: 20px;
        }
        
        .demo-label {
            font-size: 0.9rem;
            color: var(--secondary-color);
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }
        
        .viewport-demo {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
        }
        
        .viewport-info {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        /* Breakpoint Visualizer */
        .breakpoint-viz {
            position: relative;
            height: 100px;
            background: linear-gradient(to right, 
                #e74c3c 0%, #e74c3c 33%, 
                #f39c12 33%, #f39c12 66%, 
                #2ecc71 66%, #2ecc71 100%);
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .breakpoint-label {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .bp-mobile { left: 16.5%; }
        .bp-tablet { left: 50%; }
        .bp-desktop { left: 83%; }
        
        .current-breakpoint {
            position: absolute;
            top: -30px;
            left: 0;
            background: white;
            color: var(--primary-color);
            padding: 5px 15px;
            border-radius: 6px;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: left 0.3s ease;
        }
        
        /* Responsive Grid Demo */
        .responsive-grid {
            display: grid;
            gap: 15px;
            grid-template-columns: 1fr;
        }
        
        @media (min-width: 640px) {
            .responsive-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .responsive-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .grid-item {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }
        
        /* Container Query Demo */
        .container-demo {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
        }
        
        .narrow-container,
        .wide-container {
            container-type: inline-size;
            container-name: card-container;
        }
        
        .responsive-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
        }
        
        @container card-container (min-width: 400px) {
            .responsive-card {
                display: grid;
                grid-template-columns: 1fr 2fr;
                gap: 15px;
            }
            
            .card-image {
                height: 100%;
            }
        }
        
        .card-image {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 6px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .card-content h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        /* Image Demo */
        .image-demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .image-container {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .demo-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .object-fit-cover {
            object-fit: cover;
        }
        
        .object-fit-contain {
            object-fit: contain;
            background: var(--card-bg);
        }
        
        /* Dark Mode Toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: all 0.3s;
        }
        
        .theme-toggle:hover {
            transform: scale(1.05);
        }
        
        body.dark-mode {
            --bg-color: #1a1a1a;
            --text-color: #f0f0f0;
            --card-bg: #2a2a2a;
            --border-color: #444444;
        }
        
        /* Code Output */
        .code-output {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin-top: 15px;
        }
        
        .property { color: #56b6c2; }
        .value { color: #98c379; }
        .comment { color: #5c6370; font-style: italic; }
        
        .info-badge {
            display: inline-block;
            background: #ff9800;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .highlight-box {
            background: #fff3cd;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            color: #856404;
        }
        
        body.dark-mode .highlight-box {
            background: #3a3a1a;
            color: #f0e68c;
        }
        
        /* Media Query Indicator */
        .mq-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        
        .mq-indicator::before {
            content: 'üì± Mobile';
        }
        
        @media (min-width: 640px) {
            .mq-indicator::before {
                content: 'üì± Tablet';
            }
        }
        
        @media (min-width: 1024px) {
            .mq-indicator::before {
                content: 'üñ•Ô∏è Desktop';
            }
        }
        
        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        @media (max-width: 768px) {
            .container-demo {
                grid-template-columns: 1fr;
            }
            
            .section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">üåì Toggle Dark Mode</button>
    <div class="mq-indicator"></div>
    
    <div class="container">
        <h1>üì± Chapter 7: Responsive Design - Interactive Demonstrations</h1>
        
        <!-- Viewport Units -->
        <div class="section">
            <h2 class="section-title">1. Viewport Units <span class="info-badge">Live!</span></h2>
            
            <div class="demo-box">
                <div class="demo-label">Viewport dimensions (resize window to see changes)</div>
                <div class="viewport-demo">
                    <div class="viewport-info">
                        Window: <span id="window-width">0</span>px √ó <span id="window-height">0</span>px
                    </div>
                    <div class="viewport-info">
                        50vw = <span id="vw-value">0</span>px | 50vh = <span id="vh-value">0</span>px
                    </div>
                    <div class="viewport-info">
                        50vmin = <span id="vmin-value">0</span>px | 50vmax = <span id="vmax-value">0</span>px
                    </div>
                </div>
            </div>
            
            <div class="code-output">
<span class="comment">/* Viewport units are relative to browser window size */</span>
<span class="property">width</span>: <span class="value">50vw</span>;  <span class="comment">/* 50% of viewport width */</span>
<span class="property">height</span>: <span class="value">50vh</span>; <span class="comment">/* 50% of viewport height */</span>
<span class="property">width</span>: <span class="value">50vmin</span>; <span class="comment">/* 50% of smaller dimension */</span>
<span class="property">width</span>: <span class="value">50vmax</span>; <span class="comment">/* 50% of larger dimension */</span>
            </div>
        </div>
        
        <!-- Breakpoints -->
        <div class="section">
            <h2 class="section-title">2. Responsive Breakpoints</h2>
            
            <div class="demo-box">
                <div class="demo-label">Standard breakpoints (resize window)</div>
                <div class="breakpoint-viz">
                    <div class="current-breakpoint" id="current-bp">Mobile</div>
                    <div class="breakpoint-label bp-mobile">üì± Mobile<br>&lt; 640px</div>
                    <div class="breakpoint-label bp-tablet">üì± Tablet<br>640-1024px</div>
                    <div class="breakpoint-label bp-desktop">üñ•Ô∏è Desktop<br>‚â• 1024px</div>
                </div>
                <p style="text-align: center; margin-top: 15px; font-weight: bold; color: var(--primary-color);">
                    Current: <span id="bp-text">Mobile</span> (<span id="bp-width">0</span>px)
                </p>
            </div>
            
            <div class="code-output">
<span class="comment">/* Mobile-first approach (recommended) */</span>
<span class="comment">/* Base styles (mobile) */</span>
<span class="property">font-size</span>: <span class="value">14px</span>;

<span class="comment">/* Tablet */</span>
<span class="value">@media (min-width: 640px)</span> {
    <span class="property">font-size</span>: <span class="value">16px</span>;
}

<span class="comment">/* Desktop */</span>
<span class="value">@media (min-width: 1024px)</span> {
    <span class="property">font-size</span>: <span class="value">18px</span>;
}
            </div>
        </div>
        
        <!-- Responsive Grid -->
        <div class="section">
            <h2 class="section-title">3. Responsive Grid with Media Queries</h2>
            
            <div class="demo-box">
                <div class="demo-label">Grid adapts to screen size (1 ‚Üí 2 ‚Üí 3 columns)</div>
                <div class="responsive-grid">
                    <div class="grid-item">Item 1</div>
                    <div class="grid-item">Item 2</div>
                    <div class="grid-item">Item 3</div>
                    <div class="grid-item">Item 4</div>
                    <div class="grid-item">Item 5</div>
                    <div class="grid-item">Item 6</div>
                </div>
            </div>
            
            <div class="code-output">
<span class="comment">/* Mobile: 1 column */</span>
<span class="property">grid-template-columns</span>: <span class="value">1fr</span>;

<span class="comment">/* Tablet: 2 columns */</span>
<span class="value">@media (min-width: 640px)</span> {
    <span class="property">grid-template-columns</span>: <span class="value">repeat(2, 1fr)</span>;
}

<span class="comment">/* Desktop: 3 columns */</span>
<span class="value">@media (min-width: 1024px)</span> {
    <span class="property">grid-template-columns</span>: <span class="value">repeat(3, 1fr)</span>;
}
            </div>
        </div>
        
        <!-- Container Queries -->
        <div class="section">
            <h2 class="section-title">4. Container Queries <span class="info-badge">Modern!</span></h2>
            
            <div class="highlight-box">
                üí° <strong>Container queries</strong> let components respond to their container size, not viewport size!
            </div>
            
            <div class="demo-box">
                <div class="demo-label">Same card component in different containers</div>
                <div class="container-demo">
                    <div class="narrow-container">
                        <p style="text-align: center; margin-bottom: 10px; font-weight: bold; color: var(--primary-color);">Narrow Container</p>
                        <div class="responsive-card">
                            <div class="card-image">Image</div>
                            <div class="card-content">
                                <h3>Card Title</h3>
                                <p>Stacked layout in narrow container</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="wide-container">
                        <p style="text-align: center; margin-bottom: 10px; font-weight: bold; color: var(--primary-color);">Wide Container</p>
                        <div class="responsive-card">
                            <div class="card-image">Image</div>
                            <div class="card-content">
                                <h3>Card Title</h3>
                                <p>Grid layout in wide container (same component, different layout!)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="code-output">
<span class="comment">/* Define container */</span>
<span class="property">container-type</span>: <span class="value">inline-size</span>;
<span class="property">container-name</span>: <span class="value">card-container</span>;

<span class="comment">/* Query the container, not viewport! */</span>
<span class="value">@container card-container (min-width: 400px)</span> {
    <span class="selector">.responsive-card</span> {
        <span class="property">display</span>: <span class="value">grid</span>;
        <span class="property">grid-template-columns</span>: <span class="value">1fr 2fr</span>;
    }
}
            </div>
        </div>
        
        <!-- Object Fit -->
        <div class="section">
            <h2 class="section-title">5. object-fit for Images</h2>
            
            <div class="demo-box">
                <div class="demo-label">Different object-fit values</div>
                <div class="image-demo-grid">
                    <div class="image-container">
                        <div style="text-align: center; padding: 10px; font-weight: bold; color: var(--primary-color);">cover</div>
                        <div class="demo-image object-fit-cover" style="background: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 400 300%22><rect fill=%22%23667eea%22 width=%22400%22 height=%22300%22/><text x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 fill=%22white%22 font-size=%2230%22 dy=%22.3em%22>400√ó300</text></svg>') center/cover no-repeat;">
                            Fills container, may crop
                        </div>
                    </div>
                    
                    <div class="image-container">
                        <div style="text-align: center; padding: 10px; font-weight: bold; color: var(--primary-color);">contain</div>
                        <div class="demo-image object-fit-contain" style="background: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 400 300%22><rect fill=%22%23764ba2%22 width=%22400%22 height=%22300%22/><text x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 fill=%22white%22 font-size=%2230%22 dy=%22.3em%22>400√ó300</text></svg>') center/contain no-repeat;">
                            Shows all, may have gaps
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="code-output">
<span class="comment">/* Cover: Fill container, may crop */</span>
<span class="selector">img</span> {
    <span class="property">object-fit</span>: <span class="value">cover</span>;
}

<span class="comment">/* Contain: Show entire image, may have gaps */</span>
<span class="selector">img</span> {
    <span class="property">object-fit</span>: <span class="value">contain</span>;
}
            </div>
        </div>
        
        <!-- Dark Mode -->
        <div class="section">
            <h2 class="section-title">6. Dark Mode Support</h2>
            
            <div class="demo-box">
                <div class="demo-label">Click "Toggle Dark Mode" button (top-right) to test</div>
                <p style="margin: 15px 0;">This entire page supports dark mode using CSS custom properties and prefers-color-scheme media query.</p>
                <p>The page automatically adapts to your system preference, or you can toggle manually!</p>
            </div>
            
            <div class="code-output">
<span class="comment">/* Define color variables */</span>
<span class="selector">:root</span> {
    <span class="property">--bg-color</span>: <span class="value">#ffffff</span>;
    <span class="property">--text-color</span>: <span class="value">#333333</span>;
}

<span class="comment">/* Dark mode */</span>
<span class="value">@media (prefers-color-scheme: dark)</span> {
    <span class="selector">:root</span> {
        <span class="property">--bg-color</span>: <span class="value">#1a1a1a</span>;
        <span class="property">--text-color</span>: <span class="value">#f0f0f0</span>;
    }
}

<span class="comment">/* Use variables */</span>
<span class="selector">body</span> {
    <span class="property">background</span>: <span class="value">var(--bg-color)</span>;
    <span class="property">color</span>: <span class="value">var(--text-color)</span>;
}
            </div>
        </div>
        
        <!-- Key Takeaways -->
        <div class="section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
            <h2 class="section-title" style="color: white; border-bottom-color: white;">üéØ Key Takeaways</h2>
            <ul style="list-style: none; padding: 0;">
                <li style="padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 6px;">
                    ‚úì <strong>Mobile-First:</strong> Start with mobile styles, use min-width media queries
                </li>
                <li style="padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 6px;">
                    ‚úì <strong>Viewport Units:</strong> vw, vh, vmin, vmax (use dvh for mobile!)
                </li>
                <li style="padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 6px;">
                    ‚úì <strong>Breakpoints:</strong> Mobile < 640px, Tablet 640-1024px, Desktop ‚â• 1024px
                </li>
                <li style="padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 6px;">
                    ‚úì <strong>Container Queries:</strong> Components respond to container, not viewport!
                </li>
                <li style="padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 6px;">
                    ‚úì <strong>Accessibility:</strong> Support prefers-reduced-motion and prefers-color-scheme
                </li>
                <li style="padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 6px;">
                    ‚úì <strong>Images:</strong> Use srcset/sizes for responsive images, object-fit for layout
                </li>
            </ul>
        </div>
    </div>
    
    <script>
        // Update viewport dimensions
        function updateViewportInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            
            document.getElementById('window-width').textContent = width;
            document.getElementById('window-height').textContent = height;
            document.getElementById('vw-value').textContent = Math.round(width * 0.5);
            document.getElementById('vh-value').textContent = Math.round(height * 0.5);
            document.getElementById('vmin-value').textContent = Math.round(Math.min(width, height) * 0.5);
            document.getElementById('vmax-value').textContent = Math.round(Math.max(width, height) * 0.5);
            
            // Update breakpoint indicator
            const bpIndicator = document.getElementById('current-bp');
            const bpText = document.getElementById('bp-text');
            const bpWidth = document.getElementById('bp-width');
            
            bpWidth.textContent = width;
            
            if (width < 640) {
                bpIndicator.style.left = '16.5%';
                bpText.textContent = 'Mobile';
            } else if (width < 1024) {
                bpIndicator.style.left = '50%';
                bpText.textContent = 'Tablet';
            } else {
                bpIndicator.style.left = '83%';
                bpText.textContent = 'Desktop';
            }
        }
        
        // Dark mode toggle
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        } else if (savedTheme === 'light') {
            document.body.classList.remove('dark-mode');
        }
        
        // Initialize and listen for resize
        updateViewportInfo();
        window.addEventListener('resize', updateViewportInfo);
    </script>
</body>
</html>